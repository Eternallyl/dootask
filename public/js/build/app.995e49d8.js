import{m as yt}from"./@micro-zoe.c2e1472d.js";import{v as vt}from"./jquery.59e618ff.js";import{v as bt}from"./localforage.78abc453.js";import{m as lt}from"./markdown-it.7c737f4d.js";import{H as me}from"./highlight.js.1d50a63d.js";import{m as At}from"./markdown-it-link-attributes.e1d5d151.js";import{m as kt}from"./@traptitech.88860da3.js";import{V as S}from"./vue.1f6d1fff.js";import{m as Y,a as ct,V as Ee}from"./vuex.cc7cb26e.js";import{a as _e}from"./axios.6ec123f8.js";import{l as V}from"./le5le-store.b40f9152.js";import{_ as k,c as $t,V as St,d as Et,n as Tt,l as It,W as Ct,p as Dt,r as xt}from"./openpgp_hi.15f91b1d.js";import{V as pe}from"./vue-router.2d566cd7.js";import{V as Mt}from"./vue-clipboard2.14cddeec.js";import{V as F}from"./view-design-hi.8f621b1c.js";import{D as Lt}from"./vuedraggable.d4178698.js";import{V as Ot}from"./vue-resize-observer.f25572a9.js";import{e as se}from"./element-sea.dea177ef.js";import"./entities.797c3e49.js";import"./uc.micro.39573202.js";import"./mdurl.2f66c031.js";import"./linkify-it.3ecfda1e.js";import"./punycode.1f25cbf2.js";import"./katex.4a7ead58.js";import"./clipboard.a5ccae61.js";import"./sortablejs.ccb26b57.js";import"./deepmerge.cecf392e.js";import"./resize-observer-polyfill.cc119aac.js";import"./throttle-debounce.7c3948b2.js";import"./babel-helper-vue-jsx-merge-props.5ed215c3.js";import"./normalize-wheel.2a034b9f.js";import"./async-validator.87a1f938.js";import"./babel-runtime.4773988a.js";import"./core-js.314b4a1d.js";function Pt(){let e={},i={loader(t,n){return t}};e["micro-app"]=[i],e["okr-details"]=[i],yt.start({plugins:{modules:e}})}var Rt={languageList:{zh:"\u7B80\u4F53\u4E2D\u6587","zh-CHT":"\u7E41\u9AD4\u4E2D\u6587",en:"English",ko:"\uD55C\uAD6D\uC5B4",ja:"\u65E5\u672C\u8A9E",de:"Deutsch",fr:"Fran\xE7ais",id:"Indonesia"},replaceArgumentsLanguage(e,i){let t=1;for(;e.indexOf("(*)")!==-1;)typeof i[t]=="object"?e=e.replace("(*)",""):e=e.replace("(*)",i[t]),t++;return e},replaceEscape(e){return!e||e==""?"":e.replace(/\(\*\)/g,"~%~").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/~%~/g,"(.*?)")},getLanguage(){let e=window.localStorage.getItem("__system:languageName__");if(typeof e=="string"&&typeof this.languageList[e]!="undefined")return e;e="en";let i=((window.navigator.language||navigator.userLanguage)+"").toLowerCase();switch(i){case"zh":case"cn":case"zh-cn":e="zh";break;case"zh-tw":case"zh-tr":case"zh-hk":case"zh-cnt":case"zh-cht":e="zh-CHT";break;default:typeof this.languageList[i]!="undefined"&&(e=i);break}return this.saveLanguage(e),e},saveLanguage(e){window.localStorage.setItem("__system:languageName__",e)}};const ae=Rt,Nt=ae.languageList,Q=ae.getLanguage(),te={};typeof window.LANGUAGE_DATA=="undefined"&&(window.LANGUAGE_DATA={});function Sr(e){if(!$A.isArray(e))return;const i=Object.assign(Object.keys(Nt));e.some(t=>{let n=-1;t.key&&i.some(s=>{const r=t[s]||t.general||null;r&&typeof window.LANGUAGE_DATA[s]!="undefined"&&(n=window.LANGUAGE_DATA[s].push(r)-1)}),n>-1&&(window.LANGUAGE_DATA.key[t.key]=n)})}function Bt(e,i=!1){e!==void 0&&(i?(ae.saveLanguage(e),$A.reloadUrl()):$A.modalConfirm({content:"\u5207\u6362\u8BED\u8A00\u9700\u8981\u5237\u65B0\u540E\u751F\u6548\uFF0C\u662F\u5426\u786E\u5B9A\u5237\u65B0\uFF1F",cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A",onOk:()=>Bt(e,!0)}))}function Te(e){var t;if(typeof arguments[1]!="undefined")return Te(ae.replaceArgumentsLanguage(e,arguments));if(typeof e!="string"||!e||typeof window.LANGUAGE_DATA=="undefined"||typeof window.LANGUAGE_DATA.key=="undefined"||typeof window.LANGUAGE_DATA[Q]=="undefined")return e;const i=window.LANGUAGE_DATA.key[e]||-1;if(i>-1)return window.LANGUAGE_DATA[Q][i]||e;if(typeof te[e]=="undefined"){te[e]=!1;for(let n in window.LANGUAGE_DATA.key)if(n.indexOf("(*)")>-1){const s=new RegExp("^"+ae.replaceEscape(n)+"$","g");if(s.test(e)){let r=0;const a=window.LANGUAGE_DATA.key[n],o=(t=window.LANGUAGE_DATA[Q][a]||n)==null?void 0:t.replace(/\(\*\)/g,function(){return"$"+ ++r});te[e]={rege:s,value:o};break}}}return te[e]?e.replace(te[e].rege,te[e].value):(window.systemInfo.debug==="yes"&&setTimeout(n=>{try{let s="__language:Undefined__",r=JSON.parse(window.localStorage.getItem(s)||"[]");$A.isArray(r)||(r=[]);let a=null;r.find(l=>(a=new RegExp("^"+l.replace(/\(\*\)/g,"(.*?)")+"$","g"),!!e.match(a)))||(r.push(e),window.localStorage.setItem(s,JSON.stringify(r)))}catch{}},10),e)}const Z=bt;(function(e,i,t){e.systemInfo=e.systemInfo||{},e.modalTransferIndex=1e3,Z.config({name:"DooTask",storeName:"common"}),i.extend({isArray(n){return typeof n=="object"&&Object.prototype.toString.call(n).toLowerCase()=="[object array]"&&typeof n.length=="number"},isJson(n){return typeof n=="object"&&Object.prototype.toString.call(n).toLowerCase()=="[object object]"&&typeof n.length=="undefined"},inArray(n,s,r=!1){return this.isArray(s)?r?!!s.find(a=>a&&a.indexOf("*")&&new RegExp("^"+a.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*")+"$","g").test(n)?!0:a==n):s.includes(n):!1},randNum(n,s){let r=s-n,a=Math.random();return n+Math.round(a*r)},last(n){let s=!1;return typeof n=="object"&&n.length>0&&(s=n[n.length-1]),s},strExists(n,s,r=!1){return n+="",s+="",r!==!0&&(n=n.toLowerCase(),s=s.toLowerCase()),n.indexOf(s)!==-1},leftExists(n,s,r=!1){return n+="",s+="",r!==!0&&(n=n.toLowerCase(),s=s.toLowerCase()),n.substring(0,s.length)===s},leftDelete(n,s,r=!1){return n+="",s+="",this.leftExists(n,s,r)&&(n=n.substring(s.length)),n||""},rightExists(n,s,r=!1){return n+="",s+="",r!==!0&&(n=n.toLowerCase(),s=s.toLowerCase()),n.substring(n.length-s.length)===s},rightDelete(n,s,r=!1){return n+="",s+="",this.rightExists(n,s,r)&&(n=n.substring(0,n.length-s.length)),n||""},getMiddle(n,s=null,r=null){return n=n.toString(),this.isHave(s)&&this.strExists(n,s)&&(n=n.substring(n.indexOf(s)+s.length)),this.isHave(r)&&this.strExists(n,r)&&(n=n.substring(0,n.indexOf(r))),n},subString(n,s,r){return n+="",this.isHave(r)||(r=n.length),n.substring(s,r)},randomString(n){n=n||32;let s="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678oOLl9gqVvUuI1",r=s.length,a="";for(let o=0;o<n;o++)a+=s.charAt(Math.floor(Math.random()*r));return a},isHave(n){return!!(n!==null&&n!=="null"&&n!==t&&n!=="undefined"&&n)},runNum(n,s=null){let r=Number(n);if(r+""=="NaN"&&(r=0),s&&/^[0-9]*[1-9][0-9]*$/.test(s)&&(r=r.toFixed(s),r.indexOf(".")<0)){r+=".";for(let o=0;o<s;o++)r+="0"}return r},Time(n=t){let s;return typeof n=="string"&&this.strExists(n,"-")?(n=n.replace(/-/g,"/"),s=new Date(n).getTime()):s=new Date().getTime(),Math.round(s/1e3)},TimeM(n=t,s=!0){let r;return typeof n=="string"&&this.strExists(n,"-")?(n=n.replace(/-/g,"/"),r=new Date(n).getTime(),s&&n.indexOf(".")===-1&&(r=parseInt(`${Math.round(r/1e3)}${new Date().getMilliseconds()}`))):r=new Date().getTime(),r},Date(n,s=!1){return typeof n=="string"&&this.strExists(n,"-")&&(n=n.replace(/-/g,"/")),s===!0?Math.round(new Date(n).getTime()/1e3):new Date(n)},zeroFill(n,s,r){if(n+="",n.length>=s)return n;let a="",o="";for(let l=0;l<s;l++)a+="0";return r||typeof r=="undefined"?o=(a+""+n).substr(s*-1):o=(n+""+a).substr(0,s),o},formatDate(n,s){(typeof n=="undefined"||n==="")&&(n="Y-m-d H:i:s");let r;if(s instanceof Date)r=s;else{if(typeof s=="undefined")s=new Date().getTime();else if(/^(-)?\d{1,10}$/.test(s))s=s*1e3;else if(/^(-)?\d{1,13}$/.test(s))s=s*1e3;else if(/^(-)?\d{1,14}$/.test(s))s=s*100;else if(/^(-)?\d{1,15}$/.test(s))s=s*10;else if(/^(-)?\d{1,16}$/.test(s))s=s*1;else return s;r=$A.Date(s)}return n=n.replace(/Y/g,r.getFullYear()),n=n.replace(/m/g,this.zeroFill(r.getMonth()+1,2)),n=n.replace(/d/g,this.zeroFill(r.getDate(),2)),n=n.replace(/H/g,this.zeroFill(r.getHours(),2)),n=n.replace(/i/g,this.zeroFill(r.getMinutes(),2)),n=n.replace(/s/g,this.zeroFill(r.getSeconds(),2)),n},timeDiff(n,s){typeof s=="undefined"&&(s=$A.Time());let r=s-n;if(r>86400){let a=Math.floor(r/86400),o=Math.ceil((r-a*86400)/3600);return o>0?a+"\u5929"+o+"\u5C0F\u65F6":a+"\u5929"}else return r>3600?Math.ceil(r/3600)+"\u5C0F\u65F6":r>60?Math.ceil(r/60)+"\u5206\u949F":r>10?r+"\u79D2":"\u521A\u521A"},isMobile(n){return/^1([3456789])\d{9}$/.test(n)},isEmail(n){return/^([0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\w]*\.)+[a-zA-Z]*)$/i.test(n)},getDistance(n,s,r,a){let o=3.14159265359,l=6.28318530712,c=.01745329252,u=63706935e-1,f,d,h,p,w,g,M,A;return f=n*c,d=s*c,h=r*c,p=a*c,M=f-h,M>o?M=l-M:M<-o&&(M=l+M),w=u*Math.cos(d)*M,g=u*(d-p),A=Math.sqrt(w*w+g*g).toFixed(0),A},setTile(n){document.title=n;let s=navigator.userAgent.toLowerCase();if(/iphone|ipad|ipod/.test(s)){let r=document.createElement("iframe");r.style.display="none",r.setAttribute("src","/favicon.ico");let a=function(){setTimeout(function(){r.removeEventListener("load",a),document.body.removeChild(r)},0)};r.addEventListener("load",a),document.body.appendChild(r)}},cloneJSON(n){return typeof n!="object"||n===null?n:$A.jsonParse($A.jsonStringify(n))},jsonParse(n,s=t){if(n===null)return s||{};if(typeof n=="object")return n;try{return JSON.parse(n.replace(/\n/g,"\\n").replace(/\r/g,"\\r"))}catch{return s||{}}},jsonStringify(n,s=t){if(typeof n!="object")return n;try{return JSON.stringify(n)}catch{return s||""}},resize(n,s){let r=$A(n);if(r.length===0)return;let a=parseInt(r.outerHeight()),o=parseInt(r.outerWidth()),l=setInterval(()=>{r.length===0&&clearInterval(l);let c=parseInt(r.outerHeight()),u=parseInt(r.outerWidth());(a!==c||o!==u)&&(a=c,o=u,console.log(o,a),typeof s=="function"&&s())},250)},screenOrientation(){return $A(e).width()-$A(e).height()>50?"landscape":"portrait"},isIos(){let n=typeof e!="undefined"&&e.navigator.userAgent.toLowerCase();return n&&/iphone|ipad|ipod|ios/.test(n)},isAndroid(){let n=typeof e!="undefined"&&e.navigator.userAgent.toLowerCase();return n&&n.indexOf("android")>0},isWeixin(){return(typeof e!="undefined"&&e.navigator.userAgent.toLowerCase()).match(/MicroMessenger/i)+""=="micromessenger"},isChrome(){return(typeof e!="undefined"&&e.navigator.userAgent.toLowerCase()).match(/Chrome/i)+""=="chrome"},isDesktop(){return!(typeof e!="undefined"&&e.navigator.userAgent).match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},getObject(n,s){let r=n;return this.count(n)===0||this.count(s)===0?"":(s.replace(/,/g,"|").replace(/\./g,"|").split("|").some(o=>{r=typeof r[o]=="undefined"?"":r[o]}),r)},count(n){try{if(typeof n=="undefined")return 0;if(typeof n=="number"&&(n+=""),typeof n.length=="number")return n.length;{let s=0,r;for(r in n)s++;return s}}catch{return 0}},stringLength(n){return typeof n=="number"||typeof n=="string"?(n+"").length:0},arrayLength(n){if(n)try{return n.length}catch{return 0}return 0},objImplode(n){if(n===null)return"";let s="";return $A.each(n,(r,a)=>{a!==null&&(typeof a=="object"&&this.count(a)>0?s+=this.objImplode(a):s+=String(a))}),s.replace(/\s/g,"").replace(/undefined/g,"")},urlParameter(n){let s=this.urlParameterAll();return typeof n=="undefined"?s:s[n]},urlParameterAll(){let n=e.location.search||e.location.hash||"",s=[];this.strExists(n,"?")&&(s=this.getMiddle(n,"?").split("&"));let r={};for(let a=0;a<s.length;a++){let o=s[a].split("=");o.length===2&&(r[o[0]]=o[1])}return r},removeURLParameter(n,s){if(s instanceof Array)return s.forEach(a=>{n=$A.removeURLParameter(n,a)}),n;let r=n.split("?");if(r.length>=2){let a=encodeURIComponent(s)+"=",o=r[1].split(/[&;]/g);for(let l=o.length;l-- >0;)o[l].lastIndexOf(a,0)!==-1&&o.splice(l,1);return r[0]+(o.length>0?"?"+o.join("&"):"")}return n},urlAddParams(n,s){if($A.isJson(s)){n&&(n=this.removeURLParameter(n,Object.keys(s))),n+="",n+=n.indexOf("?")===-1?"?":"";for(let r in s)!s.hasOwnProperty(r)||(n+="&"+r+"="+s[r])}return this.rightDelete(n.replace("?&","?"),"?")},reloadUrl(){if($A.isEEUiApp&&$A.isAndroid()){let n=e.location.href,s="_=",r=new RegExp(s+"\\d+"),a=this.Time();if(n.indexOf(s)>-1)n=n.replace(r,s+a);else if(n.indexOf("?")>-1){let o=n.split("?");o[1]?n=o[0]+"?"+s+a+"&"+o[1]:n=o[0]+"?"+s+a}else n.indexOf("#")>-1?n=n.split("#")[0]+"?"+s+a+location.hash:n=n+"?"+s+a;$A.eeuiAppSetUrl(n)}else e.location.reload()},stringConnect(...n){let s=null,r="";return n.forEach(a=>{s===null?s=a:a&&(a&&r&&(r+=s),r+=a)}),r},objEquals(n,s){let r=n instanceof Object,a=s instanceof Object;if(!r||!a)return n===s;if(Object.keys(n).length!==Object.keys(s).length)return!1;for(let o in n)if(n.hasOwnProperty(o)){let l=n[o]instanceof Object,c=s[o]instanceof Object;if(l&&c){if(!this.objEquals(n[o],s[o]))return!1}else if(n[o]!=s[o])return!1}return!0},insert2Input(n,s){if(n===null||typeof n!="object")return;typeof n.length=="number"&&n.length>0&&(n=n[0]);let r=typeof n.$el=="object"?$A(n.$el):$A(n);if(r.length===0)return;let a=r[0];if(a.tagName!="INPUT"&&a.tagName!="TEXTAREA"&&(r.find("input").length===0?r=r.find("textarea"):r=r.find("input")),r.length===0||(a=r[0],a.tagName!="INPUT"&&a.tagName!="TEXTAREA"))return;let o=r.val(),{selectionStart:l,selectionEnd:c}=a;r.val(`${o.substring(0,l)}${s}${o.substring(c,o.length)}`),a.dispatchEvent(new Event("input")),setTimeout(()=>{if(a.setSelectionRange){let u=o.substring(0,l).length+s.length;a.focus(),a.setSelectionRange(u,u)}},10)},iOSKeyboardFixer(){!this.isIos()||(document.body.scrollTop=document.body.scrollTop+1,document.body.scrollTop=document.body.scrollTop-1)},loadScript(n){return new Promise(async(s,r)=>{if(n=$A.originUrl(n),this.rightExists(n,".css"))return s(this.loadCss(n));let a=0;for(;this.__loadScript[n]==="loading";)if(await new Promise(l=>setTimeout(l,1e3)),a++,a>30)return r("\u52A0\u8F7D\u8D85\u65F6");if(this.__loadScript[n]==="loaded")return s(!1);this.__loadScript[n]="loading";const o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=()=>{(o.readyState==="loaded"||o.readyState==="complete")&&(o.onreadystatechange=null,this.__loadScript[n]="loaded",s(!0))}:(o.onload=()=>{this.__loadScript[n]="loaded",s(!0)},o.onerror=l=>{this.__loadScript[n]="error",r(l)}),this.rightExists(n,".js")?o.src=n+"?hash="+e.systemInfo.version:o.src=n,document.body.appendChild(o)})},loadScriptS(n){return new Promise(s=>{let r=0;const a=()=>{++r<n.length?this.loadScript(n[r]).finally(a):s()};this.loadScript(n[0]).finally(a)})},__loadScript:{},loadCss(n){return new Promise(async(s,r)=>{if(n=$A.originUrl(n),this.rightExists(n,".js"))return s(this.loadScript(n));let a=0;for(;this.__loadCss[n]==="loading";)if(await new Promise(l=>setTimeout(l,1e3)),a++,a>30)return r("\u52A0\u8F7D\u8D85\u65F6");if(this.__loadCss[n]==="loaded")return s(!1);this.__loadCss[n]="loading";const o=document.createElement("link");o.readyState?o.onreadystatechange=()=>{(o.readyState=="loaded"||o.readyState=="complete")&&(o.onreadystatechange=null,this.__loadCss[n]="loaded",s(!0))}:(o.onload=()=>{this.__loadCss[n]="loaded",s(!0)},o.onerror=l=>{this.__loadCss[n]="error",r(l)}),o.rel="stylesheet",this.rightExists(n,".css")?o.href=n+"?hash="+e.systemInfo.version:o.href=n,document.getElementsByTagName("head").item(0).appendChild(o)})},loadCssS(n){return new Promise(s=>{let r=0;const a=()=>{++r<n.length?this.loadCss(n[r]).finally(a):s()};this.loadCss(n[0]).finally(a)})},__loadCss:{},loadIframe(n,s=0){return new Promise(async(r,a)=>{n=$A.originUrl(n);let o=0;for(;this.__loadIframe[n]==="loading";)if(await new Promise(c=>setTimeout(c,1e3)),o++,o>30)return a("\u52A0\u8F7D\u8D85\u65F6");if(this.__loadIframe[n]==="loaded")return r(!1);this.__loadIframe[n]="loading";const l=document.createElement("iframe");l.style.display="none",l.src=n,l.onload=()=>{this.__loadIframe[n]="loaded",r(!0),s>0&&setTimeout(()=>{document.body.removeChild(l),delete this.__loadIframe[n]},s)},l.onerror=c=>{this.__loadIframe[n]="error",a(c)},document.body.appendChild(l)})},loadIframes(n){return new Promise(s=>{let r=0;const a=()=>{++r<n.length?this.loadIframe(n[r]).finally(a):s()};this.loadIframe(n[0]).finally(a)})},__loadIframe:{},date2string(n,s){if(n===null)return n;if(typeof s=="undefined"&&(s="Y-m-d H:i:s"),n instanceof Date)n=$A.formatDate(s,n);else if($A.isJson(n)){n=Object.assign({},n);for(let r in n)!n.hasOwnProperty(r)||(n[r]=$A.date2string(n[r],s))}else $A.isArray(n)&&(n=Object.assign([],n),n.forEach((r,a)=>{n[a]=$A.date2string(r,s)}));return n},bytesToSize(n){if(n===0)return"0 B";let s=1024,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(n)/Math.log(s));return typeof r[a]=="undefined"?"0 B":$A.runNum(n/Math.pow(s,a),2)+" "+r[a]},html2Escape(n){return!n||n==""?"":n.replace(/[<>&"]/g,function(s){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[s]})},getDomain(n){let s=/http(s)?:\/\/([^\/]+)/i,r=(n+"").match(s);return r!=null&&r.length>0?r[2]:""},scrollToView(n,s){if(!!n){if(typeof s=="undefined"||s===!0?s={block:"start",inline:"nearest"}:s===!1&&(s={block:"end",inline:"nearest"}),typeof s.scrollMode!="undefined"&&typeof e.scrollIntoView=="function"){e.scrollIntoView(n,s);return}try{n.scrollIntoView(s)}catch{typeof e.scrollIntoView=="function"&&e.scrollIntoView(n,s)}}},scrollIntoViewIfNeeded(n){!n||(typeof n.scrollIntoViewIfNeeded=="function"?n.scrollIntoViewIfNeeded():$A.scrollToView(n,{block:"nearest",inline:"nearest"}))},scaleToScale(n,s,r,a){let o,l;return n>0&&s>0?(n/s>=r/a?n>r?(o=r,l=s*r/n):(o=n,l=s):s>a?(l=a,o=n*a/s):(o=n,l=s),{width:parseInt(o),height:parseInt(l)}):{width:n,height:s}},scrollPreventThrough(n){if(!n||n.getAttribute("data-prevent-through")==="yes")return;n.setAttribute("data-prevent-through","yes");let s=null;n.addEventListener("touchstart",function(r){s=Math.floor(r.targetTouches[0].clientY)}),n.addEventListener("touchmove",function(r){let a=Math.floor(r.targetTouches[0].clientY),o=n.scrollTop,l=n.scrollHeight,c=n.clientHeight;(o<=0&&a-s>0||o>=l-c&&a-s<0)&&r.preventDefault()},!1)},getAttr(n,s,r=""){return n?n.getAttribute(s):r},onBlur(n=null,s=!1){setTimeout(r=>{if($A.eeuiAppKeyboardHide(),typeof n=="boolean"&&(s=n,n=null),n)n.blur();else if(document.activeElement)if(s===!0&&document.activeElement.tagName==="BODY"){let a=document.getElementById("toLoseFocusInput");a||(a=document.createElement("input"),a.id="toLoseFocusInput",a.type="text",a.style.position="fixed",a.style.top="0px",a.style.left="0px",a.style.zIndex="-1",a.style.opacity="0",a.addEventListener("focus",o=>{document.activeElement.blur()}),document.body.appendChild(a)),setTimeout(o=>{a.focus()},1)}else document.activeElement.blur()},1)},sortObject(n,s=[]){return Object.keys(n).sort().reduce(function(r,a){return s.includes(a)||(r[a]=n[a]),r},{})}}),i.extend({__IDBTimer:{},IDBSave(n,s,r=100){typeof this.__IDBTimer[n]!="undefined"&&(clearTimeout(this.__IDBTimer[n]),delete this.__IDBTimer[n]),this.__IDBTimer[n]=setTimeout(async a=>{await Z.setItem(n,s)},r)},IDBDel(n){Z.removeItem(n).then(s=>{})},IDBSet(n,s){return Z.setItem(n,s)},IDBRemove(n){return Z.removeItem(n)},IDBClear(){return Z.clear()},IDBValue(n){return Z.getItem(n)},async IDBString(n,s=""){const r=await this.IDBValue(n);return typeof r=="string"||typeof r=="number"?r:s},async IDBInt(n,s=0){const r=await this.IDBValue(n);return typeof r=="number"?r:s},async IDBBoolean(n,s=!1){const r=await this.IDBValue(n);return typeof r=="boolean"?r:s},async IDBArray(n,s=[]){const r=await this.IDBValue(n);return this.isArray(r)?r:s},async IDBJson(n,s={}){const r=await this.IDBValue(n);return this.isJson(r)?r:s}}),i.extend({setStorage(n,s){return this.__operationStorage(n,s)},getStorageValue(n){return this.__operationStorage(n)},getStorageString(n,s=""){let r=this.__operationStorage(n);return typeof r=="string"||typeof r=="number"?r:s},getStorageInt(n,s=0){let r=this.__operationStorage(n);return typeof r=="number"?r:s},getStorageBoolean(n,s=!1){let r=this.__operationStorage(n);return typeof r=="boolean"?r:s},getStorageArray(n,s=[]){let r=this.__operationStorage(n);return this.isArray(r)?r:s},getStorageJson(n,s={}){let r=this.__operationStorage(n);return this.isJson(r)?r:s},__operationStorage(n,s){if(!n)return;let r="__state__";if(n.substring(0,5)==="cache"&&(r="__state:"+n+"__"),typeof s=="undefined")return this.__loadFromlLocal(n,"",r);this.__savaToLocal(n,s,r)},__savaToLocal(n,s,r){try{typeof r=="undefined"&&(r="__seller__");let a=e.localStorage[r];a?a=JSON.parse(a):a={},a[n]=s,e.localStorage[r]=JSON.stringify(a)}catch{}},__loadFromlLocal(n,s,r){try{typeof r=="undefined"&&(r="__seller__");let a=e.localStorage[r];return!a||(a=JSON.parse(a),!a||typeof a[n]=="undefined")?s:a[n]}catch{return s}}}),i.extend({setSessionStorage(n,s){return this.__operationSessionStorage(n,s)},getSessionStorageValue(n){return this.__operationSessionStorage(n)},getSessionStorageString(n,s=""){let r=this.__operationSessionStorage(n);return typeof r=="string"||typeof r=="number"?r:s},getSessionStorageInt(n,s=0){let r=this.__operationSessionStorage(n);return typeof r=="number"?r:s},__operationSessionStorage(n,s){if(!n)return;let r="__state__";if(n.substring(0,5)==="cache"&&(r="__state:"+n+"__"),typeof s=="undefined")return this.__loadFromlSession(n,"",r);this.__savaToSession(n,s,r)},__savaToSession(n,s,r){try{typeof r=="undefined"&&(r="__seller__");let a=e.sessionStorage.getItem(r);a?a=JSON.parse(a):a={},a[n]=s,e.sessionStorage.setItem(r,JSON.stringify(a))}catch{}},__loadFromlSession(n,s,r){try{typeof r=="undefined"&&(r="__seller__");let a=e.sessionStorage.getItem(r);return!a||(a=JSON.parse(a),!a||typeof a[n]=="undefined")?s:a[n]}catch{return s}}}),i.extend({serializeObject(n,s){if(typeof n=="string")return n;let r=[],a="&";s=s||[];let o;function l(u){if(s.length>0){let f="";for(let d=0;d<s.length;d++)d===0?f+=s[d]:f+="["+encodeURIComponent(s[d])+"]";return f+"["+encodeURIComponent(u)+"]"}else return encodeURIComponent(u)}function c(u){return encodeURIComponent(u)}for(let u in n)if(n.hasOwnProperty(u)){let f;if(Array.isArray(n[u])){f=[];for(let d=0;d<n[u].length;d++)!Array.isArray(n[u][d])&&typeof n[u][d]=="object"?(o=s.slice(),o.push(u),o.push(d+""),f.push(i.serializeObject(n[u][d],o))):f.push(l(u)+"[]="+c(n[u][d]));f.length>0&&r.push(f.join(a))}else n[u]===null?r.push(l(u)+"="):typeof n[u]=="object"?(o=s.slice(),o.push(u),f=i.serializeObject(n[u],o),f!==""&&r.push(f)):typeof n[u]!="undefined"&&n[u]!==""?r.push(l(u)+"="+c(n[u])):n[u]===""&&r.push(l(u))}return r.join(a)},globalAjaxOptions:{},ajaxSetup(n){n.type&&(n.method=n.type),i.each(n,function(s,r){i.globalAjaxOptions[s]=r})},_jsonpRequests:0,ihttp(n){let s={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},r=["beforeSend","error","complete","success","statusCode"];n.type&&(n.method=n.type),i.each(i.globalAjaxOptions,function(d,h){r.indexOf(d)<0&&(s[d]=h)});function a(d,h,p){let w=arguments;d&&i(document).trigger(d,h),p&&(p in i.globalAjaxOptions&&i.globalAjaxOptions[p](w[3],w[4],w[5],w[6]),n[p]&&n[p](w[3],w[4],w[5],w[6]))}i.each(s,function(d,h){d in n||(n[d]=h)}),n.url||(n.url=e.location.toString());let o=n.url.indexOf("?")>=0?"&":"?",l=n.method.toUpperCase();if((l==="GET"||l==="HEAD"||l==="OPTIONS"||l==="DELETE")&&n.data){let d;typeof n.data=="string"?n.data.indexOf("?")>=0?d=n.data.split("?")[1]:d=n.data:d=i.serializeObject(n.data),d.length&&(n.url+=o+d,o==="?"&&(o="&"))}if(n.dataType==="json"&&n.url.indexOf("callback=")>=0){let d="f7jsonp_"+Date.now()+i._jsonpRequests++,h,p=n.url.split("callback="),w=p[0]+"callback="+d;if(p[1].indexOf("&")>=0){let M=p[1].split("&").filter(function(A){return A.indexOf("=")>0}).join("&");M.length>0&&(w+="&"+M)}let g=document.createElement("script");g.type="text/javascript",g.onerror=function(){clearTimeout(h),a(t,t,"error",null,"scripterror"),a("ajaxComplete ajax:complete",{scripterror:!0},"complete",null,"scripterror")},g.src=w,e[d]=function(M){clearTimeout(h),a(t,t,"success",M),g.parentNode.removeChild(g),g=null,delete e[d]},document.querySelector("head").appendChild(g),n.timeout>0&&(h=setTimeout(function(){g.parentNode.removeChild(g),g=null,a(t,t,"error",null,"timeout")},n.timeout));return}(l==="GET"||l==="HEAD"||l==="OPTIONS"||l==="DELETE")&&n.cache===!1&&(n.url+=o+"_nocache="+Date.now());let c=new XMLHttpRequest;c.requestUrl=n.url,c.requestParameters=n,c.open(l,n.url,n.async,n.user,n.password);let u=null;if((l==="POST"||l==="PUT"||l==="PATCH")&&n.data)if(n.processData)if([ArrayBuffer,Blob,Document,FormData].indexOf(n.data.constructor)>=0)u=n.data;else{let h="---------------------------"+Date.now().toString(16);n.contentType==="multipart/form-data"?c.setRequestHeader("Content-Type","multipart/form-data; boundary="+h):c.setRequestHeader("Content-Type",n.contentType),u="";let p=i.serializeObject(n.data);if(n.contentType==="multipart/form-data"){h="---------------------------"+Date.now().toString(16),p=p.split("&");let w=[];for(let g=0;g<p.length;g++)w.push('Content-Disposition: form-data; name="'+p[g].split("=")[0]+`"\r
\r
`+p[g].split("=")[1]+`\r
`);u="--"+h+`\r
`+w.join("--"+h+`\r
`)+"--"+h+`--\r
`}else u=p}else u=n.data;n.headers&&i.each(n.headers,function(d,h){c.setRequestHeader(d,h)}),typeof n.crossDomain=="undefined"&&(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!==e.location.host),n.crossDomain||c.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.xhrFields&&i.each(n.xhrFields,function(d,h){c[d]=h});let f;return c.onload=function(d){if(f&&clearTimeout(f),c.status>=200&&c.status<300||c.status===0){let h;if(n.dataType==="json")try{h=JSON.parse(c.responseText),a("ajaxSuccess ajax:success",{xhr:c},"success",h,c.status,c)}catch(p){console.error(p),a("ajaxError ajax:error",{xhr:c,parseerror:!0},"error",c,"parseerror")}else h=c.responseType==="text"||c.responseType===""?c.responseText:c.response,a("ajaxSuccess ajax:success",{xhr:c},"success",h,c.status,c)}else a("ajaxError ajax:error",{xhr:c},"error",c,c.status);n.statusCode&&(i.globalAjaxOptions.statusCode&&i.globalAjaxOptions.statusCode[c.status]&&i.globalAjaxOptions.statusCode[c.status](c),n.statusCode[c.status]&&n.statusCode[c.status](c)),a("ajaxComplete ajax:complete",{xhr:c},"complete",c,c.status)},c.onerror=function(d){f&&clearTimeout(f),a("ajaxError ajax:error",{xhr:c},"error",c,c.status),a("ajaxComplete ajax:complete",{xhr:c,error:!0},"complete",c,"error")},a("ajaxStart ajax:start",{xhr:c},"start",c),a(t,t,"beforeSend",c),n.timeout>0&&(c.onabort=function(){f&&clearTimeout(f)},f=setTimeout(function(){c.abort(),a("ajaxError ajax:error",{xhr:c,timeout:!0},"error",c,"timeout"),a("ajaxComplete ajax:complete",{xhr:c,timeout:!0},"complete",c,"timeout")},n.timeout)),c.send(u),c}}),i.extend({ajaxc(n){if(!n||typeof n.url=="undefined")return!1;typeof n.data=="undefined"&&(n.data={}),typeof n.cache=="undefined"&&(n.cache=!1),typeof n.method=="undefined"&&(n.method="GET"),typeof n.timeout=="undefined"&&(n.timeout=3e4),typeof n.dataType=="undefined"&&(n.dataType="json"),typeof n.before=="undefined"&&(n.before=()=>{}),typeof n.complete=="undefined"&&(n.complete=()=>{}),typeof n.after=="undefined"&&(n.after=()=>{}),typeof n.success=="undefined"&&(n.success=()=>{}),typeof n.error=="undefined"&&(n.error=()=>{}),typeof n.header=="undefined"&&(n.header={}),n.before(),$A.ihttp({url:n.url,data:n.data,cache:n.cache,headers:n.header,method:n.method.toUpperCase(),contentType:"OPTIONS",crossDomain:!0,dataType:n.dataType,timeout:n.timeout,success:function(s,r,a){n.complete(),n.success(s,r,a),n.after(!0)},error:function(s,r){n.complete(),n.error(s,r),n.after(!1)}})}}),e.$A=i})(window,window.$=window.jQuery=vt);(function(e){const i=e.$A;i.extend({eeuiAppVersion(){if(!!$A.isEEUiApp)return requireModuleJs("eeui").getVersion()},eeuiAppLocalVersion(){if(!!$A.isEEUiApp)return requireModuleJs("eeui").getLocalVersion()},eeuiAppAlert(t,n){!$A.isEEUiApp||(typeof n!="function"&&(n=s=>{}),requireModuleJs("eeui").alert(t,n))},eeuiAppToast(t){!$A.isEEUiApp||requireModuleJs("eeui").toast(t)},eeuiAppRewriteUrl(t){if(!!$A.isEEUiApp)return requireModuleJs("eeui").rewriteUrl(t)},eeuiAppOpenPage(t,n){!$A.isEEUiApp||(typeof n!="function"&&(n=s=>{}),requireModuleJs("eeui").openPage(t,n))},eeuiAppOpenWeb(t){!$A.isEEUiApp||requireModuleJs("eeui").openWeb(t)},eeuiAppSetPageBackPressed(t,n){!$A.isEEUiApp||(typeof n!="function"&&(n=s=>{}),requireModuleJs("eeui").setPageBackPressed(t,n))},eeuiAppGoDesktop(){!$A.isEEUiApp||requireModuleJs("eeui").goDesktop()},eeuiAppKeepScreenOn(){!$A.isEEUiApp||requireModuleJs("eeui").keepScreenOn()},eeuiAppKeepScreenOff(){!$A.isEEUiApp||requireModuleJs("eeui").keepScreenOff()},eeuiAppKeyboardHide(){!$A.isEEUiApp||requireModuleJs("eeui").keyboardHide()},eeuiAppSendMessage(t){!$A.isEEUiApp||requireModuleJs("webview").sendMessage(t)},eeuiAppSetUrl(t){!$A.isEEUiApp||requireModuleJs("webview").setUrl(t)},eeuiAppScan(t){!$A.isEEUiApp||requireModuleJs("eeui").openScaner({},n=>{switch(n.status){case"success":t(n.text);break}})},eeuiAppGetThemeName(){if(!!$A.isEEUiApp)return requireModuleJs("eeui").getThemeName()},eeuiAppKeyboardStatus(){if(!!$A.isEEUiApp)return requireModuleJs("eeui").keyboardStatus()},eeuiAppSetVariate(t,n){if(!!$A.isEEUiApp)return requireModuleJs("eeui").setVariate(t,n)},eeuiAppSetHapticBackEnabled(t){if(!!$A.isEEUiApp)return requireModuleJs("webview").setHapticBackEnabled(t)},eeuiAppSetDisabledUserLongClickSelect(t){if(!!$A.isEEUiApp)return requireModuleJs("webview").setDisabledUserLongClickSelect(t)}}),e.$A=i})(window);const W={mdi:null,mds:null,formatMsg:e=>{const i=e.match(/<img\s+[^>]*?>/g);return i&&i.some(t=>{e=e.replace(t,`<div class="no-size-image-box">${t}</div>`)}),e},highlightBlock:(e,i="")=>`<pre class="code-block-wrapper"><div class="code-block-header"><span class="code-block-header__lang">${i}</span><span class="code-block-header__copy">${$A.L("\u590D\u5236\u4EE3\u7801")}</span></div><code class="hljs code-block-body ${i}">${e}</code></pre>`};function Er(e){return e==="..."?'<p><span class="input-blink"></span>&nbsp;</p>':(W.mdi===null&&(W.mdi=new lt({linkify:!0,highlight(i,t){if(!!(t&&me.getLanguage(t))){const s=t!=null?t:"";return W.highlightBlock(me.highlight(i,{language:s}).value,s)}return W.highlightBlock(me.highlightAuto(i).value,"")}}),W.mdi.use(At,{attrs:{target:"_blank",rel:"noopener"}}),W.mdi.use(kt,{blockClass:"katexmath-block rounded-md p-[10px]",errorColor:" #cc0000"})),W.formatMsg(W.mdi.render(e)))}function Ut(e){return W.mds===null&&(W.mds=lt()),W.mds.render(e)}(function(e){const i=e.$A;i.extend({apiUrl(t){if(t=="privacy"){const n=$A.getDomain(e.systemInfo.apiUrl);if(n==""||n=="public")return"https://www.dootask.com/privacy.html";t="../privacy.html"}if(t.substring(0,2)==="//"||t.substring(0,7)==="http://"||t.substring(0,8)==="https://"||t.substring(0,6)==="ftp://"||t.substring(0,1)==="/")return t;for(typeof e.systemInfo.apiUrl=="string"?t=e.systemInfo.apiUrl+t:t=e.location.origin+"/api/"+t;t.indexOf("/../")!==-1;)t=t.replace(/\/(((?!\/).)*)\/\.\.\//,"/");return t},originUrl(t){if(t.substring(0,2)==="//"||t.substring(0,7)==="http://"||t.substring(0,8)==="https://"||t.substring(0,6)==="ftp://"||t.substring(0,1)==="/")return t;for(typeof e.systemInfo.origin=="string"?t=e.systemInfo.origin+t:t=e.location.origin+"/"+t;t.indexOf("/../")!==-1;)t=t.replace(/\/(((?!\/).)*)\/\.\.\//,"/");return t},onlinePreviewUrl(t,n){return $A.apiUrl(`../online/preview/${t}?key=${n}&version=${e.systemInfo.version}&__=${new Date().getTime()}`)},projectParameterTemplate(t){return{project_id:t,menuInit:!1,menuType:"column",chat:!1,showMy:!0,showHelp:!0,showUndone:!0,showCompleted:!1,completedTask:!1}},formatTime(t,n=6){let s=$A.Time(),r=$A.Date(t,!0),a="";return Math.abs(s-r)<3600*n||$A.formatDate("Ymd",s)===$A.formatDate("Ymd",r)?a=$A.formatDate("H:i",r):$A.formatDate("Y",s)===$A.formatDate("Y",r)?a=$A.formatDate("m-d",r):a=$A.formatDate("Y-m-d",r),a||""},formatBit(t){return t=+t,t>9?t:"0"+t},formatSeconds(t){let n,s=Math.floor(t/86400),r=Math.floor(t%86400/3600),a=Math.floor(t%86400%3600/60),o=Math.floor(t%86400%3600%60);return s>0?r>0?n=s+"d,"+this.formatBit(r)+"h":a>0?n=s+"d,"+this.formatBit(a)+"min":o>0?n=s+"d,"+this.formatBit(o)+"s":n=s+"d":r>0?n=this.formatBit(r)+":"+this.formatBit(a)+":"+this.formatBit(o):a>0?n=this.formatBit(a)+":"+this.formatBit(o):o>0&&(n=this.formatBit(o)+"s"),n},countDownFormat(t,n){let s=Math.round(this.Date(t).getTime()/1e3)-n;return s<86400*7&&s>0?this.formatSeconds(s):s<0?"-"+this.formatSeconds(s*-1):s==0?0+"s":this.formatTime(t,6)},dateRangeUtil:{getCurrentDate(){return new Date},getCurrentWeek(){let t=[],n=this.getCurrentDate(),s=n.getDay(),r=1e3*60*60*24,a=s!=0?s-1:6,o=new Date(n.getTime()-a*r),l=new Date(o.getTime()+6*r);return t.push(o),t.push(l),t},getCurrentMonth(){let t=[],n=this.getCurrentDate(),s=n.getMonth(),r=n.getFullYear(),a=new Date(r,s,1);s==11?(r++,s=0):s++;let o=1e3*60*60*24,l=new Date(r,s,1),c=new Date(l.getTime()-o);return t.push(a),t.push(c),t},getQuarterSeasonStartMonth(t){let n=0,s=3,r=6,a=9;return t<3?n:t<6?s:t<9?r:a},getMonthDays(t,n){let s=new Date(t,n,1),r=s.getMonth(),a=s.getFullYear();r==11?(a++,r=0):r++;let o=1e3*60*60*24,l=new Date(a,r,1);return new Date(l.getTime()-o).getDate()},getCurrentSeason(){let t=[],n=this.getCurrentDate(),s=n.getMonth(),r=n.getFullYear(),a=this.getQuarterSeasonStartMonth(s),o=a+2,l=new Date(r,a,1),c=new Date(r,o,this.getMonthDays(r,o));return t.push(l),t.push(c),t},getCurrentYear(){let t=[],s=this.getCurrentDate().getFullYear(),r=new Date(s,0,1),a=new Date(s,11,31);return t.push(r),t.push(a),t},getPriorMonthFirstDay(t,n){return n==0?(n=11,t--,new Date(t,n,1)):(n--,new Date(t,n,1))},getPreviousMonth(){let t=[],n=this.getCurrentDate(),s=n.getMonth(),r=n.getFullYear(),a=this.getPriorMonthFirstDay(r,s),o=new Date(a.getFullYear(),a.getMonth(),this.getMonthDays(a.getFullYear(),a.getMonth()));return t.push(a),t.push(o),t},getPreviousWeek(){let t=[],n=this.getCurrentDate(),s=n.getDay(),r=1e3*60*60*24,a=s!=0?s-1:6,o=new Date(n.getTime()-r*a),l=new Date(o.getTime()-r),c=new Date(l.getTime()-r*6);return t.push(c),t.push(l),t},getPriorSeasonFirstDay(t,n){let s=0,r=3,a=6,o=9;switch(n){case s:t--,n=o;break;case r:n=s;break;case a:n=r;break;case o:n=a;break}return new Date(t,n,1)},getPreviousSeason(){let t=[],n=this.getCurrentDate(),s=n.getMonth(),r=n.getFullYear(),a=this.getPriorSeasonFirstDay(r,s),o=new Date(a.getFullYear(),a.getMonth()+2,this.getMonthDays(a.getFullYear(),a.getMonth()+2));return t.push(a),t.push(o),t},getPreviousYear(){let t=[],s=this.getCurrentDate().getFullYear();s--;let r=new Date(s,0,1),a=new Date(s,11,1);return t.push(r),t.push(a),t}},getSpecifyDate(t,n=!1){let s=new Date().getTime();switch(t){case"\u6628\u5929":s-=86400*1e3;break;case"\u524D\u5929":s-=86400*2e3;break;case"\u672C\u5468":s=$A.dateRangeUtil.getCurrentWeek()[0].getTime();break;case"\u672C\u5468\u7ED3\u675F":s=$A.dateRangeUtil.getCurrentWeek()[1].getTime();break;case"\u4E0A\u5468":s=$A.dateRangeUtil.getPreviousWeek()[0].getTime();break;case"\u4E0A\u5468\u7ED3\u675F":s=$A.dateRangeUtil.getPreviousWeek()[1].getTime();break;case"\u672C\u6708":s=$A.dateRangeUtil.getCurrentMonth()[0].getTime();break;case"\u672C\u6708\u7ED3\u675F":s=$A.dateRangeUtil.getCurrentMonth()[1].getTime();break;case"\u4E0A\u4E2A\u6708":s=$A.dateRangeUtil.getPreviousMonth()[0].getTime();break;case"\u4E0A\u4E2A\u6708\u7ED3\u675F":s=$A.dateRangeUtil.getPreviousMonth()[1].getTime();break;case"\u672C\u5B63\u5EA6":s=$A.dateRangeUtil.getCurrentSeason()[0].getTime();break;case"\u672C\u5B63\u5EA6\u7ED3\u675F":s=$A.dateRangeUtil.getCurrentSeason()[1].getTime();break}return s=$A.formatDate("Y-m-d",Math.floor(s/1e3)),n===!0?new Date(s):s},timeOptionShortcuts(){const t=$A.Date($A.formatDate("Y-m-d 00:00:00",Math.round(new Date().getTime()/1e3))),n=s=>$A.Date($A.formatDate("Y-m-d 00:00:00",Math.round(s/1e3)));return[{text:$A.L("\u4ECA\u5929"),value(){return[t,n(new Date().getTime())]}},{text:$A.L("\u660E\u5929"),value(){let s=new Date;return s.setDate(s.getDate()+1),[t,n(s.getTime())]}},{text:$A.L("\u672C\u5468"),value(){return[t,n($A.getSpecifyDate("\u672C\u5468\u7ED3\u675F",!0).getTime())]}},{text:$A.L("\u672C\u6708"),value(){return[t,n($A.getSpecifyDate("\u672C\u6708\u7ED3\u675F",!0).getTime())]}},{text:$A.L("3\u5929"),value(){let s=new Date;return s.setDate(s.getDate()+2),[t,n(s.getTime())]}},{text:$A.L("5\u5929"),value(){let s=new Date;return s.setDate(s.getDate()+4),[t,n(s.getTime())]}},{text:$A.L("7\u5929"),value(){let s=new Date;return s.setDate(s.getDate()+6),[t,n(s.getTime())]}}]},dialogTags(t){let n=[];return t.type=="group"&&["project","task"].includes(t.group_type)&&$A.isJson(t.group_info)&&(t.group_type=="task"&&t.group_info.complete_at&&n.push({color:"success",text:"\u5DF2\u5B8C\u6210"}),t.group_info.deleted_at?n.push({color:"red",text:"\u5DF2\u5220\u9664"}):t.group_info.archived_at&&n.push({color:"default",text:"\u5DF2\u5F52\u6863"})),n},dialogCompleted(t){return this.dialogTags(t).find(({color:n})=>n=="success")},getDialogNum(t){return t&&((t.silence?0:t.unread)||t.mention||t.mark_unread)||0},getDialogUnread(t,n){return t&&((n||!t.silence?t.unread:0)||t.mark_unread)||0},getDialogMention(t){return(t==null?void 0:t.mention)||0},getMsgTextPreview(t,n=null){return t?(t=t.replace(/<img\s+class="emoticon"[^>]*?alt="(\S+)"[^>]*?>/g,"[$1]"),t=t.replace(/<img\s+class="emoticon"[^>]*?>/g,`[${$A.L("\u52A8\u753B\u8868\u60C5")}]`),n?t=t.replace(/<img\s+class="browse"[^>]*?src="(\S+)"[^>]*?>/g,function(s,r){const a=s.match('width="(\\d+)"'),o=s.match('height="(\\d+)"');if(a&&o){const l=parseInt(a[1]),c=parseInt(o[1]),u=40,f=$A.scaleToScale(l,c,u,u);n=`${n}" style="width:${f.width}px;height:${f.height}px`}return`[image:${r}]`}):t=t.replace(/<img\s+class="browse"[^>]*?>/g,`[${$A.L("\u56FE\u7247")}]`),t=t.replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),n&&(t=t.replace(/\[image:(.*?)\]/g,`<img class="${n}" src="$1">`),t=t.replace(/\{\{RemoteURL\}\}/g,this.apiUrl("../"))),t):""},formatMsgBasic(t){if(!t)return t;if($A.isJson(t))for(let n in t)!t.hasOwnProperty(n)||(t[n]=$A.formatMsgBasic(t[n]));else $A.isArray(t)?t.forEach((n,s)=>{t[s]=$A.formatMsgBasic(n)}):typeof t=="string"&&(t=t.replace(/\{\{RemoteURL\}\}/g,this.apiUrl("../")));return t},formatTextMsg(t,n){if(!t)return"";const s=new RegExp(`<span class="mention user" data-id="${n}">`,"g");t=t.trim().replace(/(\n\x20*){3,}/g,`

`),t=t.replace(/&nbsp;/g," "),t=t.replace(/<p><\/p>/g,"<p><br/></p>"),t=t.replace(/\{\{RemoteURL\}\}/g,$A.apiUrl("../")),t=t.replace(s,`<span class="mention me" data-id="${n}">`),/https*:\/\//.test(t)&&(t=t.split(/(<[^>]*>)/g).map(a=>(a&&!/<[^>]*>/.test(a)&&(a=a.replace(/(^|[^'"])((https*:\/\/)((\w|=|\?|\.|\/|&|-|:|\+|%|;|#|@|,|!)+))/g,'$1<a href="$2" target="_blank">$2</a>')),a)).join(""));const r=t.match(/<img\s+[^>]*?>/g);if(r){const a=new RegExp('width="(\\d+)"'),o=new RegExp('height="(\\d+)"');r.some(l=>{const c=l.match(a),u=l.match(o);if(c&&u){const f=parseInt(c[1]),d=parseInt(u[1]),h=l.indexOf("emoticon")>-1?150:220,p=$A.scaleToScale(f,d,h,h),w=l.replace(a,`original-width="${f}"`).replace(o,`original-height="${d}" style="width:${p.width}px;height:${p.height}px"`);t=t.replace(l,w)}else t=t.replace(l,`<div class="no-size-image-box">${l}</div>`)})}return t},getTextImagesInfo(t){const n=$A.apiUrl("../"),s=t.match(new RegExp("<img[^>]*?>","g")),r=[];if(s){const a=new RegExp(`src=(["'])([^'"]*)\\1`),o=new RegExp('(original-)?width="(\\d+)"'),l=new RegExp('(original-)?height="(\\d+)"');s.some(c=>{const u=c.match(a),f=c.match(o),d=c.match(l);u&&r.push({src:u[2].replace(/\{\{RemoteURL\}\}/g,n),width:f?f[2]:-1,height:d?d[2]:-1})})}return r},getMsgSimpleDesc(t,n=null){if($A.isJson(t))switch(t.type){case"text":return $A.getMsgTextPreview(t.msg.type==="md"?Ut(t.msg.text):t.msg.text,n);case"word-chain":return`[${$A.L("\u63A5\u9F99")}]`+$A.getMsgTextPreview(t.msg.text,n);case"vote":return`[${$A.L("\u6295\u7968")}]`+$A.getMsgTextPreview(t.msg.text,n);case"record":return`[${$A.L("\u8BED\u97F3")}]`;case"meeting":return`[${$A.L("\u4F1A\u8BAE")}] ${t.msg.name}`;case"file":if(t.msg.type=="img")if(n){const s=parseInt(t.msg.width),r=parseInt(t.msg.height),a=40,o=$A.scaleToScale(s,r,a,a);return`<img class="${n}" style="width:${o.width}px;height:${o.height}px" src="${t.msg.thumb}">`}else return`[${$A.L("\u56FE\u7247")}]`;return`[${$A.L("\u6587\u4EF6")}] ${t.msg.name}`;case"tag":return`[${$A.L(t.msg.action==="remove"?"\u53D6\u6D88\u6807\u6CE8":"\u6807\u6CE8")}] ${$A.getMsgSimpleDesc(t.msg.data)}`;case"top":return`[${$A.L(t.msg.action==="remove"?"\u53D6\u6D88\u7F6E\u9876":"\u7F6E\u9876")}] ${$A.getMsgSimpleDesc(t.msg.data)}`;case"todo":return`[${$A.L(t.msg.action==="remove"?"\u53D6\u6D88\u5F85\u529E":t.msg.action==="done"?"\u5B8C\u6210":"\u8BBE\u5F85\u529E")}] ${$A.getMsgSimpleDesc(t.msg.data)}`;case"notice":return t.msg.notice;default:return`[${$A.L("\u672A\u77E5\u7684\u6D88\u606F")}]`}return""},getFileName(t){let n=t.name||"",s=t.ext||"";return s!=""&&(n+="."+s),n},isDooServer(){const t=$A.getDomain($A.apiUrl("../"));return/dootask\.com$/.test(t)||/hitosea\.com$/.test(t)||/^127\.0\.0\.1/.test(t)||/^(10)\./.test(t)||/^(172)\.(1[6-9]|2[0-9]|3[0-1])\./.test(t)||/^(192)\.(168)\./.test(t)},thumbRestore(t){return t=$A.rightDelete(t,"_thumb.jpg"),t=$A.rightDelete(t,"_thumb.png"),t},dataHasFolder(t){const{items:n}=t;if(n){for(const s of n)if(!(s.kind==="file"&&s.webkitGetAsEntry().isFile))return!0}return!1}}),i.extend({modalConfig(t){return typeof t=="undefined"?t={content:"Undefined"}:typeof t=="string"&&(t={content:t}),t.title=t.title||(typeof t.render=="undefined"?"\u6E29\u99A8\u63D0\u793A":""),t.content=t.content||"",t.okText=t.okText||"\u786E\u5B9A",t.cancelText=t.cancelText||"\u53D6\u6D88",t.language!==!1&&(delete t.language,t.title=$A.L(t.title),t.content=$A.L(t.content),t.okText=$A.L(t.okText),t.cancelText=$A.L(t.cancelText)),t},modalInput(t,n=0){if(n>0){setTimeout(()=>{$A.modalInput(t)},n);return}typeof t=="string"&&(t={title:t});let s="modalInput_"+$A.randomString(6),r={type:t.type||"text",value:t.value,placeholder:$A.L(t.placeholder),elementId:s};$A.isJson(t.inputProps)&&(r=Object.assign(r,t.inputProps));const a=()=>new Promise((l,c)=>{if(!t.onOk){c();return}const u=t.onOk(t.value);if(!u){l();return}u.then?u.then(f=>{f&&$A.messageSuccess(f),l()}).catch(f=>{f&&$A.messageError(f),c()}):(typeof u=="string"&&$A.messageError(u),c())}),o=()=>{typeof t.onCancel=="function"&&t.onCancel()};$A.Modal.confirm({render:l=>l("div",[l("div",{style:{fontSize:"16px",fontWeight:"500",marginBottom:"20px"}},$A.L(t.title)),l("Input",{props:r,on:{input:c=>{t.value=c},"on-enter":c=>{$A(c.target).parents(".ivu-modal-body").find(".ivu-btn-primary").click()}}})]),onOk:a,onCancel:o,loading:!0,okText:$A.L(t.okText||"\u786E\u5B9A"),cancelText:$A.L(t.cancelText||"\u53D6\u6D88"),okType:t.okType||"primary",cancelType:t.cancelType||"text"}),setTimeout(()=>{document.getElementById(s)&&document.getElementById(s).focus()})},modalConfirm(t,n=0){if(t!==!1){if(n>0){setTimeout(()=>{$A.modalConfirm(t)},n);return}if(t=$A.modalConfig(t),t.loading){const{onOk:s}=t;t.onOk=()=>new Promise((r,a)=>{if(!s){a();return}const o=s();if(!o){r();return}o.then?o.then(l=>{l&&$A.messageSuccess(l),r()}).catch(l=>{l&&$A.messageError(l),a()}):(typeof o=="string"&&$A.messageError(o),a())})}$A.Modal.confirm($A.modalConfig(t))}},modalSuccess(t,n=0){if(t!==!1){if(n>0){setTimeout(()=>{$A.modalSuccess(t)},n);return}$A.Modal.success($A.modalConfig(t))}},modalInfo(t,n=0){if(t!==!1){if(n>0){setTimeout(()=>{$A.modalInfo(t)},n);return}$A.Modal.info($A.modalConfig(t))}},modalWarning(t,n=0){if(t!==!1){if(n>0){setTimeout(()=>{$A.modalWarning(t)},n);return}typeof t=="string"&&t==="Network exception"||$A.isJson(t)&&t.content==="Network exception"||$A.Modal.warning($A.modalConfig(t))}},modalError(t,n=0){if(t!==!1){if(n>0){setTimeout(()=>{$A.modalError(t)},n);return}typeof t=="string"&&t==="Network exception"||$A.isJson(t)&&t.content==="Network exception"||$A.Modal.error($A.modalConfig(t))}},modalAlert(t){t!==!1&&alert($A.L(t))},messageSuccess(t){$A.Message.success($A.L(t))},messageWarning(t){typeof t=="string"&&t==="Network exception"||$A.Message.warning($A.L(t))},messageError(t){typeof t=="string"&&t==="Network exception"||$A.Message.error($A.L(t))},noticeConfig(t){return typeof t=="undefined"?t={desc:"Undefined"}:typeof t=="string"&&(t={desc:t}),t.title=$A.L(t.title||(typeof t.render=="undefined"?"\u6E29\u99A8\u63D0\u793A":"")),t.desc=$A.L(t.desc||""),t},noticeSuccess(t){$A.Notice.success($A.noticeConfig(t))},noticeWarning(t){$A.Notice.warning($A.noticeConfig(t))},noticeError(t){typeof t=="string"&&(t={desc:t,duration:6}),$A.Notice.error($A.noticeConfig(t))}}),i.extend({dark:{utils:{supportMode(){let t=typeof e!="undefined"&&e.navigator.userAgent.toLowerCase();return`${t.match(/Chrome/i)}`=="chrome"?"chrome":`${t.match(/Webkit/i)}`=="webkit"?"webkit":null},defaultFilter(){return"-webkit-filter: invert(100%) hue-rotate(180deg) contrast(90%) !important; filter: invert(100%) hue-rotate(180deg) contrast(90%) !important;"},reverseFilter(){return"-webkit-filter: invert(100%) hue-rotate(180deg) contrast(110%) !important; filter: invert(100%) hue-rotate(180deg) contrast(110%) !important;"},noneFilter(){return"-webkit-filter: none !important; filter: none !important;"},addExtraStyle(){try{return""}catch{return""}},addStyle(t,n,s){n=n||"style";let r=document;if(r.getElementById(t))return;let o=r.createElement(n);o.rel="stylesheet",o.id=t,n==="style"?o.innerHTML=s:o.href=s,document.head.appendChild(o)},getClassList(t){return t.classList||[]},addClass(t,n){return this.getClassList(t).add(n),this},removeClass(t,n){return this.getClassList(t).remove(n),this},hasClass(t,n){return this.getClassList(t).contains(n)},hasElementById(t){return document.getElementById(t)},removeElementById(t){let n=document.getElementById(t);n&&n.parentNode.removeChild(n)}},createDarkStyle(){this.utils.addStyle("dark-mode-style","style",`
                @media screen {
                    html {
                        ${this.utils.defaultFilter()}
                        will-change: transform;
                    }

                    /* Default Reverse rule */
                    img,
                    video,
                    iframe,
                    canvas,
                    :not(object):not(body) > embed,
                    object,
                    svg image,
                    [style*="background:url"],
                    [style*="background-image:url"],
                    [style*="background: url"],
                    [style*="background-image: url"],
                    [background],
                    .no-dark-mode,
                    .no-dark-content,
                    .no-dark-before:before {
                        ${this.utils.reverseFilter()}
                        will-change: transform;
                    }

                    [style*="background:url"] *,
                    [style*="background-image:url"] *,
                    [style*="background: url"] *,
                    [style*="background-image: url"] *,
                    input,
                    [background] *,
                    .no-dark-content img,
                    .no-dark-content canvas,
                    .no-dark-content svg image {
                        ${this.utils.noneFilter()}
                    }

                    /* Text contrast */
                    html {
                        text-shadow: 0 0 0 !important;
                    }

                    /* Full screen */
                    .no-filter,
                    :-webkit-full-screen,
                    :-webkit-full-screen *,
                    :-moz-full-screen,
                    :-moz-full-screen *,
                    :fullscreen,
                    :fullscreen * {
                        ${this.utils.noneFilter()}
                    }

                    /* Page background */
                    html {
                        min-width: 100%;
                        min-height: 100%;
                    }
                    .child-view {
                        background-color: #fff;
                    }
                    .page-login {
                        background-color: #f8f8f8;
                    }
                    ${this.utils.addExtraStyle()}
                }

                @media print {
                    .no-print {
                        display: none !important;
                    }
                }`)},enableDarkMode(){!this.utils.supportMode()||this.isDarkEnabled()||(this.createDarkStyle(),this.utils.addClass(document.body,"dark-mode-reverse"))},disableDarkMode(){!this.isDarkEnabled()||(this.utils.removeElementById("dark-mode-style"),this.utils.removeClass(document.body,"dark-mode-reverse"))},autoDarkMode(){let t=e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)").matches;$A.isEEUiApp&&(t=$A.eeuiAppGetThemeName()==="dark"),t?this.enableDarkMode():this.disableDarkMode()},isDarkEnabled(){return this.utils.hasClass(document.body,"dark-mode-reverse")}}}),e.$A=i})(window);var Ft=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("transition",{attrs:{name:"fade"}},[e.floatSpinnerLoad>0?t("div",{staticClass:"common-float-spinner"},[t("Loading",{staticClass:"common-float-circular"})],1):e._e()])},Wt=[];function O(e,i,t,n,s,r,a,o){var l=typeof e=="function"?e.options:e;i&&(l.render=i,l.staticRenderFns=t,l._compiled=!0),n&&(l.functional=!0),r&&(l._scopeId="data-v-"+r);var c;if(a?(c=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(d=__VUE_SSR_CONTEXT__),s&&s.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(a)},l._ssrRegister=c):s&&(c=o?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(h,p){return c.call(p),u(h,p)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:l}}const Gt={name:"FloatSpinner",computed:{...Y(["floatSpinnerLoad"])}},Ne={};var jt=O(Gt,Ft,Wt,!1,zt,null,null,null);function zt(e){for(let i in Ne)this[i]=Ne[i]}var Ht=function(){return jt.exports}(),m={},ut=[],Ie=Object.keys,ne={},Ce={},Kt=/^(no-?highlight|plain|text)$/i,Vt=/\blang(?:uage)?-([\w-]+)\b/i,Jt=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,we="</span>",H={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};function G(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ke(e){return e.nodeName.toLowerCase()}function ye(e,i){var t=e&&e.exec(i);return t&&t.index===0}function dt(e){return Kt.test(e)}function Yt(e){var i,t,n,s,r=e.className+" ";if(r+=e.parentNode?e.parentNode.className:"",t=Vt.exec(r),t)return ie(t[1])?t[1]:"no-highlight";for(r=r.split(/\s+/),i=0,n=r.length;i<n;i++)if(s=r[i],dt(s)||ie(s))return s}function he(e){var i,t={},n=Array.prototype.slice.call(arguments,1);for(i in e)t[i]=e[i];return n.forEach(function(s){for(i in s)t[i]=s[i]}),t}function Be(e){var i=[];return function t(n,s){for(var r=n.firstChild;r;r=r.nextSibling)r.nodeType===3?s+=r.nodeValue.length:r.nodeType===1&&(i.push({event:"start",offset:s,node:r}),s=t(r,s),ke(r).match(/br|hr|img|input/)||i.push({event:"stop",offset:s,node:r}));return s}(e,0),i}function qt(e,i,t){var n=0,s="",r=[];function a(){return!e.length||!i.length?e.length?e:i:e[0].offset!==i[0].offset?e[0].offset<i[0].offset?e:i:i[0].event==="start"?e:i}function o(f){function d(h){return" "+h.nodeName+'="'+G(h.value).replace('"',"&quot;")+'"'}s+="<"+ke(f)+ut.map.call(f.attributes,d).join("")+">"}function l(f){s+="</"+ke(f)+">"}function c(f){(f.event==="start"?o:l)(f.node)}for(;e.length||i.length;){var u=a();if(s+=G(t.substring(n,u[0].offset)),n=u[0].offset,u===e){r.reverse().forEach(l);do c(u.splice(0,1)[0]),u=a();while(u===e&&u.length&&u[0].offset===n);r.reverse().forEach(o)}else u[0].event==="start"?r.push(u[0].node):r.pop(),c(u.splice(0,1)[0])}return s+G(t.substr(n))}function Zt(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(i){return he(e,{variants:null},i)})),e.cached_variants||e.endsWithParent&&[he(e)]||[e]}function Xt(e){function i(r){return r&&r.source||r}function t(r,a){return new RegExp(i(r),"m"+(e.case_insensitive?"i":"")+(a?"g":""))}function n(r,a){for(var o=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,l=0,c="",u=0;u<r.length;u++){var f=l,d=i(r[u]);for(u>0&&(c+=a);d.length>0;){var h=o.exec(d);if(h==null){c+=d;break}c+=d.substring(0,h.index),d=d.substring(h.index+h[0].length),h[0][0]=="\\"&&h[1]?c+="\\"+String(Number(h[1])+f):(c+=h[0],h[0]=="("&&l++)}}return c}function s(r,a){if(!r.compiled){if(r.compiled=!0,r.keywords=r.keywords||r.beginKeywords,r.keywords){var o={},l=function(u,f){e.case_insensitive&&(f=f.toLowerCase()),f.split(" ").forEach(function(d){var h=d.split("|");o[h[0]]=[u,h[1]?Number(h[1]):1]})};typeof r.keywords=="string"?l("keyword",r.keywords):Ie(r.keywords).forEach(function(u){l(u,r.keywords[u])}),r.keywords=o}r.lexemesRe=t(r.lexemes||/\w+/,!0),a&&(r.beginKeywords&&(r.begin="\\b("+r.beginKeywords.split(" ").join("|")+")\\b"),r.begin||(r.begin=/\B|\b/),r.beginRe=t(r.begin),r.endSameAsBegin&&(r.end=r.begin),!r.end&&!r.endsWithParent&&(r.end=/\B|\b/),r.end&&(r.endRe=t(r.end)),r.terminator_end=i(r.end)||"",r.endsWithParent&&a.terminator_end&&(r.terminator_end+=(r.end?"|":"")+a.terminator_end)),r.illegal&&(r.illegalRe=t(r.illegal)),r.relevance==null&&(r.relevance=1),r.contains||(r.contains=[]),r.contains=Array.prototype.concat.apply([],r.contains.map(function(u){return Zt(u==="self"?r:u)})),r.contains.forEach(function(u){s(u,r)}),r.starts&&s(r.starts,a);var c=r.contains.map(function(u){return u.beginKeywords?"\\.?(?:"+u.begin+")\\.?":u.begin}).concat([r.terminator_end,r.illegal]).map(i).filter(Boolean);r.terminators=c.length?t(n(c,"|"),!0):{exec:function(){return null}}}}s(e)}function ge(e,i,t,n){function s(b){return new RegExp(b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function r(b,v){var E,R;for(E=0,R=v.contains.length;E<R;E++)if(ye(v.contains[E].beginRe,b))return v.contains[E].endSameAsBegin&&(v.contains[E].endRe=s(v.contains[E].beginRe.exec(b)[0])),v.contains[E]}function a(b,v){if(ye(b.endRe,v)){for(;b.endsParent&&b.parent;)b=b.parent;return b}if(b.endsWithParent)return a(b.parent,v)}function o(b,v){return!t&&ye(v.illegalRe,b)}function l(b,v){var E=w.case_insensitive?v[0].toLowerCase():v[0];return b.keywords.hasOwnProperty(E)&&b.keywords[E]}function c(b,v,E,R){var q=R?"":H.classPrefix,Re='<span class="'+q,wt=E?"":we;return Re+=b+'">',b?Re+v+wt:v}function u(){var b,v,E,R;if(!g.keywords)return G(L);for(R="",v=0,g.lexemesRe.lastIndex=0,E=g.lexemesRe.exec(L);E;)R+=G(L.substring(v,E.index)),b=l(g,E),b?(le+=b[1],R+=c(b[0],G(E[0]))):R+=G(E[0]),v=g.lexemesRe.lastIndex,E=g.lexemesRe.exec(L);return R+G(L.substr(v))}function f(){var b=typeof g.subLanguage=="string";if(b&&!ne[g.subLanguage])return G(L);var v=b?ge(g.subLanguage,L,!0,M[g.subLanguage]):De(L,g.subLanguage.length?g.subLanguage:void 0);return g.relevance>0&&(le+=v.relevance),b&&(M[g.subLanguage]=v.top),c(v.language,v.value,!1,!0)}function d(){A+=g.subLanguage!=null?f():u(),L=""}function h(b){A+=b.className?c(b.className,"",!0):"",g=Object.create(b,{parent:{value:g}})}function p(b,v){if(L+=b,v==null)return d(),0;var E=r(v,g);if(E)return E.skip?L+=v:(E.excludeBegin&&(L+=v),d(),!E.returnBegin&&!E.excludeBegin&&(L=v)),h(E),E.returnBegin?0:v.length;var R=a(g,v);if(R){var q=g;q.skip?L+=v:(q.returnEnd||q.excludeEnd||(L+=v),d(),q.excludeEnd&&(L=v));do g.className&&(A+=we),!g.skip&&!g.subLanguage&&(le+=g.relevance),g=g.parent;while(g!==R.parent);return R.starts&&(R.endSameAsBegin&&(R.starts.endRe=R.endRe),h(R.starts)),q.returnEnd?0:v.length}if(o(v,g))throw new Error('Illegal lexeme "'+v+'" for mode "'+(g.className||"<unnamed>")+'"');return L+=v,v.length||1}var w=ie(e);if(!w)throw new Error('Unknown language: "'+e+'"');Xt(w);var g=n||w,M={},A="",D;for(D=g;D!==w;D=D.parent)D.className&&(A=c(D.className,"",!0)+A);var L="",le=0;try{for(var re,Pe,ce=0;g.terminators.lastIndex=ce,re=g.terminators.exec(i),!!re;)Pe=p(i.substring(ce,re.index),re[0]),ce=re.index+Pe;for(p(i.substr(ce)),D=g;D.parent;D=D.parent)D.className&&(A+=we);return{relevance:le,value:A,language:e,top:g}}catch(b){if(b.message&&b.message.indexOf("Illegal")!==-1)return{relevance:0,value:G(i)};throw b}}function De(e,i){i=i||H.languages||Ie(ne);var t={relevance:0,value:G(e)},n=t;return i.filter(ie).filter(pt).forEach(function(s){var r=ge(s,e,!1);r.language=s,r.relevance>n.relevance&&(n=r),r.relevance>t.relevance&&(n=t,t=r)}),n.language&&(t.second_best=n),t}function ft(e){return H.tabReplace||H.useBR?e.replace(Jt,function(i,t){return H.useBR&&i===`
`?"<br>":H.tabReplace?t.replace(/\t/g,H.tabReplace):""}):e}function Qt(e,i,t){var n=i?Ce[i]:t,s=[e.trim()];return e.match(/\bhljs\b/)||s.push("hljs"),e.indexOf(n)===-1&&s.push(n),s.join(" ").trim()}function ht(e){var i,t,n,s,r,a=Yt(e);dt(a)||(H.useBR?(i=document.createElementNS("http://www.w3.org/1999/xhtml","div"),i.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,`
`)):i=e,r=i.textContent,n=a?ge(a,r,!0):De(r),t=Be(i),t.length&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","div"),s.innerHTML=n.value,n.value=qt(t,Be(s),r)),n.value=ft(n.value),e.innerHTML=n.value,e.className=Qt(e.className,a,n.language),e.result={language:n.language,re:n.relevance},n.second_best&&(e.second_best={language:n.second_best.language,re:n.second_best.relevance}))}function en(e){H=he(H,e)}function oe(){if(!oe.called){oe.called=!0;var e=document.querySelectorAll("pre code");ut.forEach.call(e,ht)}}function tn(){addEventListener("DOMContentLoaded",oe,!1),addEventListener("load",oe,!1)}function nn(e,i){var t=ne[e]=i(m);t.aliases&&t.aliases.forEach(function(n){Ce[n]=e})}function sn(){return Ie(ne)}function ie(e){return e=(e||"").toLowerCase(),ne[e]||ne[Ce[e]]}function pt(e){var i=ie(e);return i&&!i.disableAutodetect}m.highlight=ge;m.highlightAuto=De;m.fixMarkup=ft;m.highlightBlock=ht;m.configure=en;m.initHighlighting=oe;m.initHighlightingOnLoad=tn;m.registerLanguage=nn;m.listLanguages=sn;m.getLanguage=ie;m.autoDetection=pt;m.inherit=he;m.IDENT_RE="[a-zA-Z]\\w*";m.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*";m.NUMBER_RE="\\b\\d+(\\.\\d+)?";m.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";m.BINARY_NUMBER_RE="\\b(0b[01]+)";m.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";m.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0};m.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[m.BACKSLASH_ESCAPE]};m.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[m.BACKSLASH_ESCAPE]};m.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/};m.COMMENT=function(e,i,t){var n=m.inherit({className:"comment",begin:e,end:i,contains:[]},t||{});return n.contains.push(m.PHRASAL_WORDS_MODE),n.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),n};m.C_LINE_COMMENT_MODE=m.COMMENT("//","$");m.C_BLOCK_COMMENT_MODE=m.COMMENT("/\\*","\\*/");m.HASH_COMMENT_MODE=m.COMMENT("#","$");m.NUMBER_MODE={className:"number",begin:m.NUMBER_RE,relevance:0};m.C_NUMBER_MODE={className:"number",begin:m.C_NUMBER_RE,relevance:0};m.BINARY_NUMBER_MODE={className:"number",begin:m.BINARY_NUMBER_RE,relevance:0};m.CSS_NUMBER_MODE={className:"number",begin:m.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0};m.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[m.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[m.BACKSLASH_ESCAPE]}]};m.TITLE_MODE={className:"title",begin:m.IDENT_RE,relevance:0};m.UNDERSCORE_TITLE_MODE={className:"title",begin:m.UNDERSCORE_IDENT_RE,relevance:0};m.METHOD_GUARD={begin:"\\.\\s*"+m.UNDERSCORE_IDENT_RE,relevance:0};function rn(e){var i="[A-Za-z$_][0-9A-Za-z$_]*",t={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},n={className:"number",variants:[{begin:"\\b(0[bB][01]+)"},{begin:"\\b(0[oO][0-7]+)"},{begin:e.C_NUMBER_RE}],relevance:0},s={className:"subst",begin:"\\$\\{",end:"\\}",keywords:t,contains:[]},r={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,s],subLanguage:"xml"}},a={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,s],subLanguage:"css"}},o={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,s]};s.contains=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,a,o,n,e.REGEXP_MODE];var l=s.contains.concat([e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]);return{aliases:["js","jsx"],keywords:t,contains:[{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},{className:"meta",begin:/^#!/,end:/$/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,a,o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{begin:/[{,]\s*/,relevance:0,contains:[{begin:i+"\\s*:",returnBegin:!0,relevance:0,contains:[{className:"attr",begin:i,relevance:0}]}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+i+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:i},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,contains:l}]}]},{className:"",begin:/\s/,end:/\s*/,skip:!0},{begin:/</,end:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,subLanguage:"xml",contains:[{begin:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},{begin:/<[A-Za-z0-9\\._:-]+/,end:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,skip:!0,contains:[{begin:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},"self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:i}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:l}],illegal:/\[|%/},{begin:/\$[(.]/},e.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor get set",end:/\{/,excludeEnd:!0}],illegal:/#(?!!)/}}function an(e){var i="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",t=i+"(<"+i+"(\\s*,\\s*"+i+")*>)?",n="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",s="\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",r={className:"number",begin:s,relevance:0};return{aliases:["jsp"],keywords:n,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface",end:/[{;=]/,excludeEnd:!0,keywords:"class interface",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"function",begin:"("+t+"\\s+)+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:n,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:n,relevance:0,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},r,{className:"meta",begin:"@[A-Za-z]+"}]}}function on(e){var i="[a-zA-Z-][a-zA-Z0-9_-]*",t={begin:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(font-face|page)",lexemes:"[a-z-]+",keywords:"font-face page"},{begin:"@",end:"[{;]",illegal:/:/,contains:[{className:"keyword",begin:/\w+/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:i,relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,t]}]}}function ln(e){var i="[\\w-]+",t="("+i+"|@{"+i+"})",n=[],s=[],r=function(p){return{className:"string",begin:"~?"+p+".*?"+p}},a=function(p,w,g){return{className:p,begin:w,relevance:g}},o={begin:"\\(",end:"\\)",contains:s,relevance:0};s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r("'"),r('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},a("number","#[0-9A-Fa-f]+\\b"),o,a("variable","@@?"+i,10),a("variable","@{"+i+"}"),a("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},{className:"meta",begin:"!important"});var l=s.concat({begin:"{",end:"}",contains:n}),c={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},u={begin:t+"\\s*:",returnBegin:!0,end:"[;}]",relevance:0,contains:[{className:"attribute",begin:t,end:":",excludeEnd:!0,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},f={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",returnEnd:!0,contains:s,relevance:0}},d={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:l}},h={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:t,end:"{"}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c,a("keyword","all\\b"),a("variable","@{"+i+"}"),a("selector-tag",t+"%?",0),a("selector-id","#"+t),a("selector-class","\\."+t,0),a("selector-tag","&",0),{className:"selector-attr",begin:"\\[",end:"\\]"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"\\(",end:"\\)",contains:l},{begin:"!important"}]};return n.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,f,d,u,h),{case_insensitive:!0,illegal:`[=>'/<($"]`,contains:n}}function cn(e){var i={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],keywords:i,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,{begin:"'",end:"[^\\\\]'"},{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:/\s*\{/,excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:i,illegal:/["']/}]}]}}function un(e){return{aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$"},{begin:"^.+?\\n[=-]{2,}$"}]},{begin:"<",end:">",subLanguage:"xml",relevance:0},{className:"bullet",begin:"^\\s*([*+-]|(\\d+\\.))\\s+"},{className:"strong",begin:"[*_]{2}.+?[*_]{2}"},{className:"emphasis",variants:[{begin:"\\*.+?\\*"},{begin:"_.+?_",relevance:0}]},{className:"quote",begin:"^>\\s+",end:"$"},{className:"code",variants:[{begin:"^```w*s*$",end:"^```s*$"},{begin:"`.+?`"},{begin:"^( {4}|	)",end:"$",relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},{begin:"\\[.+?\\][\\(\\[].*?[\\)\\]]",returnBegin:!0,contains:[{className:"string",begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0,relevance:0},{className:"link",begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}],relevance:10},{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}}function dn(e){var i={begin:"\\$+[a-zA-Z_\x7F-\xFF][a-zA-Z0-9_\x7F-\xFF]*"},t={className:"meta",begin:/<\?(php)?|\?>/},n={className:"string",contains:[e.BACKSLASH_ESCAPE,t],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},e.inherit(e.APOS_STRING_MODE,{illegal:null}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null})]},s={variants:[e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]};return{aliases:["php","php3","php4","php5","php6","php7"],case_insensitive:!0,keywords:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",contains:[e.HASH_COMMENT_MODE,e.COMMENT("//","$",{contains:[t]}),e.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler",lexemes:e.UNDERSCORE_IDENT_RE}),{className:"string",begin:/<<<['"]?\w+['"]?$/,end:/^\w+;?$/,contains:[e.BACKSLASH_ESCAPE,{className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]}]},t,{className:"keyword",begin:/\$this\b/},i,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",beginKeywords:"function",end:/[;{]/,excludeEnd:!0,illegal:"\\$|\\[|%",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:["self",i,e.C_BLOCK_COMMENT_MODE,n,s]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"=>"},n,s]}}function fn(e){var i={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10",built_in:"Ellipsis NotImplemented",literal:"False None True"},t={className:"meta",begin:/^(>>>|\.\.\.) /},n={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,t],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,t],relevance:10},{begin:/(fr|rf|f)'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,t,n]},{begin:/(fr|rf|f)"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,t,n]},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},{begin:/(fr|rf|f)'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,n]},{begin:/(fr|rf|f)"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},r={className:"number",relevance:0,variants:[{begin:e.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:e.C_NUMBER_RE+"[lLjJ]?"}]},a={className:"params",begin:/\(/,end:/\)/,contains:["self",t,r,s]};return n.contains=[s,r,t],{aliases:["py","gyp","ipython"],keywords:i,illegal:/(<\/|->|\?)|=>/,contains:[t,r,s,e.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[e.UNDERSCORE_TITLE_MODE,a,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}function hn(e){var i="[A-Za-z$_][0-9A-Za-z$_]*",t={keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class public private protected get set super static implements enum export import declare type namespace abstract as from extends async await",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document any number boolean string void Promise"},n={className:"meta",begin:"@"+i},s={begin:"\\(",end:/\)/,keywords:t,contains:["self",e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.NUMBER_MODE]},r={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,s]},a={className:"number",variants:[{begin:"\\b(0[bB][01]+)"},{begin:"\\b(0[oO][0-7]+)"},{begin:e.C_NUMBER_RE}],relevance:0},o={className:"subst",begin:"\\$\\{",end:"\\}",keywords:t,contains:[]},l={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,o],subLanguage:"xml"}},c={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,o],subLanguage:"css"}},u={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,o]};return o.contains=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,c,u,a,e.REGEXP_MODE],{aliases:["ts"],keywords:t,contains:[{className:"meta",begin:/^\s*['"]use strict['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,c,u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,a,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+e.IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.IDENT_RE},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,contains:["self",e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]}]}]}],relevance:0},{className:"function",begin:"function",end:/[\{;]/,excludeEnd:!0,keywords:t,contains:["self",e.inherit(e.TITLE_MODE,{begin:i}),r],illegal:/%/,relevance:0},{beginKeywords:"constructor",end:/\{/,excludeEnd:!0,contains:["self",r]},{begin:/module\./,keywords:{built_in:"module"},relevance:0},{beginKeywords:"module",end:/\{/,excludeEnd:!0},{beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:"interface extends"},{begin:/\$[(.]/},{begin:"\\."+e.IDENT_RE,relevance:0},n,s]}}function pn(e){var i="[A-Za-z0-9\\._:-]+",t={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:i,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/},{begin:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf"],case_insensitive:!0,contains:[{className:"meta",begin:"<!DOCTYPE",end:">",relevance:10,contains:[{begin:"\\[",end:"\\]"}]},e.COMMENT("<!--","-->",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{begin:/<\?(php)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]},{className:"tag",begin:"<style(?=\\s|>|$)",end:">",keywords:{name:"style"},contains:[t],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>|$)",end:">",keywords:{name:"script"},contains:[t],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["actionscript","javascript","handlebars","xml","vbscript"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},t]}]}}function gn(e){var i={begin:"`[\\s\\S]"};return{case_insensitive:!0,aliases:["ahk"],keywords:{keyword:"Break Continue Critical Exit ExitApp Gosub Goto New OnExit Pause return SetBatchLines SetTimer Suspend Thread Throw Until ahk_id ahk_class ahk_pid ahk_exe ahk_group",literal:"true false NOT AND OR",built_in:"ComSpec Clipboard ClipboardAll ErrorLevel"},contains:[i,e.inherit(e.QUOTE_STRING_MODE,{contains:[i]}),e.COMMENT(";","$",{relevance:0}),e.C_BLOCK_COMMENT_MODE,{className:"number",begin:e.NUMBER_RE,relevance:0},{className:"variable",begin:"%[a-zA-Z0-9#_$@]+%"},{className:"built_in",begin:"^\\s*\\w+\\s*(,|%)"},{className:"title",variants:[{begin:'^[^\\n";]+::(?!=)'},{begin:'^[^\\n";]+:(?!=)',relevance:0}]},{className:"meta",begin:"^\\s*#\\w+",end:"$",relevance:0},{className:"built_in",begin:"A_[a-zA-Z0-9]+"},{begin:",\\s*,"}]}}function mn(e){var i="ByRef Case Const ContinueCase ContinueLoop Default Dim Do Else ElseIf EndFunc EndIf EndSelect EndSwitch EndWith Enum Exit ExitLoop For Func Global If In Local Next ReDim Return Select Static Step Switch Then To Until Volatile WEnd While With",t="True False And Null Not Or",n="Abs ACos AdlibRegister AdlibUnRegister Asc AscW ASin Assign ATan AutoItSetOption AutoItWinGetTitle AutoItWinSetTitle Beep Binary BinaryLen BinaryMid BinaryToString BitAND BitNOT BitOR BitRotate BitShift BitXOR BlockInput Break Call CDTray Ceiling Chr ChrW ClipGet ClipPut ConsoleRead ConsoleWrite ConsoleWriteError ControlClick ControlCommand ControlDisable ControlEnable ControlFocus ControlGetFocus ControlGetHandle ControlGetPos ControlGetText ControlHide ControlListView ControlMove ControlSend ControlSetText ControlShow ControlTreeView Cos Dec DirCopy DirCreate DirGetSize DirMove DirRemove DllCall DllCallAddress DllCallbackFree DllCallbackGetPtr DllCallbackRegister DllClose DllOpen DllStructCreate DllStructGetData DllStructGetPtr DllStructGetSize DllStructSetData DriveGetDrive DriveGetFileSystem DriveGetLabel DriveGetSerial DriveGetType DriveMapAdd DriveMapDel DriveMapGet DriveSetLabel DriveSpaceFree DriveSpaceTotal DriveStatus EnvGet EnvSet EnvUpdate Eval Execute Exp FileChangeDir FileClose FileCopy FileCreateNTFSLink FileCreateShortcut FileDelete FileExists FileFindFirstFile FileFindNextFile FileFlush FileGetAttrib FileGetEncoding FileGetLongName FileGetPos FileGetShortcut FileGetShortName FileGetSize FileGetTime FileGetVersion FileInstall FileMove FileOpen FileOpenDialog FileRead FileReadLine FileReadToArray FileRecycle FileRecycleEmpty FileSaveDialog FileSelectFolder FileSetAttrib FileSetEnd FileSetPos FileSetTime FileWrite FileWriteLine Floor FtpSetProxy FuncName GUICreate GUICtrlCreateAvi GUICtrlCreateButton GUICtrlCreateCheckbox GUICtrlCreateCombo GUICtrlCreateContextMenu GUICtrlCreateDate GUICtrlCreateDummy GUICtrlCreateEdit GUICtrlCreateGraphic GUICtrlCreateGroup GUICtrlCreateIcon GUICtrlCreateInput GUICtrlCreateLabel GUICtrlCreateList GUICtrlCreateListView GUICtrlCreateListViewItem GUICtrlCreateMenu GUICtrlCreateMenuItem GUICtrlCreateMonthCal GUICtrlCreateObj GUICtrlCreatePic GUICtrlCreateProgress GUICtrlCreateRadio GUICtrlCreateSlider GUICtrlCreateTab GUICtrlCreateTabItem GUICtrlCreateTreeView GUICtrlCreateTreeViewItem GUICtrlCreateUpdown GUICtrlDelete GUICtrlGetHandle GUICtrlGetState GUICtrlRead GUICtrlRecvMsg GUICtrlRegisterListViewSort GUICtrlSendMsg GUICtrlSendToDummy GUICtrlSetBkColor GUICtrlSetColor GUICtrlSetCursor GUICtrlSetData GUICtrlSetDefBkColor GUICtrlSetDefColor GUICtrlSetFont GUICtrlSetGraphic GUICtrlSetImage GUICtrlSetLimit GUICtrlSetOnEvent GUICtrlSetPos GUICtrlSetResizing GUICtrlSetState GUICtrlSetStyle GUICtrlSetTip GUIDelete GUIGetCursorInfo GUIGetMsg GUIGetStyle GUIRegisterMsg GUISetAccelerators GUISetBkColor GUISetCoord GUISetCursor GUISetFont GUISetHelp GUISetIcon GUISetOnEvent GUISetState GUISetStyle GUIStartGroup GUISwitch Hex HotKeySet HttpSetProxy HttpSetUserAgent HWnd InetClose InetGet InetGetInfo InetGetSize InetRead IniDelete IniRead IniReadSection IniReadSectionNames IniRenameSection IniWrite IniWriteSection InputBox Int IsAdmin IsArray IsBinary IsBool IsDeclared IsDllStruct IsFloat IsFunc IsHWnd IsInt IsKeyword IsNumber IsObj IsPtr IsString Log MemGetStats Mod MouseClick MouseClickDrag MouseDown MouseGetCursor MouseGetPos MouseMove MouseUp MouseWheel MsgBox Number ObjCreate ObjCreateInterface ObjEvent ObjGet ObjName OnAutoItExitRegister OnAutoItExitUnRegister Ping PixelChecksum PixelGetColor PixelSearch ProcessClose ProcessExists ProcessGetStats ProcessList ProcessSetPriority ProcessWait ProcessWaitClose ProgressOff ProgressOn ProgressSet Ptr Random RegDelete RegEnumKey RegEnumVal RegRead RegWrite Round Run RunAs RunAsWait RunWait Send SendKeepActive SetError SetExtended ShellExecute ShellExecuteWait Shutdown Sin Sleep SoundPlay SoundSetWaveVolume SplashImageOn SplashOff SplashTextOn Sqrt SRandom StatusbarGetText StderrRead StdinWrite StdioClose StdoutRead String StringAddCR StringCompare StringFormat StringFromASCIIArray StringInStr StringIsAlNum StringIsAlpha StringIsASCII StringIsDigit StringIsFloat StringIsInt StringIsLower StringIsSpace StringIsUpper StringIsXDigit StringLeft StringLen StringLower StringMid StringRegExp StringRegExpReplace StringReplace StringReverse StringRight StringSplit StringStripCR StringStripWS StringToASCIIArray StringToBinary StringTrimLeft StringTrimRight StringUpper Tan TCPAccept TCPCloseSocket TCPConnect TCPListen TCPNameToIP TCPRecv TCPSend TCPShutdown, UDPShutdown TCPStartup, UDPStartup TimerDiff TimerInit ToolTip TrayCreateItem TrayCreateMenu TrayGetMsg TrayItemDelete TrayItemGetHandle TrayItemGetState TrayItemGetText TrayItemSetOnEvent TrayItemSetState TrayItemSetText TraySetClick TraySetIcon TraySetOnEvent TraySetPauseIcon TraySetState TraySetToolTip TrayTip UBound UDPBind UDPCloseSocket UDPOpen UDPRecv UDPSend VarGetType WinActivate WinActive WinClose WinExists WinFlash WinGetCaretPos WinGetClassList WinGetClientSize WinGetHandle WinGetPos WinGetProcess WinGetState WinGetText WinGetTitle WinKill WinList WinMenuSelectItem WinMinimizeAll WinMinimizeAllUndo WinMove WinSetOnTop WinSetState WinSetTitle WinSetTrans WinWait",s={variants:[e.COMMENT(";","$",{relevance:0}),e.COMMENT("#cs","#ce"),e.COMMENT("#comments-start","#comments-end")]},r={begin:"\\$[A-z0-9_]+"},a={className:"string",variants:[{begin:/"/,end:/"/,contains:[{begin:/""/,relevance:0}]},{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]}]},o={variants:[e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]},l={className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"comments include include-once NoTrayIcon OnAutoItStartRegister pragma compile RequireAdmin"},contains:[{begin:/\\\n/,relevance:0},{beginKeywords:"include",keywords:{"meta-keyword":"include"},end:"$",contains:[a,{className:"meta-string",variants:[{begin:"<",end:">"},{begin:/"/,end:/"/,contains:[{begin:/""/,relevance:0}]},{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]}]}]},a,s]},c={className:"symbol",begin:"@[A-z0-9_]+"},u={className:"function",beginKeywords:"Func",end:"$",illegal:"\\$|\\[|%",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:[r,a,o]}]};return{case_insensitive:!0,illegal:/\/\*/,keywords:{keyword:i,built_in:n,literal:t},contains:[s,r,a,o,l,c,u]}}const Ue={javascript:rn,java:an,css:on,less:ln,markdown:un,go:cn,php:dn,python:fn,typescript:hn,xml:pn,autohotkey:gn,auto:mn};Object.keys(Ue).forEach(e=>{m.registerLanguage(e,Ue[e])});var $e={add(e,i){const t=`toc${i}${++this.index}`,n={anchor:t,level:i,text:e},s=this.tocItems;return n.level<=5&&s.push(n),t},reset:function(){this.tocItems=[],this.index=0},tocItems:[],index:0};typeof window._goTocAction=="undefined"&&(window._goTocAction=function(e,i,t){const n=$A(e).parents(".markdown-preview");if(n){const s=n.find("h"+i+'[toc-id="'+t+'"]');s&&n.animate({scrollTop:s.offset().top-n.offset().top+n.scrollTop()})}});var y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:ee,table:ee,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;y.def=P(y.def).replace("label",y._label).replace("title",y._title).getRegex();y.bullet=/(?:[*+-]|\d{1,9}\.)/;y.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;y.item=P(y.item,"gm").replace(/bull/g,y.bullet).getRegex();y.list=P(y.list).replace(/bull/g,y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+y.def.source+")").getRegex();y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";y._comment=/<!--(?!-?>)[\s\S]*?-->/;y.html=P(y.html,"i").replace("comment",y._comment).replace("tag",y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();y.paragraph=P(y._paragraph).replace("hr",y.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",y._tag).getRegex();y.blockquote=P(y.blockquote).replace("paragraph",y.paragraph).getRegex();y.normal=z({},y);y.gfm=z({},y.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/});y.pedantic=z({},y.normal,{html:P(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:ee,paragraph:P(y.normal._paragraph).replace("hr",y.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});function J(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||I.defaults,this.rules=y.normal,this.options.pedantic?this.rules=y.pedantic:this.options.gfm&&(this.rules=y.gfm)}J.rules=y;J.lex=function(e,i){var t=new J(i);return t.lex(e)};J.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(e,!0)};J.prototype.token=function(e,i){e=e.replace(/^ +$/gm,"");for(var t,n,s,r,a,o,l,c,u,f,d,h,p,w,g,M;e;){if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e)){var A=this.tokens[this.tokens.length-1];e=e.substring(s[0].length),A&&A.type==="paragraph"?A.text+=`
`+s[0].trimRight():(s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?s:_t(s,`
`)}));continue}if(s=this.rules.fences.exec(e)){e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2]?s[2].trim():s[2],text:s[3]||""});continue}if(s=this.rules.heading.exec(e)){e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});continue}if((s=this.rules.nptable.exec(e))&&(o={type:"table",header:de(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split(`
`):[]},o.header.length===o.align.length)){for(e=e.substring(s[0].length),d=0;d<o.align.length;d++)/^ *-+: *$/.test(o.align[d])?o.align[d]="right":/^ *:-+: *$/.test(o.align[d])?o.align[d]="center":/^ *:-+ *$/.test(o.align[d])?o.align[d]="left":o.align[d]=null;for(d=0;d<o.cells.length;d++)o.cells[d]=de(o.cells[d],o.header.length);this.tokens.push(o);continue}if(s=this.rules.hr.exec(e)){e=e.substring(s[0].length),this.tokens.push({type:"hr"});continue}if(s=this.rules.blockquote.exec(e)){e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,i),this.tokens.push({type:"blockquote_end"});continue}if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),r=s[2],w=r.length>1,l={type:"list_start",ordered:w,start:w?+r:"",loose:!1},this.tokens.push(l),s=s[0].match(this.rules.item),c=[],t=!1,p=s.length,d=0;d<p;d++)o=s[d],f=o.length,o=o.replace(/^ *([*+-]|\d+\.) */,""),~o.indexOf(`
 `)&&(f-=o.length,o=this.options.pedantic?o.replace(/^ {1,4}/gm,""):o.replace(new RegExp("^ {1,"+f+"}","gm"),"")),d!==p-1&&(a=y.bullet.exec(s[d+1])[0],(r.length>1?a.length===1:a.length>1||this.options.smartLists&&a!==r)&&(e=s.slice(d+1).join(`
`)+e,d=p-1)),n=t||/\n\n(?!\s*$)/.test(o),d!==p-1&&(t=o.charAt(o.length-1)===`
`,n||(n=t)),n&&(l.loose=!0),g=/^\[[ xX]\] /.test(o),M=void 0,g&&(M=o[1]!==" ",o=o.replace(/^\[[ xX]\] +/,"")),u={type:"list_item_start",task:g,checked:M,loose:n},c.push(u),this.tokens.push(u),this.token(o,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(p=c.length,d=0;d<p;d++)c[d].loose=!0;this.tokens.push({type:"list_end"});continue}if(s=this.rules.html.exec(e)){e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(s[1]==="pre"||s[1]==="script"||s[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):T(s[0]):s[0]});continue}if(i&&(s=this.rules.def.exec(e))){e=e.substring(s[0].length),s[3]&&(s[3]=s[3].substring(1,s[3].length-1)),h=s[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[h]||(this.tokens.links[h]={href:s[2],title:s[3]});continue}if((s=this.rules.table.exec(e))&&(o={type:"table",header:de(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split(`
`):[]},o.header.length===o.align.length)){for(e=e.substring(s[0].length),d=0;d<o.align.length;d++)/^ *-+: *$/.test(o.align[d])?o.align[d]="right":/^ *:-+: *$/.test(o.align[d])?o.align[d]="center":/^ *:-+ *$/.test(o.align[d])?o.align[d]="left":o.align[d]=null;for(d=0;d<o.cells.length;d++)o.cells[d]=de(o.cells[d].replace(/^ *\| *| *\| *$/g,""),o.header.length);this.tokens.push(o);continue}if(s=this.rules.lheading.exec(e)){e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[2].charAt(0)==="="?1:2,text:s[1]});continue}if(i&&(s=this.rules.paragraph.exec(e))){e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:s[1].charAt(s[1].length-1)===`
`?s[1].slice(0,-1):s[1]});continue}if(s=this.rules.text.exec(e)){e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});continue}if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return this.tokens};var _={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ee,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ee,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};_._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`;_.em=P(_.em).replace(/punctuation/g,_._punctuation).getRegex();_._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;_._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;_._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;_.autolink=P(_.autolink).replace("scheme",_._scheme).replace("email",_._email).getRegex();_._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;_.tag=P(_.tag).replace("comment",y._comment).replace("attribute",_._attribute).getRegex();_._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;_._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;_._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;_.link=P(_.link).replace("label",_._label).replace("href",_._href).replace("title",_._title).getRegex();_.reflink=P(_.reflink).replace("label",_._label).getRegex();_.normal=z({},_);_.pedantic=z({},_.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",_._label).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_._label).getRegex()});_.gfm=z({},_.normal,{escape:P(_.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});_.gfm.url=P(_.gfm.url,"i").replace("email",_.gfm._extended_email).getRegex();_.breaks=z({},_.gfm,{br:P(_.br).replace("{2,}","*").getRegex(),text:P(_.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function B(e,i){if(this.options=i||I.defaults,this.links=e,this.rules=_.normal,this.renderer=this.options.renderer||new x,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=_.pedantic:this.options.gfm&&(this.options.breaks?this.rules=_.breaks:this.rules=_.gfm)}B.rules=_;B.output=function(e,i,t){var n=new B(i,t);return n.output(e)};B.prototype.output=function(e){for(var i="",t,n,s,r,a,o;e;){if(a=this.rules.escape.exec(e)){e=e.substring(a[0].length),i+=T(a[1]);continue}if(a=this.rules.tag.exec(e)){!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),e=e.substring(a[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):T(a[0]):a[0];continue}if(a=this.rules.link.exec(e)){var l=yn(a[2],"()");if(l>-1){var c=4+a[1].length+l;a[2]=a[2].substring(0,l),a[0]=a[0].substring(0,c).trim(),a[3]=""}e=e.substring(a[0].length),this.inLink=!0,s=a[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s),t?(s=t[1],r=t[3]):r=""):r=a[3]?a[3].slice(1,-1):"",s=s.trim().replace(/^<([\s\S]*)>$/,"$1"),i+=this.outputLink(a,{href:B.escapes(s),title:B.escapes(r)}),this.inLink=!1;continue}if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){i+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,i+=this.outputLink(a,t),this.inLink=!1;continue}if(a=this.rules.strong.exec(e)){e=e.substring(a[0].length),i+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));continue}if(a=this.rules.em.exec(e)){e=e.substring(a[0].length),i+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));continue}if(a=this.rules.code.exec(e)){e=e.substring(a[0].length),i+=this.renderer.codespan(T(a[2].trim(),!0));continue}if(a=this.rules.br.exec(e)){e=e.substring(a[0].length),i+=this.renderer.br();continue}if(a=this.rules.del.exec(e)){e=e.substring(a[0].length),i+=this.renderer.del(this.output(a[1]));continue}if(a=this.rules.autolink.exec(e)){e=e.substring(a[0].length),a[2]==="@"?(n=T(this.mangle(a[1])),s="mailto:"+n):(n=T(a[1]),s=n),i+=this.renderer.link(s,null,n);continue}if(!this.inLink&&(a=this.rules.url.exec(e))){if(a[2]==="@")n=T(a[0]),s="mailto:"+n;else{do o=a[0],a[0]=this.rules._backpedal.exec(a[0])[0];while(o!==a[0]);n=T(a[0]),a[1]==="www."?s="http://"+n:s=n}e=e.substring(a[0].length),i+=this.renderer.link(s,null,n);continue}if(a=this.rules.text.exec(e)){e=e.substring(a[0].length),this.inRawBlock?i+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):T(a[0]):a[0]):i+=this.renderer.text(T(this.smartypants(a[0])));continue}if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return i};B.escapes=function(e){return e&&e.replace(B.rules._escapes,"$1")};B.prototype.outputLink=function(e,i){var t=i.href,n=i.title?T(i.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(t,n,this.output(e[1])):this.renderer.image(t,n,T(e[1]))};B.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):e};B.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var i="",t=e.length,n=0,s;n<t;n++)s=e.charCodeAt(n),Math.random()>.5&&(s="x"+s.toString(16)),i+="&#"+s+";";return i};function x(e){this.options=e||I.defaults}x.prototype.code=function(e,i,t){var n=(i||"").match(/\S*/)[0];if(this.options.highlight){var s=this.options.highlight(e,n);s!=null&&s!==e&&(t=!0,e=s)}return n?'<pre><code class="'+this.options.langPrefix+T(n,!0)+'">'+(t?e:T(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:T(e,!0))+"</code></pre>"};x.prototype.blockquote=function(e){return`<blockquote>
`+e+`</blockquote>
`};x.prototype.html=function(e){return e};x.prototype.heading=function(e,i,t,n){let s=$e.add(e,i);return this.options.headerIds?"<h"+i+' id="'+this.options.headerPrefix+n.slug(t)+'" toc-id="'+s+'">'+e+"</h"+i+`>
`:"<h"+i+' toc-id="'+s+'">'+e+"</h"+i+`>
`};x.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`};x.prototype.list=function(e,i,t){var n=i?"ol":"ul",s=i&&t!==1?' start="'+t+'"':"";return"<"+n+s+`>
`+e+"</"+n+`>
`};x.prototype.listitem=function(e){const i=/\<input.+\>/;let t="";return i.test(e)&&(t="list-item-checkbox",/checked/.test(e)&&(t+=" list-item-checkbox-checked")),`<li class="${t} ">${e}</li>
`};x.prototype.checkbox=function(e){return"<input "+(e?"checked ":"")+'disabled type="checkbox"'+(this.options.xhtml?" /":"")+"> "};x.prototype.paragraph=function(e){return"<p>"+e+`</p>
`};x.prototype.table=function(e,i){return i&&(i="<tbody>"+i+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`};x.prototype.tablerow=function(e){return`<tr>
`+e+`</tr>
`};x.prototype.tablecell=function(e,i){var t=i.header?"th":"td",n=i.align?"<"+t+' align="'+i.align+'">':"<"+t+">";return n+e+"</"+t+`>
`};x.prototype.strong=function(e){return"<strong>"+e+"</strong>"};x.prototype.em=function(e){return"<em>"+e+"</em>"};x.prototype.codespan=function(e){return"<code>"+e+"</code>"};x.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};x.prototype.del=function(e){return"<del>"+e+"</del>"};x.prototype.link=function(e,i,t){if(e=mt(this.options.sanitize,this.options.baseUrl,e),e===null)return t;var n='<a href="'+T(e)+'"';return i&&(n+=' title="'+i+'"'),n+=">"+t+"</a>",n};x.prototype.image=function(e,i,t){if(e=mt(this.options.sanitize,this.options.baseUrl,e),e===null)return t;var n='<img src="'+e+'" alt="'+t+'"';return i&&(n+=' title="'+i+'"'),n+=this.options.xhtml?"/>":">",n};x.prototype.text=function(e){return e};function K(){}K.prototype.strong=K.prototype.em=K.prototype.codespan=K.prototype.del=K.prototype.text=function(e){return e};K.prototype.link=K.prototype.image=function(e,i,t){return""+t};K.prototype.br=function(){return""};function j(e){this.tokens=[],this.token=null,this.options=e||I.defaults,this.options.renderer=this.options.renderer||new x,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new xe}j.parse=function(e,i){var t=new j(i);return t.parse(e)};j.prototype.parse=function(e){this.inline=new B(e.links,this.options),this.inlineText=new B(e.links,z({},this.options,{renderer:new K})),this.tokens=e.reverse();for(var i="";this.next();)i+=this.tok();return i};j.prototype.next=function(){return this.token=this.tokens.pop(),this.token};j.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};j.prototype.parseText=function(){for(var e=this.token.text;this.peek().type==="text";)e+=`
`+this.next().text;return this.inline.output(e)};j.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,gt(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{var e="",i="",t,n,s,r;for(s="",t=0;t<this.token.header.length;t++)s+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(e+=this.renderer.tablerow(s),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],s="",r=0;r<n.length;r++)s+=this.renderer.tablecell(this.inline.output(n[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(s)}return this.renderer.table(e,i)}case"blockquote_start":{for(i="";this.next().type!=="blockquote_end";)i+=this.tok();return this.renderer.blockquote(i)}case"list_start":{i="";for(var a=this.token.ordered,o=this.token.start;this.next().type!=="list_end";)i+=this.tok();return this.renderer.list(i,a,o)}case"list_item_start":{i="";var l=this.token.loose,c=this.token.checked,u=this.token.task;for(this.token.task&&(i+=this.renderer.checkbox(c));this.next().type!=="list_item_end";)i+=!l&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(i,u,c)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{var f='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(f);else throw new Error(f)}}};function xe(){this.seen={}}xe.prototype.slug=function(e){var i=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(i)){var t=i;do this.seen[t]++,i=t+"-"+this.seen[t];while(this.seen.hasOwnProperty(i))}return this.seen[i]=0,i};function T(e,i){if(i){if(T.escapeTest.test(e))return e.replace(T.escapeReplace,function(t){return T.replacements[t]})}else if(T.escapeTestNoEncode.test(e))return e.replace(T.escapeReplaceNoEncode,function(t){return T.replacements[t]});return e}T.escapeTest=/[&<>"']/;T.escapeReplace=/[&<>"']/g;T.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};T.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/;T.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;function gt(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(i,t){return t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function P(e,i){return e=e.source||e,i=i||"",{replace:function(t,n){return n=n.source||n,n=n.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,i)}}}function mt(e,i,t){if(e){try{var n=decodeURIComponent(gt(t)).replace(/[^\w:]/g,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}i&&!wn.test(t)&&(t=_n(i,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}function _n(e,i){return ue[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?ue[" "+e]=e+"/":ue[" "+e]=_t(e,"/",!0)),e=ue[" "+e],i.slice(0,2)==="//"?e.replace(/:[\s\S]*/,":")+i:i.charAt(0)==="/"?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+i:e+i}var ue={},wn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ee(){}ee.exec=ee;function z(e){for(var i=1,t,n;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function de(e,i){var t=e.replace(/\|/g,function(r,a,o){for(var l=!1,c=a;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),n=t.split(/ \|/),s=0;if(n.length>i)n.splice(i);else for(;n.length<i;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function _t(e,i,t){if(e.length===0)return"";for(var n=0;n<e.length;){var s=e.charAt(e.length-n-1);if(s===i&&!t)n++;else if(s!==i&&t)n++;else break}return e.substr(0,e.length-n)}function yn(e,i){if(e.indexOf(i[1])===-1)return-1;for(var t=0,n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===i[0])t++;else if(e[n]===i[1]&&(t--,t<0))return n;return-1}function Fe(e){e&&e.sanitize&&!e.silent&&console.warn("index(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function I(e,i,t){if(typeof e=="undefined"||e===null)throw new Error("index(): input parameter is undefined or null");if(typeof e!="string")throw new Error("index(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(t||typeof i=="function"){t||(t=i,i=null),i=z({},I.defaults,i||{}),Fe(i);var n=i.highlight,s,r,a=0;try{s=J.lex(e,i)}catch(l){return t(l)}r=s.length;var o=function(l){if(l)return i.highlight=n,t(l);var c;try{c=j.parse(s,i)}catch(u){l=u}return i.highlight=n,l?t(l):t(null,c)};if(!n||n.length<3||(delete i.highlight,!r))return o();for(;a<s.length;a++)(function(l){return l.type!=="code"?--r||o():n(l.text,l.lang,function(c,u){if(c)return o(c);if(u==null||u===l.text)return--r||o();l.text=u,l.escaped=!0,--r||o()})})(s[a]);return}try{return i&&(i=z({},I.defaults,i)),Fe(i),j.parse(J.lex(e,i),i)}catch(l){if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,(i||I.defaults).silent)return"<p>An error occurred:</p><pre>"+T(l.message+"",!0)+"</pre>";throw l}}I.options=I.setOptions=function(e){return z(I.defaults,e),I};I.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new x,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}};I.defaults=I.getDefaults();I.Parser=j;I.parser=j.parse;I.Renderer=x;I.TextRenderer=K;I.Lexer=J;I.lexer=J.lex;I.InlineLexer=B;I.inlineLexer=B.output;I.Slugger=xe;I.parse=I;m.initHighlightingOnLoad();const vn=new I.Renderer;var bn=I.setOptions({renderer:vn,gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,highlight:function(e){return m.highlightAuto(e).value}}),An=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{ref:"preview",staticClass:"markdown-preview-warp"},[t("div",{class:`markdown-preview ${"markdown-theme-"+e.theme}`,domProps:{innerHTML:e._s(e.html)}}),t("div",{class:["preview-img",e.previewImgModal?"active":""]},[t("span",{staticClass:"close icon-close iconfont",on:{click:function(n){e.previewImgModal=!1}}}),t("img",{class:[e.previewImgMode],attrs:{src:e.previewImgSrc,alt:""}})])])},kn=[];const $n={name:"markdown-preview",props:{initialValue:{type:String,default:""},markedOptions:{type:Object,default:()=>({})},theme:{type:String,default:"light"},copyCode:{type:Boolean,default:!0},copyBtnText:{type:String,default:"\u590D\u5236\u4EE3\u7801"}},data(){return{html:"",previewImgModal:!1,previewImgSrc:"",previewImgMode:""}},mounted(){this.translateMarkdown()},methods:{tocLevel(e,i){let t=9999;return i.forEach(({level:n})=>{t=Math.min(t,n)}),t===9999?e:e-(t-1)},translateMarkdown(){let e=bn(this.initialValue,{sanitize:!1,...this.markedOptions}).replace(/href="/gi,'target="_blank" href="');if(this.copyCode&&(e=e.replace(/<pre>/g,'<div class="code-block"><span class="copy-code">'+this.copyBtnText+"</span><pre>").replace(/<\/pre>/g,"</pre></div>")),/\[\[TOC\]\]/.test(e)){let i="";$e.tocItems.forEach(t=>{i+=`<li class="toc-anchor-item" onclick="_goTocAction(this, '${t.level}', '${t.anchor}')"><span class="toc-link-${this.tocLevel(t.level,$e.tocItems)}" title="${t.text}">${t.text}</span></li>`}),e=e.replace(/\[\[TOC\]\]/g,`<ul class="toc-anchor">${i}</ul>`)}this.html=e,this.addCopyListener(),this.addImageClickListener()},addCopyListener(){setTimeout(()=>{const e=document.querySelectorAll(".code-block .copy-code");this.btns=e;for(let i=0,t=e.length;i<t;i++)e[i].onclick=()=>{const n=e[i].parentNode.querySelectorAll("pre")[0].innerText,s=document.createElement("input");s.setAttribute("value",n),document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),this.$emit("on-copy",n)}},600)},addImageClickListener(){const{imgs:e=[]}=this;if(e.length>0)for(let i=0,t=e.length;i<t;i++)e[i].onclick=null;setTimeout(()=>{if(!!this.$refs.preview){this.imgs=this.$refs.preview.querySelectorAll("img");for(let i=0,t=this.imgs.length;i<t;i++)this.imgs[i].onclick=()=>{const n=this.imgs[i].getAttribute("src");this.previewImage(n)}}},600)},previewImage(e){const i=new Image;i.src=e,i.onload=()=>{const t=i.naturalWidth;i.naturalHeight/t>1.4?this.previewImgMode="horizontal":this.previewImgMode="vertical",this.previewImgSrc=e,this.previewImgModal=!0}}},watch:{initialValue(){this.translateMarkdown()}}},We={};var Sn=O($n,An,kn,!1,En,"7c98e74e",null,null);function En(e){for(let i in We)this[i]=We[i]}var Tn=function(){return Sn.exports}(),In=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"common-right-bottom"},[e.showSSO?t("div",{staticClass:"common-right-bottom-link",on:{click:e.useSSOLogin}},[t("Icon",{attrs:{type:"ios-globe-outline"}}),e._v(" "+e._s(e.$L("\u4F7F\u7528 SSO \u767B\u5F55"))+" ")],1):e._e(),e.showDown?[e.downloadUrl?t("a",{staticClass:"common-right-bottom-link",attrs:{href:e.downloadUrl,target:"_blank"}},[t("Icon",{attrs:{type:"md-download"}}),e._v(" "+e._s(e.$L("\u5BA2\u6237\u7AEF\u4E0B\u8F7D"))+" ")],1):e.updateVersion&&e.updateBottomShow&&e.$Electron?t("div",{staticClass:"common-right-bottom-link",on:{click:function(n){e.updateShow=!0}}},[t("Icon",{attrs:{type:"md-download"}}),e._v(" "+e._s(e.$L("\u66F4\u65B0\u5BA2\u6237\u7AEF"))+" ")],1):e._e()]:e._e(),e.showPrivacy?t("a",{staticClass:"common-right-bottom-link",attrs:{target:"_blank",href:e.$A.apiUrl("privacy")}},[e._v(" \u300A"+e._s(e.$L("\u9690\u79C1\u653F\u7B56"))+"\u300B ")]):e._e(),t("Modal",{attrs:{closable:!1,"mask-closable":!1,"class-name":"common-right-bottom-notification"},model:{value:e.updateShow,callback:function(n){e.updateShow=n},expression:"updateShow"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"notification-head"},[t("div",{staticClass:"notification-title"},[e._v(e._s(e.$L("\u53D1\u73B0\u65B0\u7248\u672C")))]),t("Tag",{attrs:{color:"volcano"}},[e._v("v"+e._s(e.systemVersion)+" -> v"+e._s(e.updateVersion))])],1),e.$Platform==="mac"?t("div",{staticClass:"notification-tip"},[e._v(e._s(e.$L("\u79BB\u6700\u65B0\u7248\u672C\u53EA\u6709\u4E00\u6B65\u4E4B\u9065\u4E86\uFF01\u91CD\u65B0\u542F\u52A8\u5E94\u7528\u5373\u53EF\u5B8C\u6210\u66F4\u65B0\u3002")))]):e._e()]),t("Scrollbar",{attrs:{"class-name":"notification-body"}},[t("MarkdownPreview",{attrs:{initialValue:e.updateNote}})],1),t("div",{staticClass:"adaption",attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"default"},on:{click:function(n){e.updateShow=!1}}},[e._v(e._s(e.$L("\u7A0D\u540E")))]),t("Button",{attrs:{type:"primary",loading:e.updateIng},on:{click:e.updateQuitAndInstall}},[e._v(e._s(e.$L(e.$Platform==="mac"?"\u91CD\u65B0\u542F\u52A8":"\u7ACB\u5373\u5347\u7EA7")))])],1)],1)],2)},Cn=[];const Dn={name:"RightBottom",components:{MarkdownPreview:Tn},data(){return{loadIng:0,subscribe:null,apiVersion:"",systemVersion:window.systemInfo.version,updateVersion:"",updateNote:"",updateShow:!1,updateBottomShow:!1,updateIng:!1,downloadUrl:""}},mounted(){this.prefetchResources(),this.checkVersion(),this.$Electron&&(this.subscribe=V.Store.subscribe("updateNotification",e=>{this.updateShow=!0}),this.$Electron.registerMsgListener("updateDownloaded",e=>{this.$store.state.clientNewVersion=e.version,this.updateVersion=e.version,this.updateNote=e.releaseNotes||this.$L("\u6CA1\u6709\u66F4\u65B0\u63CF\u8FF0\u3002"),this.updateShow=!$A.strExists(this.updateNote,`[${this.updateVersion}-Silence]`)}))},beforeDestroy(){this.subscribe&&(this.subscribe.unsubscribe(),this.subscribe=null)},watch:{updateShow(e){e&&(this.updateBottomShow=!0)}},computed:{showSSO(){return this.$isSoftware&&["login"].includes(this.$route.name)},showDown(){return!this.$isEEUiApp&&!this.windowTouch&&["login","index","manage-dashboard"].includes(this.$route.name)},showPrivacy(){return $A.isDooServer()&&this.$isEEUiApp&&["login"].includes(this.$route.name)}},methods:{isNotServer(){let e=$A.getDomain(window.systemInfo.apiUrl);return this.$isSoftware&&(e==""||e=="public")},prefetchResources(){this.isNotServer()||this.$Electron&&$A.$isSubElectron||this.$isEEUiApp||_e.get($A.apiUrl("system/prefetch")).then(({status:e,data:i})=>{e===200&&i.forEach(t=>{const n=document.createElement("link");n.rel="prefetch",n.href=t,n.onload=()=>{document.head.removeChild(n)},n.onerror=()=>{document.head.removeChild(n)},document.head.appendChild(n)})}).catch(e=>{})},checkVersion(){this.isNotServer()||(_e.get($A.apiUrl("system/version")).then(({status:e,data:i})=>{e===200&&(this.apiVersion=i.version||"",this.compareVersion(this.apiVersion,"0.19.0")===-1&&$A.modalWarning({title:"\u6E29\u99A8\u63D0\u793A",message:`\u670D\u52A1\u5668\uFF08${$A.getDomain($A.apiUrl("../"))}\uFF09\u63A5\u53E3\u7248\u672C\u8FC7\u4F4E\uFF0C\u90E8\u5206\u529F\u80FD\u53EF\u80FD\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528\u3002`}),this.$Electron?this.$Electron.sendMessage("updateCheckAndDownload",{apiVersion:this.apiVersion}):this.getDownloadUrl(i.publish))}).catch(e=>{}),this.__checkVersion&&clearTimeout(this.__checkVersion),this.__checkVersion=setTimeout(this.checkVersion,600*1e3))},getDownloadUrl(e){if(!!$A.isJson(e))switch(e.provider){case"generic":this.downloadUrl=`${e.url}/latest`;break;case"github":(async i=>{let t="cacheAppdown::"+this.apiVersion,n=await $A.IDBJson(t),s=600;if(n.time&&n.time+s>Math.round(new Date().getTime()/1e3)){this.downloadUrl=n.data.html_url;return}this.loadIng>0||(this.loadIng++,_e.get(`https://api.github.com/repos/${e.owner}/${e.repo}/releases`).then(({status:r,data:a})=>{this.loadIng--,r===200&&$A.isArray(a)&&(n.time=Math.round(new Date().getTime()/1e3),n.data=a.find(({tag_name:o})=>this.compareVersion(this.tagVersion(o),this.apiVersion)===0)||{},$A.IDBSave(t,n),this.downloadUrl=n.data.html_url)}).catch(()=>{this.loadIng--}))})();break}},updateQuitAndInstall(){this.updateIng=!0,setTimeout(()=>{this.$Electron.sendMessage("updateQuitAndInstall")},301)},useSSOLogin(){V.Store.set("useSSOLogin",!0)},tagVersion(e){return e?$A.leftDelete(e.toLowerCase(),"v"):""},compareVersion(e,i){let t=0,n=0;if(e===i)return 0;const s=(r,a)=>{let o=a;for(;r[o]!=="."&&o<r.length;)o++;return o};for(;t<e.length&&n<i.length;){const r=s(e,t),a=s(i,n),o=+e.substr(t,r-t),l=+i.substr(n,a-n);if(o!==l)return o>l?1:-1;t=r+1,n=a+1}for(;t<e.length;){const r=s(e,t);if(+e.substr(t,r-t)>0)return 1;t=r+1}for(;n<i.length;){const r=s(i,n);if(+i.substr(n,r-n)>0)return-1;n=r+1}return 0}}},Ge={};var xn=O(Dn,In,Cn,!1,Mn,null,null,null);function Mn(e){for(let i in Ge)this[i]=Ge[i]}var Ln=function(){return xn.exports}(),On=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("Modal",{attrs:{mask:!1,"mask-closable":!1,"footer-hide":!0,"transition-names":["",""],"class-name":e.viewMode==="desktop"?"common-preview-image-view":"common-preview-image-swipe",fullscreen:""},model:{value:e.show,callback:function(n){e.show=n},expression:"show"}},[e.list.length>0?[e.viewMode==="desktop"?t("PreviewImageView",{attrs:{"initial-index":e.index,"url-list":e.list,infinite:""}}):e._e(),e.viewMode==="mobile"?t("PreviewImageSwipe",{attrs:{"initial-index":e.index,"url-list":e.list},on:{"on-destroy":function(n){e.show=!1}}}):e._e()]:e._e()],2)},Pn=[];const Rn=()=>k(()=>import("./view.93f1dd14.js"),["js/build/view.93f1dd14.js","js/build/view.5e67e6f1.css","js/build/element-sea.dea177ef.js","js/build/vue.1f6d1fff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js"]),Nn=()=>k(()=>import("./swipe.6ab7e69e.js"),["js/build/swipe.6ab7e69e.js","js/build/swipe.7b577070.css","js/build/openpgp_hi.15f91b1d.js","js/build/photoswipe.48240c0a.js","js/build/photoswipe.0fb72215.css","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"]),Bn={name:"PreviewImage",components:{PreviewImageSwipe:Nn,PreviewImageView:Rn},props:{value:{type:Boolean,default:!1},index:{type:Number,default:0},list:{type:Array,default:()=>[]},mode:{type:String,default:null}},data(){return{show:this.value}},watch:{value(e){this.show=e},show(e){this.value!==e&&this.$emit("input",e)}},computed:{viewMode(){return this.mode?this.mode:this.windowTouch?"mobile":"desktop"}}},je={};var Un=O(Bn,On,Pn,!1,Fn,null,null,null);function Fn(e){for(let i in je)this[i]=je[i]}var Wn=function(){return Un.exports}(),Gn=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("PreviewImage",{attrs:{index:e.previewImageIndex,list:e.previewImageList},model:{value:e.show,callback:function(n){e.show=n},expression:"show"}})},jn=[];const zn={name:"PreviewImageState",components:{PreviewImage:Wn},computed:{...Y(["previewImageIndex","previewImageList"])},data(){return{show:!1}},watch:{show(e){e?this.$store.state.previewImageIndex=Math.min(Math.max(this.$store.state.previewImageIndex,0),this.$store.state.previewImageList.length-1):(this.$store.state.previewImageIndex=0,this.$store.state.previewImageList=[])},previewImageList(e){if(e.length>0)if($A.isEEUiApp){let i=Math.min(Math.max(this.$store.state.previewImageIndex,0),this.$store.state.previewImageList.length-1),t=e.map(s=>$A.isJson(s)?$A.thumbRestore(s.src):$A.thumbRestore(s)),n=50;if(t.length>n){const s=[];let r=0;for(;s.length<n&&r<n;){let a=i-r,o=i+r+1;a>=0&&s.unshift(t[a]),o<t.length&&s.push(t[o]),r++}i=s.findIndex(a=>a===t[i]),t=s}$A.eeuiAppSendMessage({action:"picturePreview",position:i,paths:t})}else this.show=!0}}},ze={};var Hn=O(zn,Gn,jn,!1,Kn,null,null,null);function Kn(e){for(let i in ze)this[i]=ze[i]}var Vn=function(){return Hn.exports}(),Jn=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"common-network-exception"},[e.type==="alert"?[e.show?t("Alert",{attrs:{type:"error","show-icon":"",closable:""}},[e._v(e._s(e.$L("\u7F51\u7EDC\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8BBE\u7F6E\u3002")))]):e._e()]:e.type==="modal"?[t("Modal",{attrs:{width:416,closable:!1,"footer-hide":!0,"class-name":"common-network-exception-modal"},model:{value:e.show,callback:function(n){e.show=n},expression:"show"}},[t("div",{staticClass:"ivu-modal-confirm"},[t("div",{staticClass:"ivu-modal-confirm-head"},[t("div",{staticClass:"ivu-modal-confirm-head-icon ivu-modal-confirm-head-icon-error"},[t("Icon",{attrs:{type:"ios-close-circle"}})],1),t("div",{staticClass:"ivu-modal-confirm-head-title"},[e._v(e._s(e.$L("\u6E29\u99A8\u63D0\u793A")))])]),t("div",{staticClass:"ivu-modal-confirm-body"},[t("div",[e._v(e._s(e.$L("\u7F51\u7EDC\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8BBE\u7F6E\u3002")))])]),t("div",{staticClass:"ivu-modal-confirm-footer"},[t("Button",{attrs:{type:"primary"},on:{click:function(n){e.show=!1}}},[e._v(e._s(e.$L("\u786E\u5B9A")))])],1)])])]:e._e()],2)},Yn=[];const qn={name:"NetworkException",props:{type:{type:String,default:"modal"}},data(){return{show:!1}},beforeDestroy(){this.show=!1},computed:{...Y(["ajaxNetworkException"])},watch:{ajaxNetworkException:{handler(e){this.show=e},immediate:!0}}},He={};var Zn=O(qn,Jn,Yn,!1,Xn,null,null,null);function Xn(e){for(let i in He)this[i]=He[i]}var Qn=function(){return Zn.exports}(),ei=function(){var e=this,i=e.$createElement,t=e._self._c||i;return e.show?t("div",{staticClass:"common-guide"},[t("img",{attrs:{src:e.src,width:"100%"}}),t("div",[t("Button",{attrs:{type:"default",size:"large"},on:{click:function(n){e.show=!1}}},[e._v(e._s(e.$L("\u5FCD\u5FC3\u62D2\u7EDD")))])],1)]):e._e()},ti=[];const ni={name:"GuidePage",data(){return{show:!1,src:""}},mounted(){this.src=$.apiUrl("../images/guide.png")},watch:{$route:{handler(e){this.show=!1,navigator.userAgent.indexOf("MicroMessenger")!==-1&&e.name=="manage-project-invite"&&(this.show=!0)},immediate:!0}}},Ke={};var ii=O(ni,ei,ti,!1,si,null,null,null);function si(e){for(let i in Ke)this[i]=Ke[i]}var ri=function(){return ii.exports}(),ai=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"task-menu-icon",on:{click:e.handleClick}},[e.loadIng?t("div",{staticClass:"loading"},[t("Loading")],1):[e.task.complete_at?t("Icon",{staticClass:"completed",attrs:{type:e.completedIcon}}):t("Icon",{staticClass:"uncomplete",attrs:{type:e.icon}})]],2)},oi=[];const li={name:"TaskMenu",props:{task:{type:Object,default:()=>({})},loadStatus:{type:Boolean,default:!1},colorShow:{type:Boolean,default:!0},operationShow:{type:Boolean,default:!0},updateBefore:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:"small"},icon:{type:String,default:"md-radio-button-off"},completedIcon:{type:String,default:"md-checkmark-circle"},projectId:{type:Number,default:0}},computed:{...Y(["loads","taskFlows"]),...ct(["isLoad"]),loadIng(){return this.loadStatus?!0:this.isLoad(`task-${this.task.id}`)}},methods:{handleClick(e){this.$store.state.taskOperation={event:e,task:this.task,loadStatus:this.loadStatus,colorShow:this.colorShow,operationShow:this.operationShow,updateBefore:this.updateBefore,disabled:this.disabled,size:this.size,projectId:this.projectId,onUpdate:i=>{this.$emit("on-update",i)}}},updateTask(e){if(this.loadIng)return;Object.keys(e).forEach(t=>this.$set(this.task,t,e[t]));const i=Object.assign(e,{task_id:this.task.id});this.$store.dispatch("taskUpdate",i).then(({data:t,msg:n})=>{$A.messageSuccess(n),this.$store.dispatch("saveTaskBrowse",i.task_id),this.$emit("on-update",t)}).catch(({msg:t})=>{$A.modalError(t),this.$store.dispatch("getTaskOne",i.task_id).catch(()=>{})})}}},Ve={};var ci=O(li,ai,oi,!1,ui,null,null,null);function ui(e){for(let i in Ve)this[i]=Ve[i]}var di=function(){return ci.exports}(),fi=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"common-user-select",class:e.warpClass},[e.module?e._e():t("ul",[e._l(e.values,function(n){return n?t("li",{on:{click:e.onSelection}},[t("UserAvatar",{attrs:{userid:n,size:e.avatarSize,"show-icon":e.avatarIcon,"show-name":e.avatarName}})],1):e._e()}),e.addIcon||e.values.length===0?t("li",{staticClass:"add-icon",style:e.addStyle,on:{click:e.onSelection}}):e._e()],2),t("Modal",{attrs:{"class-name":"common-user-select-modal","mask-closable":!1,closable:!e.isFullscreen,fullscreen:e.isFullscreen,"footer-hide":e.isFullscreen,width:"640"},scopedSlots:e._u([{key:"header",fn:function(){return[e.isFullscreen?t("div",{staticClass:"user-modal-header"},[t("div",{staticClass:"user-modal-close",on:{click:function(n){e.showModal=!1}}},[e._v(e._s(e.$L("\u5173\u95ED")))]),t("div",{staticClass:"user-modal-title"},[t("span",[e._v(e._s(e.localTitle))])]),t("div",{staticClass:"user-modal-submit",on:{click:e.onSubmit}},[e.submittIng>0?t("div",{staticClass:"submit-loading"},[t("Loading")],1):e._e(),e._v(" "+e._s(e.$L("\u786E\u5B9A"))+" "),e.selects.length>0?[e._v(" ("+e._s(e.selects.length)),e.multipleMax?t("span",[e._v("/"+e._s(e.multipleMax))]):e._e(),e._v(") ")]:e._e()],2)]):t("div",{staticClass:"ivu-modal-header-inner"},[e._v(e._s(e.localTitle))])]},proxy:!0},{key:"close",fn:function(){return[t("i",{staticClass:"ivu-icon ivu-icon-ios-close"})]},proxy:!0},{key:"footer",fn:function(){return[t("Button",{attrs:{type:"primary",loading:e.submittIng>0},on:{click:e.onSubmit}},[e._v(" "+e._s(e.$L("\u786E\u5B9A"))+" "),e.selects.length>0?[e._v(" ("+e._s(e.selects.length)),e.multipleMax?t("span",[e._v("/"+e._s(e.multipleMax))]):e._e(),e._v(") ")]:e._e()],2)]},proxy:!0}]),model:{value:e.showModal,callback:function(n){e.showModal=n},expression:"showModal"}},[t("div",{staticClass:"user-modal-search"},[e.selects.length>0?t("Scrollbar",{ref:"selected",staticClass:"search-selected",attrs:{"enable-x":"","enable-y":!1}},[t("ul",e._l(e.formatSelect(e.selects),function(n){return t("li",{attrs:{"data-id":n.userid},on:{click:function(s){return s.stopPropagation(),e.onRemoveItem(n.userid)}}},[n.type=="group"?[n.avatar?t("EAvatar",{staticClass:"img-avatar",attrs:{src:n.avatar,size:32}}):n.group_type=="department"?t("i",{staticClass:"taskfont icon-avatar department"},[e._v("\uE75C")]):n.group_type=="project"?t("i",{staticClass:"taskfont icon-avatar project"},[e._v("\uE6F9")]):n.group_type=="task"?t("i",{staticClass:"taskfont icon-avatar task"},[e._v("\uE6F4")]):n.group_type=="okr"?t("i",{staticClass:"taskfont icon-avatar task"},[e._v("\uE6F4")]):t("Icon",{staticClass:"icon-avatar",attrs:{type:"ios-people"}})]:t("UserAvatar",{attrs:{userid:n.userid}})],2)}),0)]):e._e(),t("Input",{staticClass:"search-input",attrs:{placeholder:e.localPlaceholder,clearable:""},model:{value:e.searchKey,callback:function(n){e.searchKey=n},expression:"searchKey"}},[t("div",{staticClass:"search-pre",attrs:{slot:"prefix"},slot:"prefix"},[e.loadIng>0?t("Loading"):t("Icon",{attrs:{type:"ios-search"}})],1)])],1),e.isWhole?t("ul",{staticClass:"user-modal-switch"},e._l(e.switchItems,function(n){return t("li",{key:n.key,class:{active:e.switchActive===n.key},on:{click:function(s){e.switchActive=n.key}}},[e._v(e._s(e.$L(n.label)))])}),0):e._e(),e.lists.length>0?t("Scrollbar",{staticClass:"user-modal-list"},[e.switchActive=="project"?t("ul",{staticClass:"user-modal-project"},e._l(e.lists,function(n){return t("li",{class:e.selectClass(n.userid_list),on:{click:function(s){return e.onSelectProject(n.userid_list)}}},[t("Icon",{staticClass:"user-modal-icon",attrs:{type:e.selectIcon(n.userid_list)}}),t("div",{staticClass:"user-modal-avatar"},[t("i",{staticClass:"taskfont icon-avatar"},[e._v("\uE6F9")]),t("div",{staticClass:"project-name"},[t("div",{staticClass:"label"},[e._v(e._s(n.name))]),t("div",{staticClass:"subtitle"},[e._v(" "+e._s(n.userid_list.length)+" "+e._s(e.$L("\u9879\u76EE\u6210\u5458"))+" "),t("em",{staticClass:"all"},[e._v(e._s(e.$L("\u5DF2\u5168\u9009")))]),t("em",{staticClass:"some"},[e._v(e._s(e.$L("\u5DF2\u9009\u90E8\u5206")))])])])])],1)}),0):t("ul",[e.showSelectAll?t("li",{class:e.selectClass("all"),on:{click:e.onSelectAll}},[t("Icon",{staticClass:"user-modal-icon",attrs:{type:e.selectIcon("all")}}),t("div",{staticClass:"user-modal-all"},[e._v(e._s(e.$L("\u5168\u9009")))])],1):e._e(),e._l(e.lists,function(n){return t("li",{class:{selected:e.selects.includes(n.userid),disabled:e.isUncancelable(n.userid)||e.isDisabled(n.userid)},on:{click:function(s){return e.onSelectItem(n)}}},[e.selects.includes(n.userid)?t("Icon",{staticClass:"user-modal-icon",attrs:{type:"ios-checkmark-circle"}}):t("Icon",{staticClass:"user-modal-icon",attrs:{type:"ios-radio-button-off"}}),n.type=="group"?t("div",{staticClass:"user-modal-avatar"},[n.avatar?t("EAvatar",{staticClass:"img-avatar",attrs:{src:n.avatar,size:40}}):n.group_type=="department"?t("i",{staticClass:"taskfont icon-avatar department"},[e._v("\uE75C")]):n.group_type=="project"?t("i",{staticClass:"taskfont icon-avatar project"},[e._v("\uE6F9")]):n.group_type=="task"?t("i",{staticClass:"taskfont icon-avatar task"},[e._v("\uE6F4")]):n.group_type=="okr"?t("i",{staticClass:"taskfont icon-avatar task"},[e._v("\uE6F4")]):t("Icon",{staticClass:"icon-avatar",attrs:{type:"ios-people"}}),t("div",{staticClass:"avatar-name"},[t("span",[e._v(e._s(n.name))])])],1):t("UserAvatar",{staticClass:"user-modal-avatar",attrs:{userid:n.userid,size:40,"show-name":""}})],1)})],2)]):t("div",{staticClass:"user-modal-empty"},[e.waitIng>0?t("Loading"):[t("div",{staticClass:"empty-icon"},[t("Icon",{attrs:{type:"ios-cafe-outline"}})],1),t("div",{staticClass:"empty-text"},[e._v(e._s(e.$L("\u6682\u65E0\u7ED3\u679C")))])]],2)],1)],1)},hi=[];const pi={name:"UserSelect",props:{value:{type:[String,Number,Array],default:()=>[]},uncancelable:{type:Array,default:()=>[]},disabledChoice:{type:Array,default:()=>[]},projectId:{type:Number,default:0},noProjectId:{type:Number,default:0},dialogId:{type:Number,default:0},showBot:{type:Boolean,default:!1},showDisable:{type:Boolean,default:!1},multipleMax:{type:Number},avatarSize:{type:Number,default:28},avatarIcon:{type:Boolean,default:!0},avatarName:{type:Boolean,default:!1},addIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!1},title:{type:String},placeholder:{type:String},showSelectAll:{type:Boolean,default:!0},showDialog:{type:Boolean,default:!1},module:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onlyGroup:{type:Boolean,default:!1},beforeSubmit:Function},data(){return{switchItems:[{key:"recent",label:"\u6700\u8FD1"},{key:"contact",label:"\u901A\u8BAF\u5F55"},{key:"project",label:"\u9879\u76EE\u6210\u5458"}],switchActive:"recent",loadIng:0,waitIng:0,submittIng:0,values:[],selects:[],recents:[],contacts:[],projects:[],showModal:!1,searchKey:null,searchCache:[]}},watch:{value:{handler(e){typeof e=="number"?this.$emit("input",e>0?[e]:[]):typeof e=="string"&&(e=e.indexOf(",")>-1?e.split(","):[e],this.$emit("input",e.map(i=>$A.runNum(i)).filter(i=>i>0))),this.values=e},immediate:!0},isWhole:{handler(e){e||this.onlyGroup?this.switchActive="recent":this.switchActive="contact"},immediate:!0},showModal(e){e?this.searchBefore():this.searchKey="",this.$emit("on-show-change",e)},searchKey(){this.searchBefore()},switchActive(){this.searchBefore()}},computed:{...Y(["cacheDialogs"]),isFullscreen({windowWidth:e}){return e<576},isWhole({projectId:e,noProjectId:i,dialogId:t,onlyGroup:n}){return e===0&&i===0&&t===0&&!n},lists({switchActive:e,searchKey:i,recents:t,contacts:n,projects:s}){switch(e){case"recent":return i?t.filter(r=>`${r.name}`.indexOf(i)>-1):t;case"contact":return n;case"project":return s}return[]},isSelectAll({lists:e,selects:i}){return e.length>0&&e.filter(t=>i.includes(t.userid)).length===e.length},warpClass(){return{"select-module":this.module,"select-border":this.border,"select-whole":this.isWhole}},addStyle({avatarSize:e}){return{width:e+"px",height:e+"px"}},localTitle({title:e}){return e===void 0?this.$L("\u9009\u62E9\u4F1A\u5458"):e},localPlaceholder({placeholder:e}){return e===void 0?this.$L("\u641C\u7D22"):e}},methods:{isUncancelable(e){return this.uncancelable.length===0?!1:this.uncancelable.includes(e)},isDisabled(e){return this.disabledChoice.length===0?!1:this.disabledChoice.includes(e)},formatSelect(e){return e.map(i=>$A.leftExists(i,"d:")?this.recents.find(t=>t.userid===i):{type:"user",userid:i})},selectIcon(e){if(e==="all")return this.isSelectAll?"ios-checkmark-circle":"ios-radio-button-off";if($A.isArray(e)&&e.length>0){const i=e.filter(t=>this.selects.includes(t)).length;if(i===e.length)return"ios-checkmark-circle";if(i>0)return"ios-remove-circle"}return"ios-radio-button-off"},selectClass(e){switch(this.selectIcon(e)){case"ios-checkmark-circle":return"selected";case"ios-remove-circle":return"somed"}return""},searchBefore(){!this.showModal||(this.switchActive==="recent"?this.searchRecent():this.switchActive==="contact"?this.searchContact():this.switchActive==="project"&&this.searchProject())},searchRecent(){this.recents=this.cacheDialogs.filter(e=>this.onlyGroup&&e.type!="group"||e.name===void 0||e.dialog_delete===1||!this.showBot&&e.bot?!1:this.showDialog||e.type==="user").sort((e,i)=>e.top_at||i.top_at?$A.Date(i.top_at)-$A.Date(e.top_at):e.todo_num>0||i.todo_num>0?i.todo_num-e.todo_num:$A.Date(i.last_at)-$A.Date(e.last_at)).map(({id:e,name:i,type:t,group_type:n,avatar:s,dialog_user:r})=>({name:i,type:t,group_type:n,avatar:s,userid:t==="user"?r.userid:`d:${e}`}))},searchContact(){let e=this.searchKey;const i=this.searchCache.find(t=>t.type==="contact"&&t.key==e);i&&(this.contacts=i.data),this.waitIng++,setTimeout(()=>{if(this.searchKey!=e){this.waitIng--;return}setTimeout(()=>{this.loadIng++},300),this.$store.dispatch("call",{url:"users/search",data:{keys:{key:e,project_id:this.projectId,no_project_id:this.noProjectId,dialog_id:this.dialogId,bot:this.showBot&&e?2:0,disable:this.showDisable&&e?2:0},take:50}}).then(({data:t})=>{t=t.map(r=>Object.assign(r,{type:"user"})),this.contacts=t;const n=this.searchCache.findIndex(r=>r.key==e),s={type:"contact",key:e,data:t,time:$A.Time()};n>-1?this.searchCache.splice(n,1,s):this.searchCache.push(s)}).catch(({msg:t})=>{this.contacts=[],$A.messageWarning(t)}).finally(t=>{this.loadIng--,this.waitIng--})},this.searchCache.length>0?300:0)},searchProject(){let e=this.searchKey;const i=this.searchCache.find(t=>t.type==="project"&&t.key==e);i&&(this.projects=i.data),this.waitIng++,setTimeout(()=>{if(this.searchKey!=e){this.waitIng--;return}setTimeout(()=>{this.loadIng++},300),this.$store.dispatch("call",{url:"project/lists",data:{type:"team",keys:{name:e},getuserid:"yes",getstatistics:"no"}}).then(({data:t})=>{t=t.data.map(r=>Object.assign(r,{type:"project"})),this.projects=t;const n=this.searchCache.findIndex(r=>r.key==e),s={type:"project",key:e,data:t,time:$A.Time()};n>-1?this.searchCache.splice(n,1,s):this.searchCache.push(s)}).catch(({msg:t})=>{this.projects=[],$A.messageWarning(t)}).finally(t=>{this.loadIng--,this.waitIng--})},this.searchCache.length>0?300:0)},onSelection(){this.disabled||this.$nextTick(e=>{this.selects=$A.cloneJSON(this.values),this.showModal=!0})},onSelectAll(){if(this.isSelectAll){this.selects=$A.cloneJSON(this.uncancelable);return}this.lists.some(e=>{if(this.isDisabled(e.userid))return!1;if(this.multipleMax&&this.selects.length>=this.multipleMax)return $A.messageWarning("\u5DF2\u8D85\u8FC7\u6700\u5927\u9009\u62E9\u6570\u91CF"),!0;this.selects.includes(e.userid)||this.selects.push(e.userid)})},onSelectItem({userid:e}){if(this.selects.includes(e)){if(this.isUncancelable(e))return;this.selects=this.selects.filter(i=>i!=e)}else{if(this.isDisabled(e))return;if(this.multipleMax&&this.selects.length>=this.multipleMax){if(this.multipleMax>1){$A.messageWarning("\u5DF2\u8D85\u8FC7\u6700\u5927\u9009\u62E9\u6570\u91CF");return}this.selects=[]}this.selects.push(e),this.$nextTick(()=>{$A.scrollIntoViewIfNeeded(this.$refs.selected.querySelector(`li[data-id="${e}"]`))})}},onSelectProject(e){switch(this.selectIcon(e)){case"ios-checkmark-circle":const i=e.filter(n=>!this.isUncancelable(n));i.length!=e.length&&$A.messageWarning("\u90E8\u5206\u6210\u5458\u7981\u6B62\u53D6\u6D88"),this.selects=this.selects.filter(n=>!i.includes(n));break;default:const t=e.filter(n=>!this.isDisabled(n));t.length!=e.length&&$A.messageWarning("\u90E8\u5206\u6210\u5458\u7981\u6B62\u9009\u62E9"),this.selects=this.selects.concat(t.filter(n=>!this.selects.includes(n))),this.multipleMax&&this.selects.length>this.multipleMax&&($A.messageWarning("\u5DF2\u8D85\u8FC7\u6700\u5927\u9009\u62E9\u6570\u91CF"),this.selects=this.selects.slice(0,this.multipleMax));break}},onRemoveItem(e){this.isUncancelable(e)||(this.selects=this.selects.filter(i=>i!=e))},onSubmit(){if(this.submittIng>0)return;const e=$A.cloneJSON(this.values);if(this.values=$A.cloneJSON(this.selects),this.$emit("input",this.values),this.$emit("on-submit",this.values),!this.beforeSubmit){this.hide();return}const i=this.beforeSubmit();i&&i.then?(this.submittIng++,i.then(()=>{this.hide()}).catch(()=>{this.values=e,this.$emit("input",this.values)}).finally(()=>{this.submittIng--})):this.hide()},show(){this.onSelection()},hide(){this.showModal=!1}}},Je={};var gi=O(pi,fi,hi,!1,mi,null,null,null);function mi(e){for(let i in Je)this[i]=Je[i]}var _i=function(){return gi.exports}(),wi=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"task-move"},[t("Cascader",{attrs:{data:e.cascaderData,clearable:!1,placeholder:e.$L("\u8BF7\u9009\u62E9\u9879\u76EE"),"load-data":e.cascaderLoadData,filterable:""},on:{"on-visible-change":function(n){e.cascaderShow=!e.cascaderShow}},model:{value:e.cascader,callback:function(n){e.cascader=n},expression:"cascader"}}),t("div",{staticClass:"task-move-content"},[t("div",{staticClass:"task-move-content-old"},[t("div",{staticClass:"task-move-title"},[e._v(e._s(e.$L("\u79FB\u52A8\u524D")))]),t("div",{staticClass:"task-move-row"},[t("span",{staticClass:"label"},[e._v(e._s(e.$L("\u72B6\u6001"))+":")]),e.task.flow_item_name?t("div",{staticClass:"flow"},[t("span",{class:e.task.flow_item_status},[e._v(e._s(e.task.flow_item_name))])]):e._e()]),t("div",{staticClass:"task-move-row",class:{"not-flex":e.windowPortrait}},[t("span",{staticClass:"label"},[e._v(e._s(e.$L("\u8D1F\u8D23\u4EBA"))+":")]),t("UserSelect",{staticClass:"item-content user",attrs:{"avatar-size":28,"project-id":e.task.project_id,"add-icon":!1,disabled:""},model:{value:e.ownerUserids,callback:function(n){e.ownerUserids=n},expression:"ownerUserids"}})],1),t("div",{staticClass:"task-move-row",class:{"not-flex":e.windowPortrait}},[t("span",{staticClass:"label"},[e._v(e._s(e.$L("\u534F\u52A9\u4EBA"))+":")]),t("UserSelect",{staticClass:"item-content user",attrs:{"avatar-size":28,"project-id":e.task.project_id,"add-icon":!1,disabled:""},model:{value:e.assistUserids,callback:function(n){e.assistUserids=n},expression:"assistUserids"}})],1)]),t("div",{staticClass:"task-move-content-new"},[t("div",{staticClass:"task-move-title"},[e._v(e._s(e.$L("\u79FB\u52A8\u540E")))]),t("div",{staticClass:"task-move-row"},[t("span",{staticClass:"label"},[e._v(e._s(e.$L("\u72B6\u6001"))+":")]),t("TaskMenu",{ref:`taskMenu_${e.task.id}`,attrs:{task:e.tasks,"project-id":e.cascader[0],"color-show":!1,"operation-show":!1,"load-status":e.task.loading===!0},on:{"on-update":e.onStatusUpdate}}),e.updateData.flow.flow_item_name?t("div",{staticClass:"flow"},[t("span",{class:e.updateData.flow.flow_item_status,on:{click:function(n){return n.stopPropagation(),e.openMenu(n,e.tasks)}}},[e._v(e._s(e.updateData.flow.flow_item_name))])]):e._e()],1),t("div",{staticClass:"task-move-row",class:{"not-flex":e.windowPortrait}},[t("span",{staticClass:"label"},[e._v(e._s(e.$L("\u8D1F\u8D23\u4EBA"))+":")]),t("div",[t("UserSelect",{staticClass:"item-content user",attrs:{"multiple-max":10,"avatar-size":28,"project-id":e.cascader[0],"add-icon":!1},model:{value:e.updateData.owner_userids,callback:function(n){e.$set(e.updateData,"owner_userids",n)},expression:"updateData.owner_userids"}})],1)]),t("div",{staticClass:"task-move-row",class:{"not-flex":e.windowPortrait}},[t("span",{staticClass:"label"},[e._v(e._s(e.$L("\u534F\u52A9\u4EBA"))+":")]),t("div",[t("UserSelect",{staticClass:"item-content user",attrs:{"multiple-max":10,"avatar-size":28,"project-id":e.cascader[0],"add-icon":!1},model:{value:e.updateData.assist_userids,callback:function(n){e.$set(e.updateData,"assist_userids",n)},expression:"updateData.assist_userids"}})],1)])])]),t("div",{staticClass:"ivu-modal-footer"},[t("div",{staticClass:"adaption"},[t("Button",{attrs:{type:"default"},on:{click:e.close}},[e._v(e._s(e.$L("\u53D6\u6D88")))]),t("Button",{attrs:{type:"primary",loading:e.loadIng>0},on:{click:e.onConfirm}},[e._v(e._s(e.$L("\u786E\u5B9A")))])],1)])],1)},yi=[];const vi={name:"TaskMove",components:{TaskMenu:di,UserSelect:_i},props:{value:{type:Boolean,default:!1},task:{type:Object,default:!1}},data(){return{tasks:{},cascader:[],cascaderShow:!1,cascaderData:[],cascaderValue:"",cascaderLoading:0,cascaderAlready:[],loadIng:0,flowItemId:0,ownerUserids:[],assistUserids:[],updateData:{flow:{},owner_userids:[],assist_userids:[]}}},async mounted(){this.initData()},computed:{...Y(["cacheProjects","cacheColumns"])},watch:{cascader(e){var t,n;this.tasks.flow_item_id=this.flowItemId,e[0]!=this.task.project_id?(this.updateData.flow.flow_item_id=0,this.updateData.flow.flow_item_name="",this.updateData.flow.flow_item_status=""):(this.updateData.flow.flow_item_id=this.flowItemId,this.updateData.flow.flow_item_name=this.task.flow_item_name,this.updateData.flow.flow_item_status=this.task.flow_item_status);const i=((n=(t=this.cacheProjects.find(s=>s.id==e[0]))==null?void 0:t.project_user)==null?void 0:n.map(s=>s.userid))||[];this.updateData.owner_userids=(this.task.task_user||[]).filter(s=>s.owner&&i.indexOf(s.userid)!==-1).sort((s,r)=>s.id-r.id).map(s=>s.userid),this.updateData.assist_userids=(this.task.task_user||[]).filter(s=>!s.owner&&i.indexOf(s.userid)!==-1).sort((s,r)=>s.id-r.id).map(s=>s.userid)}},methods:{initData(){this.flowItemId=this.task.flow_item_id,this.cascader=[this.task.project_id,this.task.column_id],this.ownerUserids=(this.task.task_user||[]).filter(i=>i.owner).sort((i,t)=>i.id-t.id).map(i=>i.userid),this.assistUserids=(this.task.task_user||[]).filter(i=>!i.owner).sort((i,t)=>i.id-t.id).map(i=>i.userid),this.tasks=JSON.parse(JSON.stringify(this.task));const e=$A.cloneJSON(this.cacheProjects).sort((i,t)=>i.top_at||t.top_at?$A.Date(t.top_at)-$A.Date(i.top_at):t.id-i.id);this.cascaderData=e.map(i=>{const t=this.cacheColumns.filter(({project_id:s})=>s==i.id).map(s=>({value:s.id,label:s.name})),n={value:i.id,label:i.name,children:t};return t.length==0&&(n.loading=!1),n})},cascaderLoadData(e,i){e.loading=!0,this.$store.dispatch("getColumns",e.value).then(t=>{e.children=t.map(n=>({value:n.id,label:n.name})),e.loading=!1,i()}).catch(()=>{e.loading=!1,i()})},async onConfirm(){if(this.task.project_id==this.cascader[0]&&this.task.column_id==this.cascader[1]){$A.messageError("\u672A\u53D8\u66F4\u79FB\u52A8\u9879");return}if(!this.updateData.flow.flow_item_id){$A.messageError("\u8BF7\u9009\u62E9\u79FB\u52A8\u540E\u72B6\u6001");return}this.loadIng++,this.$store.dispatch("call",{url:"project/task/move",data:{task_id:this.task.id,project_id:this.cascader[0],column_id:this.cascader[1],flow_item_id:this.updateData.flow.flow_item_id,owner:this.updateData.owner_userids,assist:this.updateData.assist_userids}}).then(({data:e,msg:i})=>{this.loadIng--,e.column_name="",e.project_name="",this.$store.dispatch("saveTask",e),$A.messageSuccess(i),this.close()}).catch(({msg:e})=>{this.loadIng--,$A.modalError(e)})},close(){this.$emit("input",!this.value)},openMenu(e,i){const t=this.$refs[`taskMenu_${i.id}`];t&&t.handleClick(e)},onStatusUpdate(e){this.tasks.flow_item_id=e.flow_item_id,this.updateData.flow=e}}},Ye={};var bi=O(vi,wi,yi,!1,Ai,null,null,null);function Ai(e){for(let i in Ye)this[i]=Ye[i]}var ki=function(){return bi.exports}(),$i=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("EDropdown",{ref:"dropdown",staticClass:"task-operation-dropdown",style:e.styles,attrs:{trigger:"click",disabled:e.disabled,size:e.size,placement:"bottom"},on:{command:e.dropTask,"visible-change":e.visibleChange}},[t("div",{ref:"icon",staticClass:"task-operation-icon"}),t("EDropdownMenu",{ref:"dropdownMenu",staticClass:"task-operation-more-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[t("li",{staticClass:"task-operation-more-warp",class:e.size},[t("ul",[e.flow?e.turns.length>0?e._l(e.turns,function(n){return t("EDropdownItem",{key:n.id,attrs:{command:`turn::${n.id}`}},[t("div",{staticClass:"item flow"},[n.id==e.task.flow_item_id&&e.flow.auto_assign!==!0?t("Icon",{staticClass:"check",attrs:{type:"md-checkmark-circle-outline"}}):t("Icon",{attrs:{type:"md-radio-button-off"}}),t("div",{staticClass:"flow-name",class:n.status},[e._v(e._s(n.name))])],1)])}):[e.task.complete_at?t("EDropdownItem",{attrs:{command:"uncomplete"}},[t("div",{staticClass:"item red"},[t("Icon",{attrs:{type:"md-checkmark-circle-outline"}}),e._v(e._s(e.$L("\u6807\u8BB0\u672A\u5B8C\u6210"))+" ")],1)]):t("EDropdownItem",{attrs:{command:"complete"}},[t("div",{staticClass:"item"},[t("Icon",{attrs:{type:"md-radio-button-off"}}),e._v(e._s(e.$L("\u5B8C\u6210"))+" ")],1)])]:t("EDropdownItem",{staticClass:"load-flow",attrs:{disabled:""}},[t("div",{staticClass:"load-flow-warp"},[t("Loading")],1)]),e.task.parent_id===0?[e.operationShow?[t("EDropdownItem",{attrs:{divided:e.turns.length>0,command:"archived"}},[t("div",{staticClass:"item"},[t("Icon",{attrs:{type:"ios-filing"}}),e._v(e._s(e.$L(e.task.archived_at?"\u8FD8\u539F\u5F52\u6863":"\u5F52\u6863"))+" ")],1)]),t("EDropdownItem",{attrs:{command:"move"}},[t("div",{staticClass:"item"},[t("i",{staticClass:"taskfont movefont"},[e._v("\uE7FC")]),e._v(e._s(e.$L("\u79FB\u52A8"))+" ")])]),t("EDropdownItem",{attrs:{command:"remove"}},[t("div",{staticClass:"item hover-del"},[t("Icon",{attrs:{type:"md-trash"}}),e._v(e._s(e.$L("\u5220\u9664"))+" ")],1)])]:e._e(),e.colorShow?e._l(e.taskColorList,function(n,s){return t("EDropdownItem",{key:"c_"+s,attrs:{divided:s==0,command:n}},[t("div",{staticClass:"item"},[t("i",{staticClass:"taskfont",style:{color:n.primary||"#ddd"},domProps:{innerHTML:e._s(n.color==(e.task.color||"")?"&#xe61d;":"&#xe61c;")}}),e._v(e._s(e.$L(n.name))+" ")])])}):e._e()]:e.operationShow?t("EDropdownItem",{attrs:{command:"remove",divided:e.turns.length>0}},[t("div",{staticClass:"item"},[t("Icon",{attrs:{type:"md-trash"}}),e._v(e._s(e.$L("\u5220\u9664"))+" ")],1)]):e._e()],2)])])],1),t("Modal",{attrs:{title:e.$L("\u79FB\u52A8\u4EFB\u52A1"),"mask-closable":!1,styles:{width:"90%",maxWidth:"540px"},"footer-hide":""},model:{value:e.moveTaskShow,callback:function(n){e.moveTaskShow=n},expression:"moveTaskShow"}},[t("TaskMove",{ref:"addTask",attrs:{task:e.task},model:{value:e.moveTaskShow,callback:function(n){e.moveTaskShow=n},expression:"moveTaskShow"}})],1)],1)},Si=[];const Ei={name:"TaskOperation",components:{TaskMove:ki},data(){return{task:{},loadStatus:!1,colorShow:!0,operationShow:!0,updateBefore:!1,disabled:!1,size:"small",projectId:0,onUpdate:null,element:null,target:null,styles:{},moveTaskShow:!1}},beforeDestroy(){this.target&&this.target.removeEventListener("scroll",this.handlerEventListeners)},computed:{...Y(["loads","taskOperation","taskColorList","taskFlows","taskFlowItems"]),...ct(["isLoad"]),loadIng(){return this.loadStatus?!0:this.isLoad(`task-${this.task.id}`)},flow(){return this.taskFlows.find(({task_id:e})=>e==this.task.id)},turns(){if(!this.flow)return[];let e=this.taskFlowItems.find(({id:i})=>i==this.flow.flow_item_id);return e?this.taskFlowItems.filter(({id:i})=>e.turns.includes(i)):[]}},watch:{taskOperation(e){if(e.event&&e.task){if(this.$refs.dropdown.visible&&this.element===e.event.target){this.hide();return}const i=e.event.target.getBoundingClientRect();this.styles={left:`${i.left}px`,top:`${i.top}px`,width:`${i.width}px`,height:`${i.height}px`},this.task=e.task,this.loadStatus=typeof e.loadStatus=="undefined"?!1:e.loadStatus,this.colorShow=typeof e.colorShow=="undefined"?!0:e.colorShow,this.operationShow=typeof e.operationShow=="undefined"?!0:e.operationShow,this.updateBefore=typeof e.updateBefore=="undefined"?!1:e.updateBefore,this.disabled=typeof e.disabled=="undefined"?!1:e.disabled,this.size=typeof e.size=="undefined"?"small":e.size,this.projectId=typeof e.projectId=="undefined"?0:e.projectId,this.onUpdate=typeof e.onUpdate=="function"?e.onUpdate:null,this.$refs.icon.focus(),this.updatePopper(),this.show(),this.$store.dispatch("getTaskFlow",{task_id:this.task.id,project_id:this.projectId}).finally(this.updatePopper),this.setupEventListeners(e.event)}else this.hide()}},methods:{show(){this.$refs.dropdown.show()},hide(){this.$refs.dropdown.hide()},dropTask(e){const i=this.task,t=n=>{n?this.$store.dispatch("saveTaskCompleteTemp",i.id):this.$store.dispatch("forgetTaskCompleteTemp",i.id)};if($A.isJson(e)){e.name&&this.updateTask({color:e.color}).catch(()=>{});return}if($A.leftExists(e,"turn::")){let n=$A.leftDelete(e,"turn::");if(n==this.task.flow_item_id)return;let s=this.taskFlowItems.find(({id:l})=>l==this.flow.flow_item_id)||{},r=this.taskFlowItems.find(({id:l})=>l==n)||{},a=s.status!=="end"&&r.status==="end",o=s.status==="end"&&r.status!=="end";this.updateBefore&&(a?t(!0):o&&t(!1)),this.updateTask({flow_item_id:n,flow_item_status:r.status,flow_item_name:r.name}).then(()=>{a?t(!0):o&&t(!1)}).catch(()=>{a?t(!1):o&&t(!0)});return}switch(e){case"complete":if(this.task.complete_at)return;this.updateBefore&&t(!0),this.updateTask({complete_at:$A.formatDate("Y-m-d H:i:s")}).then(()=>{t(!0)}).catch(()=>{t(!1)});break;case"uncomplete":if(!this.task.complete_at)return;this.updateBefore&&t(!1),this.updateTask({complete_at:!1}).then(()=>{t(!1)}).catch(()=>{t(!0)});break;case"archived":case"remove":this.archivedOrRemoveTask(e);break;case"move":this.moveTaskShow=!0;break}},updateTask(e){return new Promise((i,t)=>{if(this.loadIng){t();return}const n=Object.assign(e,{task_id:this.task.id});if(!this.operationShow){typeof this.onUpdate=="function"&&this.onUpdate(n),t();return}Object.keys(e).forEach(s=>this.$set(this.task,s,e[s])),this.$store.dispatch("taskUpdate",n).then(({data:s,msg:r})=>{$A.messageSuccess(r),i(),this.$store.dispatch("saveTaskBrowse",n.task_id),typeof this.onUpdate=="function"&&this.onUpdate(s)}).catch(({msg:s})=>{$A.modalError(s),this.$store.dispatch("getTaskOne",n.task_id).catch(()=>{}),t()})})},archivedOrRemoveTask(e){let i="removeTask",t="\u5220\u9664",n={task_id:this.task.id},s=this.task.parent_id>0?"\u5B50\u4EFB\u52A1":"\u4EFB\u52A1";e=="archived"&&(i="archivedTask",t="\u5F52\u6863",this.task.archived_at&&(t="\u8FD8\u539F\u5F52\u6863",n={task_id:this.task.id,type:"recovery"})),$A.modalConfirm({title:t+s,content:"\u4F60\u786E\u5B9A\u8981"+t+s+"\u3010"+this.task.name+"\u3011\u5417\uFF1F",loading:!0,onOk:()=>{if(!this.loadIng)return new Promise((r,a)=>{this.$store.dispatch(i,n).then(({msg:o})=>{r(o),this.$store.dispatch("saveTaskBrowse",n.task_id)}).catch(({msg:o})=>{a(o)})})}})},visibleChange(e){this.visible=e},updatePopper(){this.$nextTick(this.$refs.dropdownMenu.updatePopper)},setupEventListeners(e){this.element=e.target;let i=this.getScrollParent(this.element);if((i===window.document.body||i===window.document.documentElement)&&(i=window),this.target){if(this.target===i)return;this.target.removeEventListener("scroll",this.handlerEventListeners)}this.target=i,this.target.addEventListener("scroll",this.handlerEventListeners)},handlerEventListeners(e){if(!this.visible||!this.element)return;const i=e.target.getBoundingClientRect(),t=this.element.getBoundingClientRect();if(t.top<i.top||t.top>i.top+i.height){this.hide();return}this.styles={left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`,height:`${t.height}px`},this.updatePopper()},getScrollParent(e){const i=e.parentNode;return i?i===window.document?window.document.body.scrollTop||window.document.body.scrollLeft?window.document.body:window.document.documentElement:["scroll","auto"].indexOf(this.getStyleComputedProperty(i,"overflow"))!==-1||["scroll","auto"].indexOf(this.getStyleComputedProperty(i,"overflow-x"))!==-1||["scroll","auto"].indexOf(this.getStyleComputedProperty(i,"overflow-y"))!==-1?i:this.getScrollParent(e.parentNode):e},getStyleComputedProperty(e,i){return window.getComputedStyle(e,null)[i]}}},qe={};var Ti=O(Ei,$i,Si,!1,Ii,null,null,null);function Ii(e){for(let i in qe)this[i]=qe[i]}var Ci=function(){return Ti.exports}(),Di=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{attrs:{id:"app"}},[t("keep-alive",[t("router-view",{staticClass:"child-view"})],1),t("TaskOperation"),t("FloatSpinner"),t("RightBottom"),t("PreviewImageState"),e.windowLandscape?t("NetworkException"):e._e(),t("GuidePage")],1)},xi=[];const Mi={components:{TaskOperation:Ci,NetworkException:Qn,PreviewImageState:Vn,RightBottom:Ln,FloatSpinner:Ht,GuidePage:ri},data(){return{routePath:null,searchInter:null}},created(){this.electronEvents(),this.eeuiEvents(),this.otherEvents()},mounted(){window.addEventListener("resize",this.windowSizeListener),window.addEventListener("scroll",this.windowScrollListener),window.addEventListener("message",this.windowHandleMessage),this.searchInter=setInterval(this.searchEnter,1e3)},beforeDestroy(){window.removeEventListener("resize",this.windowSizeListener),window.removeEventListener("scroll",this.windowScrollListener),window.removeEventListener("message",this.windowHandleMessage),this.searchInter&&clearInterval(this.searchInter)},computed:{...Y(["ws","themeConf","windowOrientation"])},watch:{$route:{handler(e){this.routePath=e.path},immediate:!0},routePath:{handler(e){e&&this.userId>0&&(e=e.replace(/^\/manage\/file\/\d+\/(\d+)$/,"/single/file/$1"),this.$store.dispatch("websocketPath",e))},immediate:!0},userId:{handler(){this.$store.dispatch("websocketConnection"),this.userId>0&&(this.$isEEUiApp&&($A.eeuiAppSendMessage({action:"intiUmeng"}),setTimeout(e=>{$A.eeuiAppSendMessage({action:"setUmengAlias",userid:this.userId,token:this.userToken,url:$A.apiUrl("users/umeng/alias")})},6e3)),$A.IDBString("logOpen").then(e=>{$A.openLog=e==="open",$A.openLog&&$A.loadScript("js/vconsole.min.js").then(i=>{window.vConsole=new window.VConsole({onReady:()=>{console.log("vConsole: onReady")},onClearLog:()=>{console.log("vConsole: onClearLog")}})}).catch(i=>{$A.modalError("vConsole \u7EC4\u4EF6\u52A0\u8F7D\u5931\u8D25\uFF01")})}))},immediate:!0},windowTouch:{handler(e){e?$A("body").addClass("window-touch"):$A("body").removeClass("window-touch")},immediate:!0},windowOrientation:{handler(e){$A("body").removeClass(["window-landscape","window-portrait"]),$A("body").addClass("window-"+e)},immediate:!0},windowActive(e){e?(this.autoTheme(),this.__windowTimer&&clearTimeout(this.__windowTimer),this.__windowTimer=setTimeout(i=>{this.$store.dispatch("call",{url:"users/socket/status"}).then(t=>{this.$store.dispatch("websocketSend",{type:"handshake"}).catch(n=>{this.$store.dispatch("websocketConnection")})}).catch(t=>{this.$store.dispatch("websocketConnection")})},600)):this.$store.dispatch("audioStop",!0)}},methods:{searchEnter(){let e=$A(".sreachBox");if(e.length===0||e.attr("data-enter-init")==="init")return;e.attr("data-enter-init","init");let i=e.find("button[type='button']"),t=null;i.length!==0&&(i.each((n,s)=>{$A(s).text().indexOf("\u641C\u7D22")&&(t=$A(s))}),t!==null&&e.find("input.ivu-input").keydown(function(n){n.keyCode==13&&(t.hasClass("ivu-btn-loading")||t.click())}))},autoTheme(){this.themeConf==="auto"&&this.$store.dispatch("synchTheme")},windowSizeListener(){const e=$A(window).width(),i=$A(window).height(),t=$A.screenOrientation();this.$store.state.windowTouch="ontouchend"in document,this.$store.state.windowWidth=e,this.$store.state.windowHeight=i,this.$store.state.windowOrientation=t,this.$store.state.windowLandscape=t==="landscape",this.$store.state.windowPortrait=t==="portrait",this.$store.state.formLabelPosition=e>576?"right":"top",this.$store.state.formLabelWidth=e>576?"auto":""},windowScrollListener(){this.$store.state.windowScrollY=window.scrollY},windowHandleMessage({data:e}){e=$A.jsonParse(e),e.type==="currentOpen"&&($A.getDomain(window.location.href)===$A.getDomain(e.url)||$A.getDomain($A.apiUrl("../"))===$A.getDomain(e.url))&&(window.location.href=e.url)},electronEvents(){!this.$Electron||(window.__onBeforeUnload=()=>{if(this.$Modal.removeLast())return!0},window.__onBeforeOpenWindow=({url:e})=>{if($A.getDomain(e)==$A.getDomain($A.apiUrl("../")))try{if(/^\/uploads\//i.test(new URL(e).pathname))return!1}catch{}return this.$store.dispatch("openWebTabWindow",e),!0},this.$Electron.registerMsgListener("dispatch",e=>{if(!$A.isJson(e))return;let{action:i,data:t}=e;this.$store.dispatch(i,t)}),this.$Electron.registerMsgListener("browserWindowBlur",e=>{this.$store.state.windowActive=!1}),this.$Electron.registerMsgListener("browserWindowFocus",e=>{this.$store.state.windowActive=!0}),$A.bindScreenshotKey(this.$store.state.cacheKeyboard),this.$Electron.sendMessage("setMenuLanguage",{openInBrowser:this.$L("\u5728\u6D4F\u89C8\u5668\u4E2D\u6253\u5F00"),saveImageAs:this.$L("\u56FE\u7247\u5B58\u50A8\u4E3A..."),copyImage:this.$L("\u590D\u5236\u56FE\u7247"),copyEmailAddress:this.$L("\u590D\u5236\u7535\u5B50\u90AE\u4EF6\u5730\u5740"),copyLinkAddress:this.$L("\u590D\u5236\u94FE\u63A5\u5730\u5740"),copyImageAddress:this.$L("\u590D\u5236\u56FE\u7247\u5730\u5740"),failedToSaveImage:this.$L("\u56FE\u7247\u4FDD\u5B58\u5931\u8D25"),theImageFailedToSave:this.$L("\u56FE\u7247\u65E0\u6CD5\u4FDD\u5B58")}))},eeuiEvents(){!this.$isEEUiApp||(window.__onAppActive=()=>{this.autoTheme()},window.__onPagePause=()=>{this.$store.state.windowActive=!1,this.$store.dispatch("getBasicData",-1)},window.__onPageResume=e=>{this.$store.state.windowActive=!0,e>0?this.$store.dispatch("getBasicData",600):this.autoTheme()},window.__onCreateTarget=e=>{this.$store.dispatch("openAppChildPage",{pageType:"app",pageTitle:" ",url:"web.js",params:{url:e,browser:!0,showProgress:!0}})},window.__onMeetingEvent=({act:e,uuid:i,meetingid:t})=>{switch(e){case"getInfo":const n=(i+"").indexOf("88888")!==-1;this.$store.dispatch("call",{url:n?"users/meeting/tourist":"users/basic",data:{userid:n?i:(i+"").substring(6),tourist_id:i}}).then(({data:s})=>{var r,a;$A.eeuiAppSendMessage({action:"updateMeetingInfo",infos:{uuid:i,avatar:n?s==null?void 0:s.userimg:(r=s[0])==null?void 0:r.userimg,username:n?s==null?void 0:s.nickname:(a=s[0])==null?void 0:a.nickname}})}).catch(({msg:s})=>{$A.modalError(s)});break;case"success":this.$store.dispatch("closeMeetingWindow","add");break;case"invent":this.$store.dispatch("showMeetingWindow",{type:"invitation",meetingid:t});break;case"endMeeting":break;case"error":this.$store.dispatch("closeMeetingWindow","error");break}},window.__onKeyboardStatus=e=>{const i=$A.jsonParse(decodeURIComponent(e));this.$store.state.keyboardType=i.keyboardType,this.$store.state.keyboardHeight=i.keyboardHeight,this.$store.state.safeAreaBottom=i.safeAreaBottom},window.__onNotificationPermissionStatus=e=>{this.$store.state.appNotificationPermission=$A.runNum(e)==1},window.__handleLink=e=>{this.goForward({path:(e||"").indexOf("/")!==0?"/"+e:e})},$A.eeuiAppSetHapticBackEnabled(!1),$A.eeuiAppSetVariate("languageWebBrowser",this.$L("\u6D4F\u89C8\u5668\u6253\u5F00")),$A.eeuiAppSetVariate("languageWebRefresh",this.$L("\u5237\u65B0")))},otherEvents(){if(!this.$isSoftware){const e="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,i=e.replace(/hidden/i,"visibilitychange");document.addEventListener(i,()=>{this.$store.state.windowActive=!document[e]})}}}},Ze={};var Li=O(Mi,Di,xi,!1,Oi,"388b259a",null,null);function Oi(e){for(let i in Ze)this[i]=Ze[i]}var Pi=function(){return Li.exports}(),Ri=[{name:"index",path:"/",component:()=>k(()=>import("./index.3c6eef9b.js"),["js/build/index.3c6eef9b.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"pro",path:"/pro",component:()=>k(()=>import("./pro.286b1fa7.js"),["js/build/pro.286b1fa7.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"meeting",path:"/meeting/:meetingId?/:sharekey?",component:()=>k(()=>import("./meeting.9067e9eb.js"),["js/build/meeting.9067e9eb.js","js/build/MeetingManager.217b258d.js","js/build/le5le-store.b40f9152.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage",path:"/manage",component:()=>k(()=>import("./manage.aa91649e.js"),["js/build/manage.aa91649e.js","js/build/manage.5dc9aad0.css","js/build/vuex.cc7cb26e.js","js/build/CheckinExport.4a92aa74.js","js/build/CheckinExport.68b4950e.css","js/build/tip.c35a0927.js","js/build/ReportEdit.ea3355a5.js","js/build/openpgp_hi.15f91b1d.js","js/build/ReportDetail.aca79da4.js","js/build/index.d3a489a7.js","js/build/le5le-store.b40f9152.js","js/build/TaskDetail.432b93c4.js","js/build/TaskDetail.b1b0fb98.css","js/build/ProjectLog.51347544.js","js/build/DialogWrapper.ba2bc988.js","js/build/DialogWrapper.c6b17693.css","js/build/longpress.5305f240.js","js/build/quill.b985c8ce.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/quill-mention-hi.c7a745b0.js","js/build/vue-jsonp.be27271b.js","js/build/vue-virtual-scroll-list-hi.8d64dcb4.js","js/build/vue.1f6d1fff.js","js/build/ImgUpload.bf375766.js","js/build/view-design-hi.8f621b1c.js","js/build/details.79b667fe.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/axios.6ec123f8.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/TEditor.1f57e16f.js","js/build/tinymce.b77b7085.js","js/build/MeetingManager.217b258d.js","js/build/ApproveExport.2b68ce97.js","js/build/notification-koro1.99b93615.js","js/build/MicroApps.00927100.js"]),children:[{name:"manage-dashboard",path:"dashboard",component:()=>k(()=>import("./dashboard.1b8603d4.js"),["js/build/dashboard.1b8603d4.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-calendar",path:"calendar",component:()=>k(()=>import("./calendar.3ee9bde8.js"),["js/build/calendar.3ee9bde8.js","js/build/vuex.cc7cb26e.js","js/build/tui-date-picker.87c69814.js","js/build/tui-date-picker.9bc23968.css","js/build/tui-time-picker.edd3de9f.js","js/build/tui-time-picker.54a418b9.css","js/build/tui-calendar-hi.8d0bb429.js","js/build/tui-calendar-hi.3658e7fa.css","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/tui-code-snippet.fb458974.js","js/build/moment.ffae26ea.js","js/build/le5le-store.b40f9152.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-messenger",path:"messenger/:dialogAction?",component:()=>k(()=>import("./messenger.95fedb9b.js"),["js/build/messenger.95fedb9b.js","js/build/vuex.cc7cb26e.js","js/build/DialogWrapper.ba2bc988.js","js/build/DialogWrapper.c6b17693.css","js/build/le5le-store.b40f9152.js","js/build/longpress.5305f240.js","js/build/index.d3a489a7.js","js/build/quill.b985c8ce.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/quill-mention-hi.c7a745b0.js","js/build/vue-jsonp.be27271b.js","js/build/vue-virtual-scroll-list-hi.8d64dcb4.js","js/build/vue.1f6d1fff.js","js/build/ImgUpload.bf375766.js","js/build/view-design-hi.8f621b1c.js","js/build/details.79b667fe.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/tip.c35a0927.js"])},{name:"manage-approve",path:"approve",component:()=>k(()=>import("./index.6bd3545e.js"),["js/build/index.6bd3545e.js","js/build/index.7bc962fd.css","js/build/details.79b667fe.js","js/build/ImgUpload.bf375766.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/index.d3a489a7.js","js/build/ApproveExport.2b68ce97.js","js/build/CheckinExport.68b4950e.css"])},{name:"manage-approve-details",path:"approve/details",component:()=>k(()=>import("./details.79b667fe.js"),["js/build/details.79b667fe.js","js/build/ImgUpload.bf375766.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-apps",path:"apps/*",component:()=>k(()=>import("./apps.143e683c.js"),["js/build/apps.143e683c.js","js/build/MicroApps.00927100.js","js/build/vue.1f6d1fff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/DialogWrapper.ba2bc988.js","js/build/DialogWrapper.c6b17693.css","js/build/le5le-store.b40f9152.js","js/build/longpress.5305f240.js","js/build/index.d3a489a7.js","js/build/quill.b985c8ce.js","js/build/quill-mention-hi.c7a745b0.js","js/build/vue-jsonp.be27271b.js","js/build/vue-virtual-scroll-list-hi.8d64dcb4.js","js/build/ImgUpload.bf375766.js","js/build/view-design-hi.8f621b1c.js","js/build/details.79b667fe.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/tip.c35a0927.js"])},{name:"manage-setting",path:"setting",component:()=>k(()=>import("./index.bdd8fda6.js"),["js/build/index.bdd8fda6.js","js/build/index.274f71f0.css","js/build/vuex.cc7cb26e.js","js/build/le5le-store.b40f9152.js","js/build/axios.6ec123f8.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"]),children:[{name:"manage-setting-personal",path:"personal",component:()=>k(()=>import("./personal.c3b1f130.js"),["js/build/personal.c3b1f130.js","js/build/ImgUpload.bf375766.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-checkin",path:"checkin",component:()=>k(()=>import("./checkin.299524b8.js"),["js/build/checkin.299524b8.js","js/build/checkin.01811e2e.css","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-language",path:"language",component:()=>k(()=>import("./language.ec4903b4.js"),["js/build/language.ec4903b4.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-theme",path:"theme",component:()=>k(()=>import("./theme.759d33e1.js"),["js/build/theme.759d33e1.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-keyboard",path:"keyboard",component:()=>k(()=>import("./keyboard.ca0053ac.js"),["js/build/keyboard.ca0053ac.js","js/build/keyboard.b6840672.css","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-license",path:"license",component:()=>k(()=>import("./license.ba27479b.js"),["js/build/license.ba27479b.js","js/build/license.c7d9ffba.css","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-password",path:"password",component:()=>k(()=>import("./password.e37214cb.js"),["js/build/password.e37214cb.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-email",path:"email",component:()=>k(()=>import("./email.9e541772.js"),["js/build/email.9e541772.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-system",path:"system",component:()=>k(()=>import("./system.d2cda3a0.js"),["js/build/system.d2cda3a0.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-setting-delete",path:"delete",component:()=>k(()=>import("./delete.bac92ef8.js"),["js/build/delete.bac92ef8.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])}]},{name:"manage-project-invite",path:"project/invite",component:()=>k(()=>import("./projectInvite.ee9f5d9d.js"),["js/build/projectInvite.ee9f5d9d.js","js/build/projectInvite.d01e3a2d.css","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-project",path:"project/:projectId",component:()=>k(()=>import("./project.3089cdbb.js"),["js/build/project.3089cdbb.js","js/build/vuex.cc7cb26e.js","js/build/vuedraggable.d4178698.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/sortablejs.ccb26b57.js","js/build/ProjectLog.51347544.js","js/build/le5le-store.b40f9152.js","js/build/index.d3a489a7.js","js/build/tip.c35a0927.js","js/build/DialogWrapper.ba2bc988.js","js/build/DialogWrapper.c6b17693.css","js/build/longpress.5305f240.js","js/build/quill.b985c8ce.js","js/build/quill-mention-hi.c7a745b0.js","js/build/vue-jsonp.be27271b.js","js/build/vue-virtual-scroll-list-hi.8d64dcb4.js","js/build/vue.1f6d1fff.js","js/build/ImgUpload.bf375766.js","js/build/view-design-hi.8f621b1c.js","js/build/details.79b667fe.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-file",path:"file/:folderId?/:fileId?",component:()=>k(()=>import("./file.46193160.js"),["js/build/file.46193160.js","js/build/openpgp_hi.15f91b1d.js","js/build/vuex.cc7cb26e.js","js/build/lodash.374d1149.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/index.d3a489a7.js","js/build/longpress.5305f240.js","js/build/tip.c35a0927.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"manage-application",path:"application",component:()=>k(()=>import("./application.be412022.js"),["js/build/application.be412022.js","js/build/vuex.cc7cb26e.js","js/build/index.d3a489a7.js","js/build/CheckinExport.4a92aa74.js","js/build/CheckinExport.68b4950e.css","js/build/tip.c35a0927.js","js/build/ReportEdit.ea3355a5.js","js/build/openpgp_hi.15f91b1d.js","js/build/ReportDetail.aca79da4.js","js/build/checkin.299524b8.js","js/build/checkin.01811e2e.css","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])}]},{name:"single-file-msg",path:"/single/file/msg/:msgId",component:()=>k(()=>import("./fileMsg.c5b6da93.js"),["js/build/fileMsg.c5b6da93.js","js/build/fileMsg.1a0b76dd.css","js/build/openpgp_hi.15f91b1d.js","js/build/vuex.cc7cb26e.js","js/build/IFrame.beb8ae72.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"single-file-task",path:"/single/file/task/:fileId",component:()=>k(()=>import("./fileTask.657b9c20.js"),["js/build/fileTask.657b9c20.js","js/build/fileTask.93338ba0.css","js/build/openpgp_hi.15f91b1d.js","js/build/IFrame.beb8ae72.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"single-file",path:"/single/file/:codeOrFileId",component:()=>k(()=>import("./file.189728eb.js"),["js/build/file.189728eb.js","js/build/file.1cbb23e7.css","js/build/FileContent.6d8ce8ff.js","js/build/FileContent.794c165a.css","js/build/openpgp_hi.15f91b1d.js","js/build/vuex.cc7cb26e.js","js/build/IFrame.beb8ae72.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/FilePreview.5a65e0ec.js"])},{name:"single-task",path:"/single/task/:taskId",component:()=>k(()=>import("./task.0dccd9c2.js"),["js/build/task.0dccd9c2.js","js/build/task.0d7ca2d3.css","js/build/TaskDetail.432b93c4.js","js/build/TaskDetail.b1b0fb98.css","js/build/vuex.cc7cb26e.js","js/build/ProjectLog.51347544.js","js/build/DialogWrapper.ba2bc988.js","js/build/DialogWrapper.c6b17693.css","js/build/le5le-store.b40f9152.js","js/build/longpress.5305f240.js","js/build/index.d3a489a7.js","js/build/quill.b985c8ce.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/quill-mention-hi.c7a745b0.js","js/build/vue-jsonp.be27271b.js","js/build/vue-virtual-scroll-list-hi.8d64dcb4.js","js/build/vue.1f6d1fff.js","js/build/ImgUpload.bf375766.js","js/build/view-design-hi.8f621b1c.js","js/build/details.79b667fe.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/tip.c35a0927.js","js/build/TEditor.1f57e16f.js","js/build/tinymce.b77b7085.js"])},{name:"single-apps",path:"/single/apps/*",component:()=>k(()=>import("./apps.1a2b3504.js"),["js/build/apps.1a2b3504.js","js/build/MicroApps.00927100.js","js/build/vue.1f6d1fff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/DialogWrapper.ba2bc988.js","js/build/DialogWrapper.c6b17693.css","js/build/le5le-store.b40f9152.js","js/build/longpress.5305f240.js","js/build/index.d3a489a7.js","js/build/quill.b985c8ce.js","js/build/quill-mention-hi.c7a745b0.js","js/build/vue-jsonp.be27271b.js","js/build/vue-virtual-scroll-list-hi.8d64dcb4.js","js/build/ImgUpload.bf375766.js","js/build/view-design-hi.8f621b1c.js","js/build/details.79b667fe.js","js/build/jquery.59e618ff.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js","js/build/tip.c35a0927.js"])},{name:"valid-email",path:"/single/valid/email",component:()=>k(()=>import("./validEmail.a5588dc7.js"),["js/build/validEmail.a5588dc7.js","js/build/validEmail.6e361ca9.css","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"report-edit",path:"/single/report/edit/:reportEditId",component:()=>k(()=>import("./reportEdit.3bd51d5b.js"),["js/build/reportEdit.3bd51d5b.js","js/build/reportEdit.5c397123.css","js/build/ReportEdit.ea3355a5.js","js/build/openpgp_hi.15f91b1d.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"report-detail",path:"/single/report/detail/:reportDetailId",component:()=>k(()=>import("./reportDetail.9688746b.js"),["js/build/reportDetail.9688746b.js","js/build/reportDetail.c12bef4b.css","js/build/ReportDetail.aca79da4.js","js/build/vuex.cc7cb26e.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"token",path:"/token",component:()=>k(()=>import("./token.e8dd759d.js"),["js/build/token.e8dd759d.js","js/build/token.7afc4e00.css","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"login",path:"/login",component:()=>k(()=>import("./login.e4f3e917.js"),["js/build/login.e4f3e917.js","js/build/vuex.cc7cb26e.js","js/build/le5le-store.b40f9152.js","js/build/@chenfengyuan.dfd1ecb7.js","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/axios.6ec123f8.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])},{name:"404",path:"*",component:()=>k(()=>import("./404.ed9f8ece.js"),["js/build/404.ed9f8ece.js","js/build/404.d686a01f.css","js/build/@micro-zoe.c2e1472d.js","js/build/jquery.59e618ff.js","js/build/@traptitech.88860da3.js","js/build/katex.4a7ead58.js","js/build/localforage.78abc453.js","js/build/markdown-it.7c737f4d.js","js/build/entities.797c3e49.js","js/build/uc.micro.39573202.js","js/build/mdurl.2f66c031.js","js/build/linkify-it.3ecfda1e.js","js/build/punycode.1f25cbf2.js","js/build/highlight.js.1d50a63d.js","js/build/markdown-it-link-attributes.e1d5d151.js","js/build/vue.1f6d1fff.js","js/build/vuex.cc7cb26e.js","js/build/axios.6ec123f8.js","js/build/le5le-store.b40f9152.js","js/build/openpgp_hi.15f91b1d.js","js/build/vue-router.2d566cd7.js","js/build/vue-clipboard2.14cddeec.js","js/build/clipboard.a5ccae61.js","js/build/view-design-hi.8f621b1c.js","js/build/vuedraggable.d4178698.js","js/build/sortablejs.ccb26b57.js","js/build/vue-resize-observer.f25572a9.js","js/build/element-sea.dea177ef.js","js/build/deepmerge.cecf392e.js","js/build/resize-observer-polyfill.cc119aac.js","js/build/throttle-debounce.7c3948b2.js","js/build/babel-helper-vue-jsx-merge-props.5ed215c3.js","js/build/normalize-wheel.2a034b9f.js","js/build/async-validator.87a1f938.js","js/build/babel-runtime.4773988a.js","js/build/core-js.314b4a1d.js"])}];const ve=$A(window).width(),Ni=$A(window).height(),be=$A.screenOrientation();var Bi={clientId:"",cacheVersion:"v6",windowActive:!0,windowScrollY:0,windowTouch:"ontouchend"in document,windowWidth:ve,windowHeight:Ni,windowOrientation:be,windowLandscape:be==="landscape",windowPortrait:be==="portrait",formLabelPosition:ve>576?"right":"top",formLabelWidth:ve>576?"auto":"",keyboardType:null,keyboardHeight:0,safeAreaBottom:0,appNotificationPermission:!0,audioPlaying:null,routeHistorys:[],routeHistoryLast:{},callAt:[],loads:[],loadDashboardTasks:!1,loadUserBasic:!1,loadProjects:0,loadDialogs:0,loadDialogAuto:!1,loadDialogLatestId:0,floatSpinnerTimer:[],floatSpinnerLoad:0,touchBackInProgress:!1,cacheUserActive:{},cacheUserWait:[],cacheUserBasic:[],cacheDialogs:[],cacheProjects:[],cacheColumns:[],cacheTasks:[],cacheProjectParameter:[],cacheTaskBrowse:[],cacheEmojis:[],cacheServerUrl:"",cacheKeyboard:{},ajaxWsReady:!1,ajaxWsListener:[],ajaxNetworkException:!1,ws:null,wsMsg:{},wsCall:{},wsTimeout:null,wsRandom:0,wsOpenNum:0,wsListener:{},userInfo:{},userId:0,userToken:"",userIsAdmin:!1,userAvatar:{},dialogId:0,dialogMsgId:0,dialogMsgKeep:25,dialogSearchMsgId:0,dialogIns:[],dialogMsgs:[],dialogTodos:[],dialogMsgTops:[],dialogHistory:[],dialogDraftTimer:{},dialogMsgTransfer:{time:0},dialogSseList:[],dialogDroupWordChain:{},dialogGroupVote:{},messengerSearchKey:{dialog:"",contacts:""},readLoadNum:0,readTimeout:null,readWaitData:{},fileLists:[],fileLinks:[],filePackLists:[],projectId:0,projectTotal:0,projectLoad:0,taskId:0,taskCompleteTemps:[],taskContents:[],taskFiles:[],taskLogs:[],taskOperation:{},taskArchiveView:0,taskOneLoad:{},taskFlows:[],taskFlowItems:[],taskPriority:[],columnTemplate:[],columnColorList:[{name:"\u9ED8\u8BA4",color:""},{name:"\u7070\u8272",color:"#999999"},{name:"\u68D5\u8272",color:"#947364"},{name:"\u6A58\u8272",color:"#faaa6c"},{name:"\u9EC4\u8272",color:"#f2d86d"},{name:"\u7EFF\u8272",color:"#73b45c"},{name:"\u84DD\u8272",color:"#51abea"},{name:"\u7D2B\u8272",color:"#b583e3"},{name:"\u7C89\u8272",color:"#ff819c"},{name:"\u7EA2\u8272",color:"#ff7070"}],taskColorList:[{name:"\u9ED8\u8BA4",color:"",primary:""},{name:"\u9EC4\u8272",color:"#fffae6",primary:"#f2d86d"},{name:"\u84DD\u8272",color:"#e5f5ff",primary:"#51abea"},{name:"\u7EFF\u8272",color:"#ecffe5",primary:"#73b45c"},{name:"\u7C89\u8272",color:"#ffeaee",primary:"#ff819c"},{name:"\u7D2B\u8272",color:"#f6ecff",primary:"#b583e3"},{name:"\u7070\u8272",color:"#f3f3f3",primary:"#999999"}],themeConf:window.localStorage.getItem("__system:themeConf__"),themeName:null,themeList:[{name:"\u8DDF\u968F\u7CFB\u7EDF",value:"auto"},{name:"\u660E\u4EAE",value:"light"},{name:"\u6697\u9ED1",value:"dark"}],clientNewVersion:null,previewImageIndex:0,previewImageList:[],reportUnreadNumber:0,apiKeyData:{},localKeyPair:{},localKeyLock:!1,systemConfig:{},approveUnreadNumber:0,meetingWindow:{show:!1,type:"",meetingid:0},okrWindow:{type:"open",model:"details",id:0,show:!1}},Ui={isLoad(e){return function(i){const t=e.loads.find(n=>n.key===i);return!!(t&&t.num>0)}},projectData(e){if(e.projectId>0){let i=e.cacheProjects.find(({id:t})=>t==e.projectId);if(i){let t=e.cacheProjectParameter.find(({project_id:n})=>n==e.projectId);return t||(t=$A.projectParameterTemplate(e.projectId),e.cacheProjectParameter.push(t)),t.menuType===void 0&&(t.menuType="column"),i.cacheParameter=t,i}}return{cacheParameter:{}}},taskData(e){let i=e.taskId;if(i==0&&(i=$A.runNum(window.__taskId)),i>0){window.__taskId=i;const t=e.cacheTasks.find(({id:n})=>n==i);if(t)return t}return{}},transforTasks(e){return function(i){return i.filter(({parent_id:t})=>!(t>0&&i.find(({id:n})=>n==t))).map(t=>{if(t.parent_id>0){const n=e.cacheTasks.find(({id:s})=>s==t.parent_id);return n?Object.assign({},n,{id:t.id,parent_id:t.parent_id,name:t.name,start_at:t.start_at,end_at:t.end_at,complete_at:t.complete_at,_time:t._time,flow_item_id:t.flow_item_id,flow_item_name:t.flow_item_name,flow_item_status:t.flow_item_status,sub_top:!0,sub_my:[]}):Object.assign({},t,{sub_top:!0,sub_my:[]})}else return Object.assign({},t,{sub_top:!1,sub_my:i.filter(({parent_id:n})=>n==t.id)})})}},dashboardTask(e){const i=$A.Date($A.formatDate("Y-m-d 00:00:00")),t=$A.Date($A.formatDate("Y-m-d 23:59:59")),n=$A.Date($A.formatDate("Y-m-d H:i:s")),s=(u,f=!0)=>u.archived_at||u.complete_at&&f===!0?!1:u.owner==1;let r=e.cacheTasks.filter(u=>s(u)),a=0;if(e.taskCompleteTemps.length>0){let u=e.cacheTasks.filter(f=>e.taskCompleteTemps.includes(f.id)&&s(f,!1));u.length>0&&(a=u.length,r=$A.cloneJSON(r),r.push(...u))}const o=r.filter(u=>{const f=$A.Date(u.end_at);return i<=f&&f<=t}),l=r.filter(u=>u.end_at&&$A.Date(u.end_at)<=n),c={today:o,today_count:o.length,overdue:l,overdue_count:l.length,all:r,all_count:r.length};return a>0&&(c.today_count-=o.filter(u=>e.taskCompleteTemps.includes(u.id)).length,c.overdue_count-=l.filter(u=>e.taskCompleteTemps.includes(u.id)).length,c.all_count-=a),c},assistTask(e){const i=(n,s=!0)=>n.archived_at||n.complete_at&&s===!0?!1:n.assist&&n.owner===0;let t=e.cacheTasks.filter(n=>i(n));if(e.taskCompleteTemps.length>0){let n=e.cacheTasks.filter(s=>e.taskCompleteTemps.includes(s.id)&&i(s,!1));n.length>0&&(t=$A.cloneJSON(t),t.push(...n))}return t}};function Fi(e,i,t){$A.isJson(i)||(i={});const n=e+"::"+encodeURIComponent(new URLSearchParams($.sortObject(i,["page","pagesize","timerange"])).toString()),s=t.callAt.find(r=>r.key===n)||{};return typeof s.key=="undefined"&&(s.key=n,s.updated=0,s.deleted=0,t.callAt.push(s),$A.IDBSet("callAt",t.callAt).then(r=>{})),this.get=()=>(i.timerange=i.timerange||`${s.updated?$A.formatDate("Y-m-d H:i:s",s.updated):0},${s.deleted?$A.formatDate("Y-m-d H:i:s",s.deleted):0}`,i),this.save=({total:r,current_page:a,deleted_id:o})=>new Promise(l=>{if(a===1){let c=!1;const u=$A.Time();r>0&&(s.updated=u,c=!0),$A.isArray(o)&&o.length>0?(s.deleted=u,c=!0):o=[],c?$A.IDBSet("callAt",t.callAt).then(f=>l(o)):l(o)}}),this}function Ae(e,i,t){return new Fi(e,i,t)}function Wi(e,i=!0){return e&&(i?e=String(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\n/g,"$"):e=String(e).replace(/\-/g,"+").replace(/\_/g,"/").replace(/\$/g,`
`)),e}const Gi={retry:5,interval:3*1e3};class ji{constructor(i,t=Gi){this.url=i,this.es=null,this.options=t,this.retry=t.retry,this.timer=null}_onOpen(){window.systemInfo.debug==="yes"&&console.log("SSE open: "+this.url)}_onMessage(i,t){return n=>{this.retry=this.options.retry,typeof t=="function"&&t(i,n)}}_onError(i,t){return()=>{window.systemInfo.debug==="yes"&&console.log("SSE retry: "+this.url),this.es&&(this._removeAllEvent(i,t),this.unsunscribe()),this.retry>0&&(this.retry--,this.timer=setTimeout(()=>{this.subscribe(i,t)},this.options.interval))}}_removeAllEvent(i,t){i=$A.isArray(i)?i:[i],this.es.removeEventListener("open",this._onOpen),i.some(n=>{this.es.removeEventListener(n,this._onMessage(n,t))}),this.es.removeEventListener("error",this._onError(i,t))}subscribe(i,t){i=$A.isArray(i)?i:[i],this.es=new EventSource(this.url),this.es.addEventListener("open",this._onOpen),i.some(n=>{this.es.addEventListener(n,this._onMessage(n,t))}),this.es.addEventListener("error",this._onError(i,t))}unsunscribe(){this.es&&(this.es.close(),this.es=null),this.timer&&clearTimeout(this.timer),window.systemInfo.debug==="yes"&&console.log("SSE cancel: "+this.url)}}var zi={init({state:e,dispatch:i}){return new Promise(async t=>{let n=null;const s=await $A.IDBString("clearCache");s&&(s==="handle"&&(n="handleClearCache"),await $A.IDBRemove("clearCache"),await $A.IDBRemove("cacheVersion")),await $A.IDBString("cacheVersion")!==e.cacheVersion&&await i("handleClearCache"),e.clientId=await $A.IDBString("clientId"),e.cacheServerUrl=await $A.IDBString("cacheServerUrl"),e.cacheUserBasic=await $A.IDBArray("cacheUserBasic"),e.cacheDialogs=(await $A.IDBArray("cacheDialogs")).map(l=>Object.assign(l,{loading:!1,extra_draft_has:l.extra_draft_content?1:0})),e.cacheProjects=await $A.IDBArray("cacheProjects"),e.cacheColumns=await $A.IDBArray("cacheColumns"),e.cacheTasks=await $A.IDBArray("cacheTasks"),e.cacheProjectParameter=await $A.IDBArray("cacheProjectParameter"),e.cacheTaskBrowse=await $A.IDBArray("cacheTaskBrowse"),e.dialogMsgs=await $A.IDBArray("dialogMsgs"),e.fileLists=await $A.IDBArray("fileLists"),e.userInfo=await $A.IDBJson("userInfo"),e.callAt=await $A.IDBArray("callAt"),e.cacheEmojis=await $A.IDBArray("cacheEmojis"),e.userInfo.userid&&(e.userId=e.userInfo.userid=$A.runNum(e.userInfo.userid),e.userToken=e.userInfo.token,e.userIsAdmin=$A.inArray("admin",e.userInfo.identity));const a=$A.runNum(window.localStorage.getItem("__system:userId__")),o=window.localStorage.getItem("__system:userToken__")||"";(a||o)&&(!e.userId&&!e.userToken&&(e.userId=a,e.userToken=o),window.localStorage.removeItem("__system:userId__"),window.localStorage.removeItem("__system:userToken__")),e.cacheServerUrl&&(window.systemInfo.apiUrl=e.cacheServerUrl),await i("synchTheme"),await i("handleKeyboard"),e.clientId||(e.clientId=$A.randomString(6),await $A.IDBSet("clientId",e.clientId)),i("call",{url:"users/key/client",data:{client_id:e.clientId},encrypt:!1}).then(({data:l})=>{e.apiKeyData=l}),i("systemSetting"),await $A.loadScriptS(["language/web/key.js",`language/web/${Q}.js`]),t(n)})},call({state:e,dispatch:i},t){var r;$A.isJson(t)||(t={url:t});const n={"Content-Type":"application/json",language:Q,token:e.userToken,fd:$A.getSessionStorageString("userWsFd"),version:window.systemInfo.version||"0.0.1",platform:$A.Platform};if(!e.userToken&&((r=e.meetingWindow)==null?void 0:r.meetingSharekey)&&(n.sharekey=e.meetingWindow.meetingSharekey),$A.isJson(t.header)?t.header=Object.assign(n,t.header):t.header=n,e.systemConfig.e2e_message==="open"&&t.encrypt===void 0&&$A.inArray(t.url,["users/login","users/editpass","users/operation","users/delete/account","system/license","users/bot/*","dialog/msg/*"],!0)&&(t.encrypt=!0),t.encrypt){const a=window.navigator.userAgent;(window.systemInfo.debug==="yes"||/Windows NT 5.1|Windows XP/.test(a)||a.indexOf("Windows NT 6.0")!==-1||a.indexOf("Windows NT 6.1")!==-1||a.indexOf("Windows NT 6.2")!==-1)&&(t.encrypt=!1)}t.url=$A.apiUrl(t.url),t.data=$A.date2string(t.data);const s=$A.cloneJSON(t);return new Promise(async(a,o)=>{if(/^https*:\/\/public\//.test(t.url)){o({ret:-1,data:{},msg:"No server address"});return}const l=[];if(t.encrypt===!0&&(t.data&&e.apiKeyData.type==="pgp"&&(l.push(`encrypt_type=${e.apiKeyData.type};encrypt_id=${e.apiKeyData.id}`),t.method="post",t.data={encrypted:await i("pgpEncryptApi",t.data)}),l.push("client_type=pgp;client_key="+(await i("pgpGetLocalKey")).publicKeyB64)),l.length>0&&(t.header.encrypt=l.join(";")),t.method==="post"&&(t.data=JSON.stringify(t.data)),t.spinner===!0||typeof t.spinner=="number"&&t.spinner>0){const{before:c,complete:u}=t;t.before=()=>{i("showSpinner",typeof t.spinner=="number"?t.spinner:0),typeof c=="function"&&c()},t.complete=()=>{i("hiddenSpinner"),typeof u=="function"&&u()}}if(t.success=async(c,u,f)=>{if(e.ajaxNetworkException=!1,!$A.isJson(c)){console.log(c,u,f),o({ret:-1,data:{},msg:"Return error"});return}t.encrypt===!0&&c.encrypted&&(c=await i("pgpDecryptApi",c.encrypted));const{ret:d,data:h,msg:p}=c;if(d===-1&&(e.userId=0,t.skipAuthError!==!0)){$A.modalError({content:p,onOk:()=>{i("logout")}}),o(c);return}if(d===-2&&t.checkNick!==!1){i("userEditInput","nickname").then(()=>{i("call",s).then(a).catch(o)}).catch(w=>{o({ret:-1,data:h,msg:w||$A.L("\u8BF7\u8BBE\u7F6E\u6635\u79F0\uFF01")})});return}if(d===-3&&t.checkTel!==!1){i("userEditInput","tel").then(()=>{i("call",s).then(a).catch(o)}).catch(w=>{o({ret:-1,data:h,msg:w||$A.L("\u8BF7\u8BBE\u7F6E\u8054\u7CFB\u7535\u8BDD\uFF01")})});return}d===1?a({data:h,msg:p}):(o({ret:d,data:h,msg:p||"Unknown error"}),d===-4001?i("forgetProject",h.project_id):d===-4002?i("forgetTask",h.task_id):d===-4003&&i("forgetDialog",h.dialog_id))},t.error=(c,u)=>{const f=window.navigator.onLine===!1||u===0&&c.readyState===4;if(f&&s.__networkFailureRetry!==!0){setTimeout(d=>{s.__networkFailureRetry=!0,i("call",s).then(a).catch(o)},300);return}t.checkNetwork!==!1&&(e.ajaxNetworkException=f),o(f?{ret:-1001,data:{},msg:"Network exception"}:{ret:-1,data:{},msg:"System error"}),console.error(c,u)},t.websocket===!0){const c=$A.randomString(16),u=setTimeout(()=>{const f=e.ajaxWsListener.find(d=>d.apiWebsocket==c);f&&(f.complete(),f.error("timeout"),f.after()),e.ajaxWsListener=e.ajaxWsListener.filter(d=>d.apiWebsocket!=c)},t.timeout||3e4);e.ajaxWsListener.push({apiWebsocket:c,complete:typeof t.complete=="function"?t.complete:()=>{},success:typeof t.success=="function"?t.success:()=>{},error:typeof t.error=="function"?t.error:()=>{},after:typeof t.after=="function"?t.after:()=>{}}),t.complete=()=>{},t.success=()=>{},t.error=()=>{},t.after=()=>{},t.header["Api-Websocket"]=c,e.ajaxWsReady===!1&&(e.ajaxWsReady=!0,i("websocketMsgListener",{name:"apiWebsocket",callback:f=>{switch(f.type){case"apiWebsocket":clearTimeout(u);const d=f.apiWebsocket,h=f.apiSuccess,p=f.data,w=e.ajaxWsListener.find(g=>g.apiWebsocket==d);w&&(w.complete(),h?w.success(p):w.error(p),w.after()),e.ajaxWsListener=e.ajaxWsListener.filter(g=>g.apiWebsocket!=d);break}}}))}$A.ajaxc(t)})},systemSetting({dispatch:e,state:i}){return new Promise((t,n)=>{switch(i.systemConfig.__state){case"success":t(i.systemConfig);break;case"loading":setTimeout(s=>{e("systemSetting").then(t).catch(n)},100);break;default:i.systemConfig.__state="loading",e("call",{url:"system/setting"}).then(({data:s})=>{i.systemConfig=Object.assign(s,{__state:"success"}),t(i.systemConfig)}).catch(s=>{i.systemConfig.__state="error",n()});break}})},needHome({dispatch:e,state:i}){return new Promise((t,n)=>{if($A.isSoftware){n();return}e("systemSetting").then(s=>{s.start_home==="open"?t():n()}).catch(n)})},downUrl({state:e},i){if(!i)return;let t=i,n=!0;if($A.isJson(i)&&(t=i.url,n=!!i.token),n){let s={token:e.userToken};$A.isJson(i)&&(t=i.url,s=i.params||{}),t=$A.urlAddParams(t,s)}$A.Electron?$A.Electron.request({action:"openExternal",url:t},()=>{},()=>{}):$A.isEEUiApp?$A.eeuiAppOpenWeb(t):window.open(t)},filePos({state:e,dispatch:i},t){if($A.isSubElectron){$A.execMainDispatch("filePos",t),$A.Electron.sendMessage("mainWindowActive");return}i("openTask",0),e.windowPortrait&&i("openDialog",0),$A.goForward({name:"manage-file",params:t})},toggleProjectParameter({state:e},i){$A.execMainDispatch("toggleProjectParameter",i);let t=i,n=null,s=e.projectId;if($A.isJson(i)&&(t=i.key,n=i.value,s=i.project_id),s){let r=e.cacheProjectParameter.findIndex(o=>o.project_id==s);r===-1&&(e.cacheProjectParameter.push($A.projectParameterTemplate(s)),r=e.cacheProjectParameter.findIndex(o=>o.project_id==s));const a=e.cacheProjectParameter[r];$A.isJson(t)||(t={[t]:n||!a[t]}),e.cacheProjectParameter.splice(r,1,Object.assign(a,t)),$A.IDBSave("cacheProjectParameter",e.cacheProjectParameter)}},setTheme({state:e,dispatch:i},t){return new Promise(function(n){if(t===void 0){n(!1);return}if(!$A.dark.utils.supportMode()){$A.isEEUiApp?$A.modalWarning("\u4EC5Android\u8BBE\u7F6E\u652F\u6301\u4E3B\u9898\u529F\u80FD"):$A.modalWarning("\u4EC5\u5BA2\u6237\u7AEF\u6216Chrome\u6D4F\u89C8\u5668\u652F\u6301\u4E3B\u9898\u529F\u80FD"),n(!1);return}i("synchTheme",t),n(!0)})},synchTheme({state:e,dispatch:i},t=void 0){switch(typeof t=="undefined"?t=e.themeConf:e.themeConf=t,t){case"dark":$A.dark.enableDarkMode();break;case"light":$A.dark.disableDarkMode();break;default:e.themeConf="auto",$A.dark.autoDarkMode();break}e.themeName=$A.dark.isDarkEnabled()?"dark":"light",window.localStorage.setItem("__system:themeConf__",e.themeConf),$A.isEEUiApp&&$A.eeuiAppSendMessage({action:"updateTheme",themeName:e.themeName})},getBasicData({state:e,dispatch:i},t){if(typeof t=="number"){window.__getBasicDataTimer&&clearTimeout(window.__getBasicDataTimer),t>-1&&(window.__getBasicDataTimer=setTimeout(r=>i("getBasicData",null),t));return}const n=e.userId+$A.Time();if(window.__getBasicDataKey===n)return;window.__getBasicDataKey=n,i("getProjects").catch(()=>{}),i("getDialogAuto").catch(()=>{}),i("getDialogTodo",0).catch(()=>{}),i("getReportUnread",1e3),i("getApproveUnread",1e3),i("getTaskForDashboard"),i("dialogMsgRead");const s=Object.values(e.userAvatar).map(({userid:r})=>r);[...new Set(s)].some(r=>i("getUserBasic",{userid:r}))},getReportUnread({state:e,dispatch:i},t){window.__getReportUnread&&clearTimeout(window.__getReportUnread),window.__getReportUnread=setTimeout(()=>{e.userId===0?e.reportUnreadNumber=0:i("call",{url:"report/unread"}).then(({data:n})=>{e.reportUnreadNumber=n.total||0}).catch(n=>{})},typeof t=="number"?t:1e3)},getApproveUnread({state:e,dispatch:i},t){window.__getApproveUnread&&clearTimeout(window.__getApproveUnread),window.__getApproveUnread=setTimeout(()=>{e.userId===0?e.approveUnreadNumber=0:i("call",{url:"approve/process/doto"}).then(({data:n})=>{e.approveUnreadNumber=n.total||0}).catch(({msg:n})=>{n.indexOf("404 not found")!==-1&&$A.modalInfo({title:"\u7248\u672C\u8FC7\u4F4E",content:"\u670D\u52A1\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u8BF7\u5347\u7EA7\u670D\u52A1\u5668\u3002"})})},typeof t=="number"?t:1e3)},getUserInfo({dispatch:e}){return new Promise(function(i,t){e("call",{url:"users/info"}).then(n=>{e("saveUserInfo",n.data),i(n)}).catch(n=>{console.warn(n),t(n)})})},saveUserInfoBase({state:e,dispatch:i},t){return new Promise(async n=>{const s=$A.cloneJSON(t);s.userid=$A.runNum(s.userid),s.token=s.userid>0?s.token||e.userToken:"",e.userInfo=s,e.userId=s.userid,e.userToken=s.token,e.userIsAdmin=$A.inArray("admin",s.identity),await $A.IDBSet("userInfo",e.userInfo),$A.eeuiAppSendMessage({action:"userChatList",token:e.userToken,url:$A.apiUrl("../api/users/share/list")+`?token=${e.userToken}`}),$A.eeuiAppSendMessage({action:"userUploadUrl",token:e.userToken,dirUrl:$A.apiUrl("../api/file/content/upload")+`?token=${e.userToken}`,chatUrl:$A.apiUrl("../api/dialog/msg/sendfiles")+`?token=${e.userToken}`}),n()})},saveUserInfo({state:e,dispatch:i},t){return new Promise(async n=>{await i("saveUserInfoBase",t),i("getBasicData",null),e.userId>0&&(e.cacheUserBasic=e.cacheUserBasic.filter(({userid:s})=>s!==e.userId),i("saveUserBasic",e.userInfo)),n()})},getUserBasic({state:e,dispatch:i},t){if(e.loadUserBasic===!0){t&&e.cacheUserWait.push(t);return}let n=$A.Time(),s=$A.cloneJSON(e.cacheUserWait);t&&t.userid&&s.push(t),e.cacheUserWait=[];let r=[],a=0;s.some(o=>{let l=e.cacheUserBasic.find(({userid:c})=>c==o.userid);if(l&&n-l._time<=30)return setTimeout(()=>{e.cacheUserActive=Object.assign(l,{__:Math.random()}),V.Store.set("userActive",{type:"cache",data:l})},a+=5),!1;r.push(o)}),r.length!==0&&(r.length>30&&(e.cacheUserWait=r.slice(30),r=r.slice(0,30)),e.loadUserBasic=!0,i("call",{url:"users/basic",data:{userid:[...new Set(r.map(({userid:o})=>o))]},skipAuthError:!0}).then(o=>{n=$A.Time(),r.forEach(l=>{let c=o.data.find(({userid:u})=>u==l.userid)||Object.assign(l,{email:""});c._time=n,i("saveUserBasic",c)}),e.loadUserBasic=!1,i("getUserBasic")}).catch(o=>{console.warn(o),e.loadUserBasic=!1,i("getUserBasic")}))},saveUserBasic({state:e},i){$A.execMainDispatch("saveUserBasic",i);const t=e.cacheUserBasic.findIndex(({userid:n})=>n==i.userid);t>-1?(i=Object.assign({},e.cacheUserBasic[t],i),e.cacheUserBasic.splice(t,1,i)):e.cacheUserBasic.push(i),e.cacheUserActive=Object.assign(i,{__:Math.random()}),V.Store.set("userActive",{type:"cache",data:i}),$A.IDBSave("cacheUserBasic",e.cacheUserBasic)},userEditInput({dispatch:e},i){return new Promise(function(t,n){let s="";if(i==="nickname")s="\u6635\u79F0";else if(i==="tel")s="\u8054\u7CFB\u7535\u8BDD";else{n("\u53C2\u6570\u9519\u8BEF");return}setTimeout(r=>{$A.modalInput({title:`\u8BBE\u7F6E${s}`,placeholder:`\u8BF7\u8F93\u5165\u60A8\u7684${s}`,okText:"\u4FDD\u5B58",onOk:a=>a?new Promise((o,l)=>{e("call",{url:"users/editdata",data:{[i]:a},checkNick:!1,checkTel:!1}).then(()=>{e("getUserInfo").finally(c=>{o(),t()})}).catch(({msg:c})=>{l(c)})}):`\u8BF7\u8F93\u5165${s}`,onCancel:a=>n})},100)})},logout({state:e,dispatch:i},t=!0){i("handleClearCache",{}).then(()=>{let n=["/","/login"].includes(window.location.pathname)?"":encodeURIComponent(window.location.href);t===!1&&(n=null),$A.goForward({name:"login",query:n?{from:n}:{}},!0)})},handleKeyboard({state:e},i){return new Promise(t=>{window.localStorage.getItem("__system:keyboardConf__")||(window.localStorage.setItem("__system:keyboardConf__",window.localStorage.getItem("__keyboard:data__")),window.localStorage.removeItem("__keyboard:data__"));const n=$A.isJson(i)?i:$A.jsonParse(window.localStorage.getItem("__system:keyboardConf__"))||{};n.screenshot_key=(n.screenshot_key||"").trim().toLowerCase(),n.send_button_app=n.send_button_app||"button",n.send_button_desktop=n.send_button_desktop||"enter",window.localStorage.setItem("__system:keyboardConf__",$A.jsonStringify(n)),e.cacheKeyboard=n,t(n)})},handleClearCache({state:e,dispatch:i},t){return new Promise(async n=>{try{const s=window.localStorage.getItem("__system:themeConf__"),r=window.localStorage.getItem("__system:languageName__"),a=window.localStorage.getItem("__system:keyboardConf__");window.localStorage.clear(),window.localStorage.setItem("__system:themeConf__",s),window.localStorage.setItem("__system:languageName__",r),window.localStorage.setItem("__system:keyboardConf__",a);const o=await $A.IDBString("clientId"),l=await $A.IDBString("cacheServerUrl"),c=await $A.IDBArray("cacheProjectParameter"),u=await $A.IDBString("cacheLoginEmail"),f=await $A.IDBJson("cacheFileSort"),d=await $A.IDBArray("cacheTaskBrowse"),h=await $A.IDBArray("cacheEmojis"),p=await $A.IDBJson("userInfo");await $A.IDBClear(),await $A.IDBSet("clientId",o),await $A.IDBSet("cacheServerUrl",l),await $A.IDBSet("cacheProjectParameter",c),await $A.IDBSet("cacheLoginEmail",u),await $A.IDBSet("cacheFileSort",f),await $A.IDBSet("cacheTaskBrowse",d),await $A.IDBSet("cacheEmojis",h),await $A.IDBSet("cacheVersion",e.cacheVersion),i("saveUserInfoBase",$A.isJson(t)?t:p).then(n)}catch{n()}})},userUrl({state:e},i){return new Promise(t=>{const n=$A.urlAddParams(i,{language:Q,theme:e.themeConf,userid:e.userId,token:e.userToken});t(n)})},openAppChildPage({dispatch:e},i){e("userUrl",i.params.url).then(t=>{i.params.url=t,$A.eeuiAppOpenPage(i)})},openChildWindow({dispatch:e},i){e("userUrl",i.path).then(t=>{$A.Electron.sendMessage("openChildWindow",Object.assign(i,{path:t}))})},openWebTabWindow({dispatch:e},i){if($A.getDomain(i)!=$A.getDomain($A.apiUrl("../"))){$A.Electron.sendMessage("openWebTabWindow",{url:i});return}e("userUrl",i).then(t=>{$A.Electron.sendMessage("openWebTabWindow",{url:t})})},saveFile({state:e,dispatch:i},t){if($A.execMainDispatch("saveFile",t),$A.isArray(t))t.forEach(n=>{i("saveFile",n)});else if($A.isJson(t)){let n={_load:!1,_edit:!1};const s=e.fileLists.findIndex(({id:r})=>r==t.id);s>-1?e.fileLists.splice(s,1,Object.assign(n,e.fileLists[s],t)):e.fileLists.push(Object.assign(n,t)),$A.IDBSave("fileLists",e.fileLists,600)}},forgetFile({state:e,dispatch:i},t){$A.execMainDispatch("forgetFile",t),($A.isArray(t)?t:[t]).some(s=>{e.fileLists=e.fileLists.filter(r=>r.id!=s),e.fileLists.some(r=>{r.pid==s&&i("forgetFile",r.id)}),$A.IDBSave("fileLists",e.fileLists,600)})},packProgress({state:e,dispatch:i},t){$A.execMainDispatch("packProgress",t);const n=e.filePackLists.findIndex(({name:s})=>s==t.name);n>-1?e.filePackLists[n].progress=t.progress:(e.filePackLists.push(t),$A.IDBSave("filePackLists",e.filePackLists,600))},getFiles({state:e,dispatch:i},t){return new Promise(function(n,s){i("call",{url:"file/lists",data:{pid:t}}).then(r=>{const a=r.data.map(({id:o})=>o);e.fileLists=e.fileLists.filter(o=>o.pid!=t||a.includes(o.id)),$A.IDBSave("fileLists",e.fileLists,600),i("saveFile",r.data),n(r)}).catch(r=>{console.warn(r),s(r)})})},searchFiles({state:e,dispatch:i},t){return $A.isJson(t)||(t={key:t}),new Promise(function(n,s){i("call",{url:"file/search",data:t}).then(r=>{i("saveFile",r.data),n(r)}).catch(r=>{console.warn(r),s(r)})})},saveProject({state:e,dispatch:i},t){if($A.execMainDispatch("saveProject",t),$A.isArray(t))t.forEach(n=>{i("saveProject",n)});else if($A.isJson(t)){typeof t.project_column!="undefined"&&(i("saveColumn",t.project_column),delete t.project_column);const n=e.cacheProjects.findIndex(({id:s})=>s==t.id);n>-1?e.cacheProjects.splice(n,1,Object.assign({},e.cacheProjects[n],t)):(typeof t.project_user=="undefined"&&(t.project_user=[]),e.cacheProjects.push(t),e.projectTotal++),e.cacheDialogs.some(s=>{if(s.type=="group"&&s.group_type=="project"&&s.group_info.id==t.id){t.name!==void 0&&(s.name=t.name);for(let r in s.group_info)!s.group_info.hasOwnProperty(r)||t[r]===void 0||(s.group_info[r]=t[r])}}),$A.IDBSave("cacheProjects",e.cacheProjects)}},forgetProject({state:e,dispatch:i},t){$A.execMainDispatch("forgetProject",t);const n=$A.isArray(t)?t:[t];if(n.some(s=>{const r=e.cacheProjects.findIndex(a=>a.id==s);r>-1&&(i("forgetTask",e.cacheTasks.filter(a=>a.project_id==t).map(a=>a.id)),i("forgetColumn",e.cacheColumns.filter(a=>a.project_id==t).map(a=>a.id)),e.cacheProjects.splice(r,1),e.projectTotal=Math.max(0,e.projectTotal-1))}),n.includes(e.projectId)){const s=$A.cloneJSON(e.cacheProjects).sort((r,a)=>r.top_at||a.top_at?$A.Date(a.top_at)-$A.Date(r.top_at):a.id-r.id).find(({id:r})=>r&&r!=t);s?$A.goForward({name:"manage-project",params:{projectId:s.id}}):$A.goForward({name:"manage-dashboard"})}$A.IDBSave("cacheProjects",e.cacheProjects)},getProjects({state:e,dispatch:i,getters:t},n){return new Promise(function(s,r){if(e.userId===0){e.cacheProjects=[],r({msg:"Parameter error"});return}const a=Ae("projects",n,e);setTimeout(()=>{e.loadProjects++},2e3),i("call",{url:"project/lists",data:a.get()}).then(({data:o})=>{e.projectTotal=o.total_all,i("saveProject",o.data),a.save(o).then(l=>i("forgetProject",l)),s(o)}).catch(o=>{console.warn(o),r(o)}).finally(o=>{e.loadProjects--})})},getProjectOne({state:e,dispatch:i},t){return new Promise(function(n,s){if($A.runNum(t)===0){s({msg:"Parameter error"});return}e.projectLoad++,i("call",{url:"project/one",data:{project_id:t}}).then(r=>{setTimeout(()=>{e.projectLoad--},10),i("saveProject",r.data),n(r)}).catch(r=>{console.warn(r),e.projectLoad--,s(r)})})},archivedProject({state:e,dispatch:i},t){return new Promise(function(n,s){if($A.runNum(t)===0){s({msg:"Parameter error"});return}i("call",{url:"project/archived",data:{project_id:t}}).then(r=>{i("forgetProject",t),n(r)}).catch(r=>{console.warn(r),i("getProjectOne",t).catch(()=>{}),s(r)})})},removeProject({state:e,dispatch:i},t){return new Promise(function(n,s){if($A.runNum(t)===0){s({msg:"Parameter error"});return}i("call",{url:"project/remove",data:{project_id:t}}).then(r=>{i("forgetProject",t),n(r)}).catch(r=>{console.warn(r),i("getProjectOne",t).catch(()=>{}),s(r)})})},exitProject({state:e,dispatch:i},t){return new Promise(function(n,s){if($A.runNum(t)===0){s({msg:"Parameter error"});return}i("call",{url:"project/exit",data:{project_id:t}}).then(r=>{i("forgetProject",t),n(r)}).catch(r=>{console.warn(r),i("getProjectOne",t).catch(()=>{}),s(r)})})},saveColumn({state:e,dispatch:i},t){if($A.execMainDispatch("saveColumn",t),$A.isArray(t))t.forEach(n=>{i("saveColumn",n)});else if($A.isJson(t)){const n=e.cacheColumns.findIndex(({id:s})=>s==t.id);n>-1?e.cacheColumns.splice(n,1,Object.assign({},e.cacheColumns[n],t)):e.cacheColumns.push(t),$A.IDBSave("cacheColumns",e.cacheColumns)}},forgetColumn({state:e,dispatch:i},t){$A.execMainDispatch("forgetColumn",t);const n=$A.isArray(t)?t:[t],s=[];n.some(r=>{const a=e.cacheColumns.findIndex(o=>o.id==r);a>-1&&(i("forgetTask",e.cacheTasks.filter(o=>o.column_id==t).map(o=>o.id)),s.push(e.cacheColumns[a].project_id),e.cacheColumns.splice(a,1))}),Array.from(new Set(s)).some(r=>i("getProjectOne",r).catch(()=>{})),$A.IDBSave("cacheColumns",e.cacheColumns)},getColumns({state:e,dispatch:i},t){return new Promise(function(n,s){if(e.userId===0){e.cacheColumns=[],s({msg:"Parameter error"});return}e.projectLoad++,i("call",{url:"project/column/lists",data:{project_id:t}}).then(({data:r})=>{e.projectLoad--;const a=r.data.map(({id:o})=>o);if(e.cacheColumns=e.cacheColumns.filter(o=>o.project_id!=t||a.includes(o.id)),i("saveColumn",r.data),n(r.data),e.cacheColumns.filter(o=>o.project_id==t).length===1){const o=e.cacheProjectParameter.find(l=>l.project_id==t)||{};(typeof o.menuInit=="undefined"||o.menuInit===!1)&&i("toggleProjectParameter",{project_id:t,key:{menuInit:!0,menuType:"table"}})}}).catch(r=>{console.warn(r),e.projectLoad--,s(r)})})},removeColumn({state:e,dispatch:i},t){return new Promise(function(n,s){if($A.runNum(t)===0){s({msg:"Parameter error"});return}i("call",{url:"project/column/remove",data:{column_id:t}}).then(r=>{i("forgetColumn",t),n(r)}).catch(r=>{console.warn(r),s(r)})})},saveTask({state:e,dispatch:i},t){if($A.execMainDispatch("saveTask",t),$A.isArray(t))t.forEach(n=>{i("saveTask",n)});else if($A.isJson(t)){t._time=$A.Time(),t.flow_item_name&&t.flow_item_name.indexOf("|")!==-1&&([t.flow_item_status,t.flow_item_name]=t.flow_item_name.split("|")),typeof t.archived_at!="undefined"&&e.cacheTasks.filter(r=>r.parent_id==t.id).some(r=>{i("saveTask",Object.assign(r,{archived_at:t.archived_at,archived_userid:t.archived_userid}))});let n={};typeof t.update_marking!="undefined"&&(n=$A.isJson(t.update_marking)?t.update_marking:{},delete t.update_marking);const s=e.cacheTasks.findIndex(({id:r})=>r==t.id);s>-1?e.cacheTasks.splice(s,1,Object.assign({},e.cacheTasks[s],t)):e.cacheTasks.push(t),(n.is_update_maintask===!0||t.parent_id>0&&e.cacheTasks.findIndex(({id:r})=>r==t.parent_id)===-1)&&i("getTaskOne",t.parent_id).catch(()=>{}),n.is_update_project===!0&&i("getProjectOne",t.project_id).catch(()=>{}),n.is_update_content===!0&&i("getTaskContent",t.id),n.is_update_subtask===!0&&i("getTaskForParent",t.id).catch(()=>{}),e.cacheDialogs.some(r=>{if(r.name===void 0||r.dialog_delete===1)return!1;if(r.type=="group"&&r.group_type=="task"&&r.group_info.id==t.id){t.name!==void 0&&(r.name=t.name);for(let a in r.group_info)!r.group_info.hasOwnProperty(a)||t[a]===void 0||(r.group_info[a]=t[a])}}),$A.IDBSave("cacheTasks",e.cacheTasks)}},forgetTask({state:e,dispatch:i},t){$A.execMainDispatch("forgetTask",t);const n=($A.isArray(t)?t:[t]).filter(a=>a!=e.taskArchiveView),s=[],r=[];n.some(a=>{const o=e.cacheTasks.findIndex(l=>l.id==a);o>-1&&(e.cacheTasks[o].parent_id&&s.push(e.cacheTasks[o].parent_id),r.push(e.cacheTasks[o].project_id),e.cacheTasks.splice(o,1)),e.cacheTasks.filter(l=>l.parent_id==a).some(l=>{let c=e.cacheTasks.findIndex(u=>u.id==l.id);c>-1&&(r.push(l.project_id),e.cacheTasks.splice(c,1))})}),Array.from(new Set(s)).some(a=>i("getTaskOne",a).catch(()=>{})),Array.from(new Set(r)).some(a=>i("getProjectOne",a).catch(()=>{})),n.includes(e.taskId)&&(e.taskId=0),$A.IDBSave("cacheTasks",e.cacheTasks)},increaseTaskMsgNum({state:e},i){if($A.execMainDispatch("increaseTaskMsgNum",i),!$A.execMainCacheJudge(`increaseTaskMsgNum:${i.id}`)&&i.dialog_id){const t=e.cacheTasks.find(({dialog_id:n})=>n===i.dialog_id);t&&t.msg_num++}},increaseMsgReplyNum({state:e,dispatch:i},t){if($A.execMainDispatch("increaseMsgReplyNum",t),!$A.execMainCacheJudge(`increaseMsgReplyNum:${t.id}`)&&t.reply_id>0){const n=e.dialogMsgs.find(({id:s})=>s==t.reply_id);n&&n.reply_num++}},decrementMsgReplyNum({state:e,dispatch:i},t){if($A.execMainDispatch("decrementMsgReplyNum",t),!$A.execMainCacheJudge(`decrementMsgReplyNum:${t.id}`)&&t.reply_id>0){const n=e.dialogMsgs.find(({id:s})=>s==t.reply_id);n&&n.reply_num--}},getTasks({state:e,dispatch:i},t){t===null&&(t={});const n=Ae("tasks",t,e);return new Promise(function(s,r){if(e.userId===0){e.cacheTasks=[],r({msg:"Parameter error"});return}t.project_id&&e.projectLoad++,i("call",{url:"project/task/lists",data:n.get()}).then(({data:a})=>{t.project_id&&e.projectLoad--,i("saveTask",a.data),n.save(a).then(o=>i("forgetTask",o)),a.next_page_url?(t.page=a.current_page+1,a.current_page%30===0?$A.modalConfirm({content:"\u6570\u636E\u5DF2\u8D85\u8FC7"+a.to+"\u6761\uFF0C\u662F\u5426\u7EE7\u7EED\u52A0\u8F7D\uFF1F",onOk:()=>{i("getTasks",t).then(s).catch(r)},onCancel:()=>{s()}}):i("getTasks",t).then(s).catch(r)):s()}).catch(a=>{console.warn(a),r(a),t.project_id&&e.projectLoad--})})},getTaskOne({state:e,dispatch:i},t){return new Promise(function(n,s){if(/^\d+$/.test(t)&&(t={task_id:t}),$A.runNum(t.task_id)===0){s({msg:"Parameter error"});return}if($A.isArray(e.taskOneLoad[t.task_id])){e.taskOneLoad[t.task_id].push({resolve:n,reject:s});return}e.taskOneLoad[t.task_id]=[],i("call",{url:"project/task/one",data:t}).then(r=>{i("saveTask",r.data),n(r),e.taskOneLoad[t.task_id].some(a=>{a.resolve(r)})}).catch(r=>{console.warn(r),s(r),e.taskOneLoad[t.task_id].some(a=>{a.reject(r)})}).finally(r=>{delete e.taskOneLoad[t.task_id]})})},getTaskForDashboard({state:e,dispatch:i,getters:t},n){if(window.__getTaskForDashboard&&clearTimeout(window.__getTaskForDashboard),typeof n=="number"){n>-1&&(window.__getTaskForDashboard=setTimeout(s=>i("getTaskForDashboard",null),n));return}e.loadDashboardTasks!==!0&&(e.loadDashboardTasks=!0,i("getTasks",null).finally(s=>{e.loadDashboardTasks=!1}))},getTaskForProject({state:e,dispatch:i},t){return new Promise(function(n,s){i("getTasks",{project_id:t}).then(n).catch(s)})},getTaskForParent({state:e,dispatch:i},t){return new Promise(function(n,s){i("getTasks",{parent_id:t}).then(n).catch(s)})},removeTask({state:e,dispatch:i},t){return new Promise(function(n,s){if($A.runNum(t.task_id)===0){s({msg:"Parameter error"});return}i("setLoad",{key:`task-${t.task_id}`,delay:300}),i("call",{url:"project/task/remove",data:t}).then(r=>{e.taskArchiveView=0,i("forgetTask",t.task_id),n(r)}).catch(r=>{console.warn(r),i("getTaskOne",t.task_id).catch(()=>{}),s(r)}).finally(r=>{i("cancelLoad",`task-${t.task_id}`)})})},archivedTask({state:e,dispatch:i},t){return new Promise(function(n,s){if(/^\d+$/.test(t)&&(t={task_id:t}),$A.runNum(t.task_id)===0){s({msg:"Parameter error"});return}i("setLoad",{key:`task-${t.task_id}`,delay:300}),i("call",{url:"project/task/archived",data:t}).then(r=>{i("saveTask",r.data),n(r)}).catch(r=>{console.warn(r),i("getTaskOne",t.task_id).catch(()=>{}),s(r)}).finally(r=>{i("cancelLoad",`task-${t.task_id}`)})})},getTaskContent({state:e,dispatch:i},t){$A.runNum(t)!==0&&i("call",{url:"project/task/content",data:{task_id:t}}).then(n=>{i("saveTaskContent",n.data)}).catch(n=>{console.warn(n)})},saveTaskContent({state:e,dispatch:i},t){if($A.execMainDispatch("saveTaskContent",t),$A.isArray(t))t.forEach(n=>{i("saveTaskContent",n)});else if($A.isJson(t)){const n=e.taskContents.findIndex(({task_id:s})=>s==t.task_id);n>-1?e.taskContents.splice(n,1,Object.assign({},e.taskContents[n],t)):e.taskContents.push(t)}},getTaskFiles({state:e,dispatch:i},t){$A.runNum(t)!==0&&i("call",{url:"project/task/files",data:{task_id:t}}).then(n=>{n.data.forEach(s=>{const r=e.taskFiles.findIndex(({id:a})=>a==s.id);r>-1?e.taskFiles.splice(r,1,s):e.taskFiles.push(s)}),i("saveTask",{id:t,file_num:n.data.length})}).catch(n=>{console.warn(n)})},forgetTaskFile({state:e,dispatch:i},t){($A.isArray(t)?t:[t]).some(s=>{const r=e.taskFiles.findIndex(a=>a.id==s);r>-1&&e.taskFiles.splice(r,1)})},openTask({state:e,dispatch:i},t){let n=t;if($A.isJson(t)&&(t.parent_id>0?n=t.parent_id:n=t.id),$A.isSubElectron){n>0?$A.Electron.sendMessage("updateChildWindow",{name:`task-${n}`,path:`/single/task/${n}`}):$A.Electron.sendMessage("windowClose");return}e.taskArchiveView=n,e.taskId=n,n>0?i("getTaskOne",{task_id:n,archived:"all"}).then(()=>{i("getTaskContent",n),i("getTaskFiles",n),i("getTaskForParent",n).catch(()=>{}),i("saveTaskBrowse",n)}).catch(({msg:s})=>{$A.modalWarning({content:s,onOk:()=>{e.taskId=0}})}):e.taskOperation={}},taskAdd({state:e,dispatch:i},t){return new Promise(function(n,s){const r=$A.cloneJSON($A.date2string(t));$A.isArray(r.column_id)&&(r.column_id=r.column_id.find(a=>a)),i("call",{url:"project/task/add",data:r,method:"post"}).then(a=>{a.data.is_visible===1&&i("addTaskSuccess",a.data),n(a)}).catch(a=>{console.warn(a),s(a)})})},taskAddSub({dispatch:e},i){return new Promise(function(t,n){e("call",{url:"project/task/addsub",data:i}).then(s=>{e("addTaskSuccess",s.data),t(s)}).catch(s=>{console.warn(s),n(s)})})},addTaskSuccess({dispatch:e},i){typeof i.new_column!="undefined"&&(e("saveColumn",i.new_column),delete i.new_column),e("saveTask",i),e("getProjectOne",i.project_id).catch(()=>{})},taskUpdate({state:e,dispatch:i},t){return new Promise(function(n,s){i("taskBeforeUpdate",t).then(({post:r})=>{i("setLoad",{key:`task-${r.task_id}`,delay:300}),i("call",{url:"project/task/update",data:r,method:"post"}).then(a=>{i("saveTask",a.data),n(a)}).catch(a=>{console.warn(a),i("getTaskOne",r.task_id).catch(()=>{}),s(a)}).finally(a=>{i("cancelLoad",`task-${r.task_id}`)})}).catch(s)})},taskBeforeUpdate({state:e,dispatch:i},t){return new Promise(function(n,s){let r=$A.cloneJSON($A.date2string(t)),a="\u6E29\u99A8\u63D0\u793A",o=null;if(typeof r.times!="undefined"){t.times[0]===!1&&(o="\u4F60\u786E\u5B9A\u8981\u53D6\u6D88\u4EFB\u52A1\u65F6\u95F4\u5417\uFF1F");const l=e.cacheTasks.find(({id:c})=>c==r.task_id);a=l.parent_id>0?"\u66F4\u65B0\u5B50\u4EFB\u52A1":"\u66F4\u65B0\u4E3B\u4EFB\u52A1",l&&(l.parent_id>0?r.times[0]&&e.cacheTasks.some(c=>{if(c.id!=l.parent_id)return!1;if(!c.end_at)return o="\u4E3B\u4EFB\u52A1\u6CA1\u6709\u8BBE\u7F6E\u65F6\u95F4\uFF0C\u8BBE\u7F6E\u5B50\u4EFB\u52A1\u5C06\u540C\u6B65\u8BBE\u7F6E\u4E3B\u4EFB\u52A1",!0;let u=$A.Date(r.times[0],!0),f=$A.Date(r.times[1],!0),d=$A.Date(c.start_at,!0),h=$A.Date(c.end_at,!0);if(u<d)return o="\u65B0\u8BBE\u7F6E\u7684\u5B50\u4EFB\u52A1\u5F00\u59CB\u65F6\u95F4\u5728\u4E3B\u4EFB\u52A1\u65F6\u95F4\u4E4B\u5916\uFF0C\u4FEE\u6539\u540E\u5C06\u540C\u6B65\u4FEE\u6539\u4E3B\u4EFB\u52A1",!0;if(f>h)return o="\u65B0\u8BBE\u7F6E\u7684\u5B50\u4EFB\u52A1\u7ED3\u675F\u65F6\u95F4\u5728\u4E3B\u4EFB\u52A1\u65F6\u95F4\u4E4B\u5916\uFF0C\u4FEE\u6539\u540E\u5C06\u540C\u6B65\u4FEE\u6539\u4E3B\u4EFB\u52A1",!0}):e.cacheTasks.some(c=>{if(c.parent_id!=l.id||!c.end_at)return!1;let u=$A.Date(r.times[0],!0),f=$A.Date(r.times[1],!0),d=$A.Date(l.start_at,!0),h=$A.Date(l.end_at,!0),p=$A.Date(c.start_at,!0),w=$A.Date(c.end_at,!0);if(d==p&&h==w)return!1;if(!r.times[0])return o=`\u5B50\u4EFB\u52A1\uFF08${c.name}\uFF09\u5DF2\u8BBE\u7F6E\u65F6\u95F4\uFF0C\u6E05\u9664\u4E3B\u4EFB\u52A1\u65F6\u95F4\u540E\u5C06\u540C\u6B65\u6E05\u9664\u5B50\u4EFB\u52A1\u7684\u65F6\u95F4`,!0;if(u>p)return o=`\u65B0\u8BBE\u7F6E\u7684\u5F00\u59CB\u65F6\u95F4\u5728\u5B50\u4EFB\u52A1\uFF08${c.name}\uFF09\u65F6\u95F4\u4E4B\u5185\uFF0C\u4FEE\u6539\u540E\u5C06\u540C\u6B65\u4FEE\u6539\u5B50\u4EFB\u52A1`,!0;if(f<w)return o=`\u65B0\u8BBE\u7F6E\u7684\u7ED3\u675F\u65F6\u95F4\u5728\u5B50\u4EFB\u52A1\uFF08${c.name}\uFF09\u65F6\u95F4\u4E4B\u5185\uFF0C\u4FEE\u6539\u540E\u5C06\u540C\u6B65\u4FEE\u6539\u5B50\u4EFB\u52A1`,!0}))}if(o===null){n({confirm:!1,post:r});return}$A.modalConfirm({title:a,content:o,onOk:()=>{n({confirm:!0,post:r})},onCancel:()=>{s({msg:!1})}})})},getTaskFlow({state:e,dispatch:i},{task_id:t,project_id:n}){return new Promise(function(s,r){i("call",{url:"project/task/flow",data:{task_id:t,project_id:n||0}}).then(a=>{let o=e.cacheTasks.find(({id:u})=>u==t),{data:l}=a;l.turns.some(u=>{const f=e.taskFlowItems.findIndex(({id:d})=>d==u.id);f>-1?e.taskFlowItems.splice(f,1,u):e.taskFlowItems.push(u),o&&o.flow_item_id==u.id&&o.flow_item_name!=u.name&&e.cacheTasks.filter(({flow_item_id:d})=>d==u.id).some(d=>{i("saveTask",{id:d.id,flow_item_name:`${u.status}|${u.name}`})})}),delete l.turns;const c=e.taskFlows.findIndex(({task_id:u})=>u==l.task_id);c>-1?e.taskFlows.splice(c,1,l):e.taskFlows.push(l),s(a)}).catch(a=>{console.warn(a),r(a)})})},getTaskPriority({state:e,dispatch:i}){return new Promise(function(t,n){i("call",{url:"system/priority"}).then(s=>{e.taskPriority=s.data,t(s)}).catch(s=>{console.warn(s),n(s)})})},getColumnTemplate({state:e,dispatch:i}){return new Promise(function(t,n){i("call",{url:"system/column/template"}).then(s=>{e.columnTemplate=s.data,t(s)}).catch(s=>{console.warn(s),n(s)})})},saveTaskCompleteTemp({state:e},i){/^\d+$/.test(i)&&!e.taskCompleteTemps.includes(i)&&e.taskCompleteTemps.push(i)},forgetTaskCompleteTemp({state:e},i){i===!0?e.taskCompleteTemps=[]:/^\d+$/.test(i)&&(e.taskCompleteTemps=e.taskCompleteTemps.filter(t=>t!=i))},saveTaskBrowse({state:e},i){const t=e.cacheTaskBrowse.findIndex(({id:n})=>n==i);t>-1&&e.cacheTaskBrowse.splice(t,1),e.cacheTaskBrowse.unshift({id:i,userid:e.userId}),e.cacheTaskBrowse.length>200&&e.cacheTaskBrowse.splice(200),$A.IDBSave("cacheTaskBrowse",e.cacheTaskBrowse)},taskDefaultTime({state:e,dispatch:i},t){return new Promise(async n=>{$A.isArray(t)&&(t[0]=await i("taskDefaultStartTime",t[0]),t[1]=await i("taskDefaultEndTime",t[1])),n(t)})},taskDefaultStartTime({state:e},i){return new Promise(t=>{/(\s|^)([0-2]\d):([0-5]\d)(:\d{1,2})*$/.test(i)&&(i=i.replace(/(\s|^)([0-2]\d):([0-5]\d)(:\d{1,2})*$/,"$1"+e.systemConfig.task_default_time[0])),t(i)})},taskDefaultEndTime({state:e},i){return new Promise(t=>{/(\s|^)([0-2]\d):([0-5]\d)(:\d{1,2})*$/.test(i)&&(i=i.replace(/(\s|^)([0-2]\d):([0-5]\d)(:\d{1,2})*$/,"$1"+e.systemConfig.task_default_time[1])),t(i)})},saveDialog({state:e,dispatch:i},t){var n;if($A.execMainDispatch("saveDialog",t),$A.isArray(t))t.forEach(s=>{i("saveDialog",s)});else if($A.isJson(t)){t.id=parseInt(t.id);const s=e.cacheDialogs.findIndex(({id:r})=>r==t.id);if(s>-1){const r=e.cacheDialogs[s],a=t.user_ms,o=r.user_ms||0;a<o&&(typeof t.unread!="undefined"&&delete t.unread,typeof t.unread_one!="undefined"&&delete t.unread_one,typeof t.mention!="undefined"&&delete t.mention,typeof t.mention_ids!="undefined"&&delete t.mention_ids),t.unread_one&&(n=e.dialogMsgs.find(l=>l.id==t.unread_one))!=null&&n.read_at&&delete t.unread_one,t.mention_ids&&(t.mention_ids=t.mention_ids.filter(l=>{var c;return!((c=e.dialogMsgs.find(u=>u.id==l))!=null&&c.read_at)})),e.cacheDialogs.splice(s,1,Object.assign({},r,t))}else e.cacheDialogs.push(t);$A.IDBSave("cacheDialogs",e.cacheDialogs)}},updateDialogLastMsg({state:e,dispatch:i},t){if($A.execMainDispatch("updateDialogLastMsg",t),$A.isArray(t))t.forEach(n=>{i("updateDialogLastMsg",n)});else if($A.isJson(t))if(e.cacheDialogs.findIndex(({id:s})=>s==t.dialog_id)>-1){const s={id:t.dialog_id,last_msg:t,last_at:$A.formatDate("Y-m-d H:i:s")};t.mtype=="tag"&&(s.has_tag=!0),t.mtype=="todo"&&(s.has_todo=!0),t.mtype=="image"&&(s.has_image=!0),t.mtype=="file"&&(s.has_file=!0),t.link&&(s.has_link=!0),i("saveDialog",s)}else i("getDialogOne",t.dialog_id).catch(()=>{})},getDialogAuto({state:e,dispatch:i}){return new Promise(function(t,n){if(e.loadDialogAuto){n({msg:"Loading"});return}setTimeout(s=>{e.loadDialogs++},2e3),e.loadDialogAuto=!0,i("getDialogs").then(t).catch(n).finally(s=>{e.loadDialogs--,e.loadDialogAuto=!1})})},getDialogs({state:e,dispatch:i,getters:t},n){return new Promise(function(s,r){if(e.userId===0){e.cacheDialogs=[],r({msg:"Parameter error"});return}$A.isJson(n)||(n={}),typeof n.page=="undefined"&&(n.page=1),typeof n.pagesize=="undefined"&&(n.pagesize=20);const a=Ae("dialogs",n,e);i("call",{url:"dialog/lists",data:a.get()}).then(({data:o})=>{i("saveDialog",o.data),a.save(o).then(l=>i("forgetDialog",l)),o.current_page===1&&i("getDialogLatestMsgs",o.data.map(({id:l})=>l)),o.next_page_url&&o.current_page<5?(n.page++,i("getDialogs",n).then(s).catch(r)):(s(),i("getDialogUnreads").catch(()=>{}))}).catch(o=>{console.warn(o),r(o)})})},getDialogUnreads({state:e,dispatch:i}){return new Promise(async t=>{const n=await $A.IDBString("dialogUnread"),s="v2:"+$A.formatDate("Y-m-d");if(n==s)return;await $A.IDBSet("dialogUnread",s);const r=$A.cloneJSON(e.cacheDialogs).filter(({last_at:a})=>a).sort((a,o)=>$A.Date(a.last_at)-$A.Date(o.last_at)).find(({id:a})=>a>0);r&&i("call",{url:"dialog/unread",data:{before_at:r.last_at}}).then(({data:a})=>{i("saveDialog",a)}),t()})},getDialogOne({state:e,dispatch:i},t){return new Promise(function(n,s){if($A.runNum(t)===0){s({msg:"Parameter error"});return}i("call",{url:"dialog/one",data:{dialog_id:t}}).then(r=>{i("saveDialog",r.data),n(r)}).catch(r=>{console.warn(r),s(r)})})},getDialogTodo({state:e,dispatch:i},t){i("call",{url:"dialog/todo",data:{dialog_id:t}}).then(({data:n})=>{$A.arrayLength(n)>0?(t>0&&(i("saveDialog",{id:t,todo_num:$A.arrayLength(n)}),e.dialogTodos=e.dialogTodos.filter(s=>s.dialog_id!=t)),i("saveDialogTodo",n)):t>0&&i("saveDialog",{id:t,todo_num:0})}).catch(console.warn)},getDialogMsgTop({state:e,dispatch:i},t){i("call",{url:"dialog/msg/topinfo",data:{dialog_id:t}}).then(({data:n})=>{$A.isJson(n)&&i("saveDialogMsgTop",n)}).catch(console.warn)},openDialog({state:e,dispatch:i},t){return new Promise(n=>{let s,r;$A.isJson(t)&&(s=t.search_msg_id,r=t.dialog_msg_id,t=t.dialog_id),requestAnimationFrame(a=>{e.dialogSearchMsgId=/^\d+$/.test(s)?s:0,e.dialogMsgId=/^\d+$/.test(r)?r:0,e.dialogId=/^\d+$/.test(t)?t:0,n()})})},openDialogUserid({state:e,dispatch:i},t){return new Promise(function(n,s){const r=e.cacheDialogs.find(a=>a.type!=="user"||!a.dialog_user?!1:a.dialog_user.userid===t);if(r){i("openDialog",r.id),n(r);return}i("showSpinner",600),i("call",{url:"dialog/open/user",data:{userid:t}}).then(({data:a})=>{i("saveDialog",a),i("openDialog",a.id),n(a)}).catch(a=>{console.warn(a),s(a)}).finally(a=>{i("hiddenSpinner")})})},forgetDialog({state:e,dispatch:i},t){$A.execMainDispatch("forgetDialog",t);const n=$A.isArray(t)?t:[t];n.some(s=>{const r=e.cacheDialogs.findIndex(a=>a.id==s);r>-1&&(i("forgetDialogMsg",e.dialogMsgs.filter(a=>a.dialog_id==t).map(a=>a.id)),e.cacheDialogs.splice(r,1))}),n.includes(e.dialogId)&&(e.dialogId=0),$A.IDBSave("cacheDialogs",e.cacheDialogs)},saveInDialog({state:e,dispatch:i},t){$A.execMainDispatch("saveInDialog",t);const n=e.dialogIns.findIndex(a=>a.uid==t.uid);n>-1?e.dialogIns.splice(n,1,Object.assign({},e.dialogIns[n],t)):e.dialogIns.push(t);const s=5e3,r=500;if(e.dialogHistory=e.dialogHistory.filter(a=>a!=t.dialog_id),e.dialogHistory.push(t.dialog_id),e.dialogMsgs.length>s&&e.dialogHistory.length>r){const a=e.dialogHistory.slice().reverse(),o=[],l=[];a.forEach(c=>{o.length<r||e.dialogIns.findIndex(u=>u.dialog_id==c)>-1?o.push(c):l.push(c)}),l.length>0&&(e.dialogMsgs=e.dialogMsgs.filter(c=>!l.includes(c.dialog_id)),$A.IDBSave("dialogMsgs",e.dialogMsgs,600)),e.dialogHistory=o}},forgetInDialog({state:e,dispatch:i},t){$A.execMainDispatch("forgetInDialog",t);const n=e.dialogIns.findIndex(s=>s.uid==t);n>-1&&e.dialogIns.splice(n,1)},closeDialog({state:e,dispatch:i},t){if(!/^\d+$/.test(t))return;$A.execMainDispatch("closeDialog",t);const n=e.cacheDialogs.find(r=>r.id==t);n&&(n.extra_draft_has=n.extra_draft_content?1:0);const s=e.dialogMsgs.filter(r=>r.dialog_id==t);if(s.length>e.dialogMsgKeep){const r=s.sort((a,o)=>o.id-a.id).splice(e.dialogMsgKeep).map(a=>a.id);e.dialogMsgs=e.dialogMsgs.filter(a=>!r.includes(a.id)),$A.IDBSave("dialogMsgs",e.dialogMsgs,600)}},saveDialogTodo({state:e,dispatch:i},t){if($A.execMainDispatch("saveDialogTodo",t),$A.isArray(t))t.forEach(n=>{i("saveDialogTodo",n)});else if($A.isJson(t)){const n=e.dialogTodos.findIndex(s=>s.id==t.id);n>-1?e.dialogTodos.splice(n,1,Object.assign({},e.dialogTodos[n],t)):e.dialogTodos.push(t)}},forgetDialogTodoForMsgId({state:e,dispatch:i},t){$A.execMainDispatch("forgetDialogTodoForMsgId",t);const n=e.dialogTodos.findIndex(s=>s.msg_id==t);n>-1&&e.dialogTodos.splice(n,1)},saveDialogMsgTop({state:e,dispatch:i},t){if($A.execMainDispatch("saveDialogMsgTop",t),$A.isArray(t))t.forEach(n=>{i("saveDialogMsgTop",n)});else if($A.isJson(t)){e.dialogMsgTops=e.dialogMsgTops.filter(s=>s.dialog_id!=t.dialog_id);const n=e.dialogMsgTops.findIndex(s=>s.id==t.id);n>-1?e.dialogMsgTops.splice(n,1,Object.assign({},e.dialogMsgTops[n],t)):e.dialogMsgTops.push(t)}},forgetDialogMsgTopForMsgId({state:e,dispatch:i},t){$A.execMainDispatch("forgetDialogMsgTopForMsgId",t);const n=e.dialogMsgTops.findIndex(s=>s.msg_id==t);n>-1&&e.dialogMsgTops.splice(n,1)},saveDialogDraft({state:e,dispatch:i},t){e.dialogDraftTimer[t.id]&&clearInterval(e.dialogDraftTimer[t.id]),e.dialogDraftTimer[t.id]=setTimeout(n=>{e.dialogId!=t.id&&(t.extra_draft_has=t.extra_draft_content?1:0),i("saveDialog",t)},t.extra_draft_content?600:0)},saveDialogMsg({state:e,dispatch:i},t){if($A.execMainDispatch("saveDialogMsg",t),$A.isArray(t))t.forEach(n=>{i("saveDialogMsg",n)});else if($A.isJson(t)){const n=e.dialogMsgs.findIndex(({id:r})=>r==t.id);if(n>-1){const r=e.dialogMsgs[n];r.read_at&&delete t.read_at,t=Object.assign({},r,t),e.dialogMsgs.splice(n,1,t)}else e.dialogMsgs.push(t);$A.IDBSave("dialogMsgs",e.dialogMsgs,600);const s=e.cacheDialogs.find(({id:r})=>r==t.dialog_id);if(s){let r=!1;!t.read_at&&t.userid!=e.userId&&!e.dialogIns.find(({dialog_id:a})=>a==s.id)&&(s.unread_one?s.unread_one=Math.min(s.unread_one,t.id):s.unread_one=t.id,r=!0),s.last_msg&&s.last_msg.id==t.id&&(s.last_msg=Object.assign({},s.last_msg,t),r=!0),r&&i("saveDialog",s)}}},forgetDialogMsg({state:e,dispatch:i},t){$A.execMainDispatch("forgetDialogMsg",t),($A.isArray(t)?t:[t]).some(s=>{const r=e.dialogMsgs.findIndex(a=>a.id==s);if(r>-1){const a=e.dialogMsgs[r];i("decrementMsgReplyNum",a),i("audioStop",$A.getObject(a,"msg.path")),e.dialogMsgs.splice(r,1),$A.IDBSave("dialogMsgs",e.dialogMsgs,600)}}),i("forgetDialogTodoForMsgId",t),i("forgetDialogMsgTopForMsgId",t)},getDialogMsgs({state:e,dispatch:i,getters:t},n){return new Promise((s,r)=>{let a=f=>{},o=f=>{},l=!1,c=!1;typeof n.save_before!="undefined"&&(a=typeof n.save_before=="function"?n.save_before:f=>{},delete n.save_before),typeof n.save_after!="undefined"&&(o=typeof n.save_after=="function"?n.save_after:f=>{},delete n.save_after),typeof n.clear_before!="undefined"&&(l=typeof n.clear_before=="boolean"?n.clear_before:!1,delete n.clear_before),typeof n.spinner!="undefined"&&(c=n.spinner,delete n.spinner);const u=`msg::${n.dialog_id}-${n.msg_id}-${n.msg_type||""}`;if(t.isLoad(u)){r({msg:"Loading"});return}i("setLoad",u),l&&(e.dialogMsgs=e.dialogMsgs.filter(({dialog_id:f})=>f!==n.dialog_id),$A.IDBSave("dialogMsgs",e.dialogMsgs,600)),n.pagesize=25,i("call",{url:"dialog/msg/list",data:n,spinner:c,complete:f=>i("cancelLoad",u)}).then(f=>{a();const d=f.data;if($A.isJson(d.dialog)){const h=d.list.map(({id:p})=>p);e.dialogMsgs=e.dialogMsgs.filter(p=>p.dialog_id!=n.dialog_id||h.includes(p.id)||$A.Time(p.created_at)>=d.time),$A.IDBSave("dialogMsgs",e.dialogMsgs,600),i("saveDialog",d.dialog)}$A.isArray(d.todo)&&(e.dialogTodos=e.dialogTodos.filter(h=>h.dialog_id!=n.dialog_id),i("saveDialogTodo",d.todo)),$A.isJson(d.top)&&i("saveDialogMsgTop",d.top),i("saveDialogMsg",d.list),s(f),o()}).catch(f=>{console.warn(f),r(f)}).finally(f=>{if(n.prev_id){const d=e.dialogMsgs.find(({prev_id:h})=>h==n.prev_id);d&&(d.prev_id=0)}if(n.next_id){const d=e.dialogMsgs.find(({next_id:h})=>h==n.next_id);d&&(d.next_id=0)}})})},getDialogLatestMsgs({state:e,dispatch:i},t=[]){return new Promise(function(n,s){if(e.userId===0){s({msg:"Parameter error"});return}if(!$A.isArray(t)){s({msg:"Parameter is not array"});return}if(t.length===0){n();return}const r=t.slice(5),a=t.slice(0,5);i("call",{method:"post",url:"dialog/msg/latest",data:{dialogs:a.map(o=>{var l;return{id:o,latest_id:((l=e.dialogMsgs.sort((c,u)=>u.id-c.id).find(({dialog_id:c})=>c==o))==null?void 0:l.id)||0}}),take:e.dialogMsgKeep}}).then(({data:o})=>{i("saveDialogMsg",o.data),r.length>0?i("getDialogLatestMsgs",r).then(n).catch(s):n()}).catch(o=>{s(o)})})},dialogMsgRead({state:e,dispatch:i},t){if($A.isJson(t)){if(t.userid==e.userId||t.read_at)return;t.read_at=$A.formatDate(),e.readWaitData[t.id]=e.readWaitData[t.id]||0;const n=e.cacheDialogs.find(({id:s})=>s==t.dialog_id);if(n){let s=!1;if(t.id==n.unread_one&&(n.unread_one=0,s=!0),$A.isArray(n.mention_ids)){const r=n.mention_ids.findIndex(a=>a==t.id);r>-1&&(n.mention_ids.splice(r,1),s=!0)}s&&(i("saveDialog",n),e.readWaitData[t.id]=t.dialog_id)}}clearTimeout(e.readTimeout),e.readTimeout=setTimeout(n=>{if(e.readTimeout=null,e.userId===0||Object.values(e.readWaitData).length===0)return;const s=$A.cloneJSON(e.readWaitData);e.readWaitData={},i("call",{method:"post",url:"dialog/msg/read",data:{id:s}}).then(({data:r})=>{for(const a in s)s.hasOwnProperty(a)&&/^\d+$/.test(s[a])&&e.dialogMsgs.some(o=>{o.dialog_id==s[a]&&o.id>=a&&(o.read_at=$A.formatDate())});i("saveDialog",r)}).catch(r=>{e.readWaitData=s}).finally(r=>{e.readLoadNum++})},50)},dialogMsgMark({state:e,dispatch:i},t){return new Promise((n,s)=>{i("call",{url:"dialog/msg/mark",data:t}).then(r=>{typeof t.after_msg_id!="undefined"&&e.dialogMsgs.some(a=>{a.dialog_id==t.dialog_id&&a.id>=t.after_msg_id&&(a.read_at=$A.formatDate())}),i("saveDialog",r.data),n(r)}).catch(r=>{s(r)})})},streamDialogMsg({state:e,dispatch:i},t){if(/^https*:\/\//i.test(t)||(t=$A.apiUrl(`..${t}`)),e.dialogSseList.find(s=>s.streamUrl==t))return;const n=new ji(t);n.subscribe(["append","replace","done"],(s,r)=>{switch(s){case"append":V.Store.set("dialogMsgChange",{id:r.lastEventId,type:"append",text:r.data});break;case"replace":V.Store.set("dialogMsgChange",{id:r.lastEventId,type:"replace",text:r.data});break;case"done":const a=e.dialogSseList.findIndex(o=>n===o.sse);a>-1&&e.dialogSseList.splice(a,1),n.unsunscribe();break}}),e.dialogSseList.push({sse:n,streamUrl:t,time:$A.Time()}),e.dialogSseList.length>10&&e.dialogSseList.shift().sse.close()},setLoad({state:e,dispatch:i},t){if($A.isJson(t)){setTimeout(s=>{i("setLoad",t.key)},t.delay||0);return}const n=e.loads.find(s=>s.key==t);n?n.num++:e.loads.push({key:t,num:1})},cancelLoad({state:e},i){const t=e.loads.find(n=>n.key==i);t?t.num--:e.loads.push({key:i,num:-1})},showSpinner({state:e},i){const t=$A.randomString(6);e.floatSpinnerTimer.push({id:t,timer:setTimeout(n=>{e.floatSpinnerTimer=e.floatSpinnerTimer.filter(s=>s.id!==t),e.floatSpinnerLoad++},typeof i=="number"?i:0)})},hiddenSpinner({state:e}){const i=e.floatSpinnerTimer.shift();i?clearTimeout(i.timer):e.floatSpinnerLoad--},previewImage({state:e},i){$A.isJson(i)||(i={index:0,list:[i]}),e.previewImageIndex=i.index,e.previewImageList=i.list},audioPlay({state:e,dispatch:i},t){const n=document.getElementById("__audio_play_element__");if(n&&(n.pause(),n.src=null,n.parentNode.removeChild(n)),!t||t===e.audioPlaying){e.audioPlaying=null;return}const s=document.createElement("audio");s.id=e.audioPlayId="__audio_play_element__",s.controls=!1,s.loop=!1,s.volume=1,s.src=e.audioPlaying=t,s.onended=r=>{i("audioStop",s.src)},document.body.appendChild(s),s.play().then(r=>{})},audioStop({state:e},i){const t=document.getElementById("__audio_play_element__");!t||(t.src===i||i===!0)&&(t.pause(),t.src=null,t.parentNode.removeChild(t),e.audioPlaying=null)},websocketConnection({state:e,dispatch:i}){if(clearTimeout(e.wsTimeout),e.ws&&(e.ws.close(),e.ws=null),e.userId===0)return;let t=$A.apiUrl("../ws");t=t.replace("https://","wss://"),t=t.replace("http://","ws://"),t+=`?action=web&token=${e.userToken}&language=${Q}`;const n=$A.openLog,s=$A.randomString(16);e.wsRandom=s,e.ws=new WebSocket(t),e.ws.onopen=async r=>{n&&console.log("[WS] Open",r,$A.formatDate()),e.wsOpenNum++,window.systemInfo.debug!=="yes"&&i("websocketSend",{type:"encrypt",data:{type:"pgp",key:(await i("pgpGetLocalKey")).publicKeyB64}})},e.ws.onclose=async r=>{n&&console.log("[WS] Close",r,$A.formatDate()),e.ws=null,clearTimeout(e.wsTimeout),e.wsTimeout=setTimeout(()=>{s===e.wsRandom&&i("websocketConnection")},3e3)},e.ws.onerror=async r=>{n&&console.log("[WS] Error",r,$A.formatDate()),e.ws=null,clearTimeout(e.wsTimeout),e.wsTimeout=setTimeout(()=>{s===e.wsRandom&&i("websocketConnection")},3e3)},e.ws.onmessage=async r=>{n&&console.log("[WS] Message",r);let a=$A.jsonParse(r.data);a.type==="encrypt"&&a.encrypted&&(a=await i("pgpDecryptApi",a.encrypted));const o=$A.formatMsgBasic(a),{type:l,msgId:c}=o;switch(l){case"open":$A.setSessionStorage("userWsFd",o.data.fd);break;case"receipt":typeof e.wsCall[c]=="function"&&e.wsCall[c](o.body,!0),delete e.wsCall[c];break;case"line":V.Store.set("userActive",{type:"line",data:o.data});break;case"msgStream":i("streamDialogMsg",o.stream_url);break;default:switch(c&&i("websocketSend",{type:"receipt",msgId:c}).catch(u=>{}),e.wsMsg=o,Object.values(e.wsListener).forEach(u=>{if(typeof u=="function")try{u(o)}catch(f){n&&console.log("[WS] Callerr",f)}}),l){case"dialog":(function(u){const{mode:f,silence:d,data:h}=u,{dialog_id:p}=h;switch(f){case"delete":if(i("forgetDialogMsg",h.id),e.cacheDialogs.find(({id:A})=>A==p)){const A={id:p,last_at:h.last_msg&&h.last_msg.created_at,last_msg:h.last_msg};h.update_read?i("call",{url:"dialog/msg/unread",data:{dialog_id:p}}).then(({data:D})=>{i("saveDialog",Object.assign(A,D))}).catch(()=>{}):i("saveDialog",A)}break;case"add":case"chat":if(!e.dialogMsgs.find(({id:A})=>A==h.id)){if(i("increaseTaskMsgNum",h),i("increaseMsgReplyNum",h),f==="chat"||$A.isSubElectron)return;if(h.userid!==e.userId){const A=e.cacheDialogs.find(({id:D})=>D==p);if(A){const D={id:p,unread:A.unread+1,mention:A.mention,user_at:h.user_at,user_ms:h.user_ms};h.mention&&D.mention++,i("saveDialog",D)}}d||V.Store.set("dialogMsgPush",h)}const g=(A,D)=>{if(D>5||e.dialogMsgs.find(({id:L})=>L==A.id)){i("saveDialogMsg",A),i("updateDialogLastMsg",A);return}setTimeout(L=>{g(A,++D)},20)};g(h,0);break;case"update":case"readed":const M=(A,D)=>{if(e.dialogMsgs.find(({id:L})=>L==A.id)){i("saveDialogMsg",A),typeof A.todo!="undefined"&&i("getDialogTodo",p);return}D<=5&&setTimeout(L=>{M(A,++D)},500)};M(h,0);break;case"groupAdd":case"groupJoin":case"groupRestore":i("getDialogOne",h.id).catch(()=>{});break;case"groupUpdate":e.cacheDialogs.find(({id:A})=>A==h.id)&&i("saveDialog",h);break;case"groupExit":case"groupDelete":i("forgetDialog",h.id);break;case"updateTopMsg":i("saveDialog",{id:h.dialog_id,top_msg_id:h.top_msg_id,top_userid:h.top_userid}),i("getDialogMsgTop",p);break}})(o);break;case"project":(function(u){const{action:f,data:d}=u;switch(f){case"add":case"update":case"recovery":i("saveProject",d);break;case"detail":i("getProjectOne",d.id).catch(()=>{}),i("getTaskForProject",d.id).catch(()=>{});break;case"delete":case"archived":i("forgetProject",d.id);break;case"sort":i("getTaskForProject",d.id).catch(()=>{});break}})(o);break;case"projectColumn":(function(u){const{action:f,data:d}=u;switch(f){case"add":case"update":case"recovery":i("saveColumn",d);break;case"delete":i("forgetColumn",d.id);break}})(o);break;case"projectTask":(function(u){const{action:f,data:d}=u;switch(f){case"add":case"restore":i("addTaskSuccess",d);break;case"update":case"archived":case"recovery":i("saveTask",d);break;case"dialog":i("saveTask",d),i("getDialogOne",d.dialog_id).catch(()=>{});break;case"upload":i("getTaskFiles",d.task_id);break;case"filedelete":i("forgetTaskFile",d.id);break;case"delete":i("forgetTask",d.id);break}})(o);break;case"file":(function(u){const{action:f,data:d}=u;switch(f){case"add":case"update":i("saveFile",d);break;case"delete":i("forgetFile",d.id);break;case"compress":i("packProgress",d);break}})(o);break;case"report":(function({action:u}){u=="unreadUpdate"&&i("getReportUnread",1e3)})(o);break;case"approve":(function({action:u}){u=="unread"&&i("getApproveUnread",1e3)})(o);break}break}}},websocketSend({state:e},i){return new Promise((t,n)=>{var l;if(!$A.isJson(i)){n();return}const{type:s,data:r,callback:a}=i;let o;if(!e.ws){typeof a=="function"&&a(null,!1),n();return}typeof a=="function"&&(o=$A.randomString(16),e.wsCall[o]=a);try{(l=e.ws)==null||l.send(JSON.stringify({type:s,msgId:o,data:r})),t()}catch(c){typeof a=="function"&&a(null,!1),n(c)}})},websocketPath({state:e,dispatch:i},t){clearTimeout(e.wsPathTimeout),e.wsPathValue=t,e.wsPathTimeout=setTimeout(()=>{e.wsPathValue==t&&i("websocketSend",{type:"path",data:{path:t}}).catch(n=>{})},1e3)},websocketMsgListener({state:e},i){const{name:t,callback:n}=i;typeof n=="function"?e.wsListener[t]=n:e.wsListener[t]&&delete e.wsListener[t]},websocketClose({state:e}){e.ws&&(e.ws.close(),e.ws=null)},pgpGenerate({state:e}){return new Promise(async i=>{const t=await $t({type:"ecc",curve:"curve25519",passphrase:e.clientId,userIDs:[{name:"doo",email:"admin@admin.com"}]});t.publicKeyB64=Wi(t.publicKey.replace(/\s*-----(BEGIN|END) PGP PUBLIC KEY BLOCK-----\s*/g,"")),i(t)})},pgpGetLocalKey({state:e,dispatch:i}){return new Promise(async t=>{if(e.localKeyPair.privateKey)return t(e.localKeyPair);for(;e.localKeyLock===!0;)await new Promise(n=>setTimeout(n,100));if(e.localKeyPair.privateKey)return t(e.localKeyPair);e.localKeyLock=!0,e.localKeyPair=await i("pgpGenerate"),e.localKeyLock=!1,t(e.localKeyPair)})},pgpEncrypt({state:e,dispatch:i},t){return new Promise(async n=>{$A.isJson(t)||(t={message:t});const s=t.message||t.text,r=t.publicKey||t.key||(await i("pgpGetLocalKey")).publicKey,a=await St({armoredKey:r}),o=await Et({message:await Tt({text:s}),encryptionKeys:a});n(o)})},pgpDecrypt({state:e,dispatch:i},t){return new Promise(async n=>{$A.isJson(t)||(t={encrypted:t});const s=t.encrypted||t.text,r=t.privateKey||t.key||(await i("pgpGetLocalKey")).privateKey,a=await It({privateKey:await Ct({armoredKey:r}),passphrase:t.passphrase||e.clientId}),{data:o}=await Dt({message:await xt({armoredMessage:s}),decryptionKeys:a});n(o)})},pgpEncryptApi({state:e,dispatch:i},t){return new Promise(n=>{t=$A.jsonStringify(t),i("pgpEncrypt",{message:t,publicKey:e.apiKeyData.key}).then(s=>{n(s.replace(/\s*-----(BEGIN|END) PGP MESSAGE-----\s*/g,""))})})},pgpDecryptApi({state:e,dispatch:i},t){return new Promise(n=>{i("pgpDecrypt",{encrypted:`-----BEGIN PGP MESSAGE-----

`+t+`
-----END PGP MESSAGE-----`}).then(s=>{n($A.jsonParse(s))})})},closeMeetingWindow({state:e},i){e.meetingWindow={show:!1,type:i,meetingid:0}},showMeetingWindow({state:e},{type:i,meetingid:t,meetingdisabled:n,meetingSharekey:s}){e.meetingWindow={show:!0,type:i,meetingid:t,meetingdisabled:n,meetingSharekey:s}},openOkr({state:e},i){i>0&&(window.innerWidth<910?$A.goForward({path:"/manage/apps/okr/okrDetails?data="+i}):(e.okrWindow={type:"open",model:"details",show:!0,id:i},setTimeout(()=>{e.okrWindow.show=!1,e.okrWindow.id=0},10)))}},Hi={};S.use(Ee);var Xe=new Ee.Store({state:Bi,getters:Ui,mutations:Hi,actions:zi}),Ki={computed:{...Y(["windowWidth","windowHeight","windowActive","windowScrollY","windowTouch","windowLandscape","windowPortrait","userId","userToken"])}};var Vi=function(){var e=this,i=e.$createElement;return e._self._c,e._e()},Ji=[];const Yi={name:"PageTitle",props:{title:{type:[String,Number],default:""}},data(){return{pagePath:""}},activated(){this.updateTitle()},watch:{title:{handler(){this.initTitle()},immediate:!0}},methods:{initTitle(){this.pagePath=this.$route.path,this.updateTitle()},updateTitle(){if(this.pagePath=="")return;let e=this.title,{title:i}=document;e!==i&&this.pagePath===this.$route.path&&this.setPageTile(e)},setPageTile(e){document.title=e}}},Qe={};var qi=O(Yi,Vi,Ji,!1,Zi,null,null,null);function Zi(e){for(let i in Qe)this[i]=Qe[i]}var Xi=function(){return qi.exports}(),Qi=function(){var e=this,i=e.$createElement,t=e._self._c||i;return e.visible?t("ETooltip",{attrs:{disabled:e.$isEEUiApp||e.windowTouch||e.content=="",content:e.content}},[e.type==="svg"?t("svg",{staticClass:"common-loading",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"common-path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"5","stroke-miterlimit":"10"}})]):t("div",{staticClass:"common-pureing"})]):e._e()},es=[];const ts={name:"Loading",props:{type:{type:String,default:"svg"},content:{type:[String,Number],default:""},delay:{type:Number,default:0}},data(){return{visible:this.delay===0,timer:null}},mounted(){this.delay>0&&(this.timer=setTimeout(e=>{this.visible=!0},this.delay))},beforeDestroy(){this.timer&&clearTimeout(this.timer)}},et={};var ns=O(ts,Qi,es,!1,is,null,null,null);function is(e){for(let i in et)this[i]=et[i]}var ss=function(){return ns.exports}(),rs=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("ETooltip",{attrs:{content:e.tipText,placement:e.placement,effect:e.tooltipTheme,delay:e.delay,disabled:e.$isEEUiApp||e.windowTouch||!e.showTooltip||e.disabled,"max-width":e.tooltipMaxWidth,transfer:""}},[t("span",{ref:"content",staticClass:"common-auto-tip",on:{mouseenter:e.handleTooltipIn,click:e.onClick}},[e.existSlot?[e._t("default")]:[e._v(e._s(e.content))]],2)])},as=[];const os={name:"AutoTip",props:{content:{type:[String,Number],default:""},placement:{default:"bottom"},tooltipTheme:{default:"dark"},tooltipMaxWidth:{type:[String,Number],default:300},delay:{type:Number,default:100},disabled:{type:Boolean,default:!1}},data(){return{showTooltip:!1,tooltipContent:""}},computed:{tipText(){const{content:e,tooltipContent:i}=this;return e||i||""},existSlot(){return!(typeof this.$slots.default=="undefined"||this.$slots.default.length<1)}},methods:{handleTooltipIn(){const e=this.$refs.content;if(!e)return;let i=document.createRange();i.setStart(e,0),i.setEnd(e,e.childNodes.length||0);const t=i.getBoundingClientRect().width;if(this.showTooltip=Math.floor(t)>Math.floor(e.offsetWidth),this.showTooltip&&this.existSlot){const n=this.$slots.default.map(s=>s.text?s.text:s.elm.innerText?s.elm.innerText:"");this.tooltipContent=n.join("")}i=null},onClick(e){this.$emit("on-click",e)}}},tt={};var ls=O(os,rs,as,!1,cs,null,null,null);function cs(e){for(let i in tt)this[i]=tt[i]}var us=function(){return ls.exports}(),ds=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"common-tag-input",class:{focus:e.isFocus},on:{paste:function(n){return e.pasteText(n)},click:e.focus}},[t("Draggable",{attrs:{list:e.disSource,animation:150,tag:"ul",draggable:".column-item"}},e._l(e.disSource,function(n,s){return t("div",{staticClass:"tags-item column-item"},[t("span",{staticClass:"tags-content",on:{click:function(r){return r.stopPropagation(),e.edit(e.disSource,s)}}},[e._v(e._s(n))]),t("span",{staticClass:"tags-del",on:{click:function(r){return r.stopPropagation(),e.delTag(s)}}},[e._v("\xD7")])])}),0),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"myTextarea",staticClass:"tags-input",style:{minWidth:e.minWidth+"px"},attrs:{placeholder:e.tis||e.placeholderText,enterkeyhint:e.enterkeyhint,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.content},on:{keydown:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.downEnter(n)},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"])?null:e.delTag(!1)}],keyup:e.onKeyup,focus:e.onFocus,blur:e.onBlur,input:function(n){n.target.composing||(e.content=n.target.value)}}}),e._v(" "),e.showPlaceholder||e.tis!==""?t("span",{ref:"myPlaceholder",staticClass:"tags-placeholder"},[e._v(e._s(e.tis||e.placeholderText))]):e._e()],1)},fs=[];const hs={name:"TagInput",components:{Draggable:Lt},props:{value:{default:""},cut:{default:","},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{default:""},max:{default:0},enterkeyhint:{type:String,default:""}},data(){var i;const e=[];return this.value&&((i=this.value)==null||i.split(",").forEach(t=>{t&&e.push(t)})),{minWidth:80,tis:"",tisTimeout:null,showPlaceholder:!0,content:"",disSource:e,isFocus:!1,editShow:!1,editData:{index:0,disSource:[],name:""},addRule:{name:[{required:!0,message:this.$L("\u8BF7\u586B\u5199\u540D\u79F0\uFF01"),trigger:"change"}]}}},mounted(){this.wayMinWidth()},watch:{placeholder(){this.wayMinWidth()},value(e){if(e&&typeof e=="string"){let i=[];e==null||e.split(",").forEach(t=>{t&&i.push(t)}),this.disSource=i}},disSource(e){let i="";e.forEach(t=>{i!=""&&(i+=this.cut),i+=t}),this.$emit("input",i),this.$emit("on-change")}},computed:{placeholderText(){return this.disSource.length>0?"":this.placeholder}},methods:{edit(e,i){this.editData.disSource=e,this.editData.index=i,this.editData.name=e[i]+"",$A.modalInput({title:"\u7F16\u8F91",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",okText:"\u786E\u5B9A",value:e[i]+"",onOk:t=>t?(this.editData.name=t,this.editData.disSource[this.editData.index]=t,this.$set(this.disSource,this.editData.index,t),!1):"\u8BF7\u8F93\u5165\u540D\u79F0"})},focus(e){const i=this.$refs.myTextarea;i.focus(e);const{cursor:t}=e||{};if(t){const n=i.value.length;switch(t){case"start":i.setSelectionRange(0,0);break;case"end":i.setSelectionRange(n,n);break;default:i.setSelectionRange(0,n)}}},wayMinWidth(){this.showPlaceholder=!0,this.$nextTick(()=>{this.$refs.myPlaceholder&&(this.minWidth=Math.max(this.minWidth,this.$refs.myPlaceholder.offsetWidth)),setTimeout(()=>{try{this.minWidth=Math.max(this.minWidth,this.$refs.myPlaceholder.offsetWidth),this.showPlaceholder=!1}catch{}$A(this.$refs.myPlaceholder).is(":visible")||this.wayMinWidth()},500)})},pasteText(e){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("text");this.addTag(!1,i)},downEnter(e){e.preventDefault()},onFocus(e){this.isFocus=!0,this.$emit("on-focus",e)},onBlur(e){this.isFocus=!1,this.addTag(!1,this.content),this.$emit("on-blur",e)},onKeyup(e){this.addTag(e,this.content),this.$emit("on-keyup",e),e.keyCode===13&&this.$nextTick(()=>{this.$emit("on-enter",e)})},addTag(e,i){if(e===!1||e.keyCode===13){i.trim()!=""&&this.disSource.indexOf(i.trim())===-1&&this.disSource.push(i.trim()),this.content="";return}if(this.max>0&&this.disSource.length>=this.max){this.content="",this.tis="\u6700\u591A\u53EA\u80FD\u6DFB\u52A0"+this.max+"\u4E2A",clearInterval(this.tisTimeout),this.tisTimeout=setTimeout(()=>{this.tis=""},2e3);return}let t=i.trim(),n=t.length-this.cut.length;t!=""&&t.substring(n)===this.cut&&(t=t.substring(0,n),t.trim()!=""&&this.disSource.indexOf(t.trim())===-1&&this.disSource.push(t.trim()),this.content="")},delTag(e){if(e===!1){if(this.content!=="")return;e=this.disSource.length-1}this.disSource.splice(e,1),this.focus()}}},nt={};var ps=O(hs,ds,fs,!1,gs,null,null,null);function gs(e){for(let i in nt)this[i]=nt[i]}var ms=function(){return ps.exports}(),_s=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"td-action",style:e.tdStyle,attrs:{"data-width":e.width,"data-height":e.height}},[t("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],ref:"action",staticClass:"td-action-container",class:{"td-action-menu":e.menu.length>0},on:{mouseenter:e.handleIn}},[e._t("default"),e._l(e.menu,function(n,s){return n.hidden!==!0?t("ETooltip",{key:s,attrs:{placement:"top",disabled:e.$isEEUiApp||e.windowTouch||!n.title,content:n.title,enterable:!1,"open-delay":600}},[n.children&&n.children.length>0?t("EDropdown",{staticClass:"menu-dropdown",attrs:{size:"medium",trigger:"click"},on:{command:e.onClick}},[n.label?t("a",{style:n.style||{},attrs:{href:n.href||"javascript:void(0)",target:n.target||"_self"}},[e._v(e._s(n.label))]):e.isAliIcon(n.icon)?t("i",{staticClass:"taskfont menu-icon",style:n.style||{},domProps:{innerHTML:e._s(n.icon)}}):t("Icon",{staticClass:"menu-icon",style:n.style||{},attrs:{type:n.icon}}),t("EDropdownMenu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(n.children,function(r,a){return r.hidden!==!0?t("EDropdownItem",{key:a,style:r.style||{},attrs:{command:r.action,disabled:!!r.disabled,divided:!!r.divided}},[t("div",[e._v(e._s(r.title))])]):e._e()}),1)],1):n.label?t("a",{style:n.style||{},attrs:{href:n.href||"javascript:void(0)",target:n.target||"_self"},on:{click:function(r){return e.onClick(n.action)}}},[e._v(e._s(n.label))]):e.isAliIcon(n.icon)?t("i",{staticClass:"taskfont menu-icon",style:n.style||{},domProps:{innerHTML:e._s(n.icon)},on:{click:function(r){return e.onClick(n.action)}}}):t("Icon",{staticClass:"menu-icon",style:n.style||{},attrs:{type:n.icon},on:{click:function(r){return e.onClick(n.action)}}})],1):e._e()})],2)])},ws=[];S.use(Ot);const ys={name:"TableAction",props:{column:{type:Object,default:()=>({})},autoWidth:{type:Boolean,default:!0},minWidth:{type:Number,default:80},align:{type:String,default:""},menu:{type:Array,default:()=>[]}},data(){return{width:0,height:0}},mounted(){this.onUpdate()},activated(){this.onUpdate()},beforeUpdate(){this.onUpdate()},computed:{tdStyle(){const e={},{align:i}=this;switch(i.toLowerCase()){case"left":e.justifyContent="flex-start";break;case"center":e.justifyContent="center";break;case"right":e.justifyContent="flex-end";break}return e}},methods:{isAliIcon(e){return $A.leftExists(e,"&#")},handleIn(){this.$refs.action.offsetWidth!=this.width&&this.onUpdate()},onUpdate(){this.onResize({width:this.$refs.action.offsetWidth,height:this.$refs.action.offsetHeight})},onResize({width:e,height:i}){if(!this.autoWidth)return;$A(".ivu-table-column-"+this.column.__id).each((n,s)=>{let r=$A(s).find(".td-action-container");r.length>0&&(e=Math.max(e,r[0].offsetWidth),i=Math.max(i,r[0].offsetHeight))}),this.width=e,this.height=i;let t=Math.max(this.minWidth,this.width+26);this.column.minWidth&&(t=Math.max(this.column.minWidth,t)),this.column.maxWidth&&(t=Math.min(this.column.maxWidth,t)),t!=this.column.width&&this.$nextTick(()=>{this.$set(this.column,"width",t)})},onClick(e){this.$emit("action",e)}}},it={};var vs=O(ys,_s,ws,!1,bs,null,null,null);function bs(e){for(let i in it)this[i]=it[i]}var As=function(){return vs.exports}(),ks={bind(e,i,t){function n(s){if(e.contains(s.target))return!1;i.expression&&i.value(s)}e.__vueClickOutside__=n,document.addEventListener("click",n)},update(){},unbind(e,i){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}},$s=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"quick-edit",class:[e.alwaysIcon?"quick-always":""]},[e.isEdit?t("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.onClickOut,expression:"onClickOut"}],staticClass:"quick-input"},[e.isTag?t("TagInput",{ref:"input",attrs:{disabled:e.isLoad,enterkeyhint:"done"},on:{"on-keydown":e.onKeydown,"on-blur":e.onBlur},model:{value:e.content,callback:function(n){e.content=n},expression:"content"}}):t("Input",{ref:"input",attrs:{disabled:e.isLoad,parser:e.parser,enterkeyhint:"done"},on:{"on-keydown":e.onKeydown,"on-blur":e.onBlur},model:{value:e.content,callback:function(n){e.content=n},expression:"content"}}),e.isLoad?t("div",{staticClass:"quick-loading"},[t("Loading")],1):e._e()],1):[t("div",{staticClass:"quick-text"},[e._t("default")],2),e.disabled?e._e():t("Icon",{staticClass:"quick-icon",attrs:{type:"ios-create-outline"},on:{click:function(n){return n.stopPropagation(),e.onEdit.apply(null,arguments)}}})]],2)},Ss=[];const Es={name:"QuickEdit",directives:{clickoutside:ks},props:{value:{},autoEdit:{},isTag:{type:Boolean,default:!1},alwaysIcon:{type:Boolean,default:!1},clickOutSide:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},parser:{type:Function}},data(){return{isLoad:!1,isEdit:!1,content:""}},mounted(){this.autoEdit===!0&&this.onEdit()},watch:{autoEdit(e){e===!0&&setTimeout(this.onEdit,0)}},methods:{onEditChange(e){this.isEdit=e,this.$emit("on-edit-change",e)},onEdit(){this.content=this.value,this.onEditChange(!0),this.$nextTick(()=>{this.$refs.input.focus({cursor:"all"})})},onKeydown(e){e.keyCode===13?this.onEnter():e.keyCode===27&&(e.preventDefault(),e.stopPropagation(),this.isEdit=!1,this.isLoad=!1)},onEnter(){if(this.content==this.value){this.onEditChange(!1);return}this.isLoad||(this.isLoad=!0,this.$emit("input",this.content),this.$emit("on-update",this.content,()=>{this.onEditChange(!1),this.isLoad=!1}))},onClickOut(){!this.clickOutSide||this.onEnter()},onBlur(){this.clickOutSide||!this.isEdit||this.onEnter()}}},st={};var Ts=O(Es,$s,Ss,!1,Is,null,null,null);function Is(e){for(let i in st)this[i]=st[i]}var Cs=function(){return Ts.exports}(),Ds={props:{userid:{type:[String,Number],default:""},size:{type:[String,Number],default:"default"},showIcon:{type:Boolean,default:!0},showName:{type:Boolean,default:!1},nameText:{type:String,default:null},borderWitdh:{type:Number,default:0},borderColor:{type:String,default:""},clickOpenDialog:{type:Boolean,default:!1},userResult:{default:null}}},xs=function(){var e=this,i=e.$createElement,t=e._self._c||i;return e.user?t("div",{staticClass:"avatar-wrapper common-avatar",class:{"avatar-pointer":e.clickOpenDialog},on:{click:e.onClickOpen}},[e.showIcon?t("div",{class:e.boxClass,style:e.boxStyle},[t("em",{style:e.spotStyle}),e.showImg?t("EAvatar",{ref:"avatar",class:{"avatar-default":e.isDefault},attrs:{src:e.user.userimg,size:e.avatarSize,error:e.onError}},[t("span",{staticClass:"avatar-char",style:e.spotStyle},[e._v(e._s(e.nickname))])]):t("EAvatar",{staticClass:"avatar-text",attrs:{size:e.avatarSize}},[t("span",{staticClass:"avatar-char",style:e.spotStyle},[e._v(e._s(e.nickname))])])],1):e._e(),e.showName?t("div",{staticClass:"avatar-name",style:e.nameStyle},[e.user.bot?t("div",{staticClass:"taskfont bot"},[e._v("\uE68C")]):e._e(),t("span",[e._v(e._s(e.nameText||e.user.nickname))])]):e._e()]):e._e()},Ms=[];const Ls={name:"UserAvatar",mixins:[Ds],data(){return{user:null,subscribe:null}},mounted(){this.getData(),this.subscribe=V.Store.subscribe("userActive",({type:e,data:i})=>{i.userid==this.userid&&(e==="line"?this.user&&this.$set(this.user,"online",i.online):this.setUser(i))}),this.$store.state.userAvatar[this._uid]=this.$props},beforeDestroy(){this.subscribe&&(this.subscribe.unsubscribe(),this.subscribe=null),this.$store.state.userAvatar[this._uid]!==void 0&&delete this.$store.state.userAvatar[this._uid]},computed:{boxClass(){return{"avatar-box":!0,online:this.$store.state.userId===this.userid||this.user.online||this.isBot,disabled:this.user.disable_at,deleted:this.user.delete_at}},boxStyle(){const e={},{borderWitdh:i,borderColor:t}=this;return i>0&&(e.border=i+"px solid "+(t||"#ffffff")),e},spotStyle(){let{borderWitdh:e,size:i}=this;return i==="default"&&(i=32),e>0&&(i-=e),i==32?{}:{transform:"scale("+Math.min(1.25,i/32)+")"}},nameStyle(){const{showIcon:e}=this,{delete_at:i,disable_at:t}=this.user,n={};return e||(n.marginLeft=0),(i||t)&&(n.opacity=.8,n.textDecoration="line-through"),n},avatarSize(){let{borderWitdh:e,size:i}=this;return i==="default"&&(i=32),e>0?i-e*2:i},showImg(){const{userimg:e}=this.user;return e?!$A.rightExists(e,"/avatar.png"):!1},isDefault(){const{userimg:e}=this.user;return $A.strExists(e,"/avatar")},isBot(){return!!(this.user&&this.user.bot)},nickname(){const{nickname:e}=this.user;if(!e)return"D";let i=e.substring(0,2);return/^[\u4e00-\u9fa5]+$/.test(i)&&(i=i.substring(0,1)),i||"D"}},watch:{userid(){this.getData()}},methods:{getData(){if(!this.$store.state.userId)return;const e=this.$store.state.cacheUserBasic.find(({userid:i})=>i==this.userid);e&&this.setUser(e),this.$store.dispatch("getUserBasic",{userid:this.userid})},setUser(e){try{this.user&&this.user.userimg!=e.userimg&&this.$refs.avatar&&(this.$refs.avatar.$data.isImageExist=!0)}catch{}this.user=e,typeof this.userResult=="function"&&this.userResult(e)},onClickOpen(){this.clickOpenDialog?this.openDialog():this.$emit("open-dialog",this.userid)},openDialog(){this.$store.dispatch("openDialogUserid",this.userid).then(e=>{this.goForward({name:"manage-messenger"})}).catch(({msg:e})=>{$A.modalError(e)})},onError(){return!0}}},rt={};var Os=O(Ls,xs,Ms,!1,Ps,null,null,null);function Ps(e){for(let i in rt)this[i]=rt[i]}var Rs=function(){return Os.exports}(),Ns=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("img",{attrs:{src:e.srcValue,alt:e.alt}})},Bs=[];const Us={name:"ImgView",props:{src:{default:""},alt:{default:""}},computed:{srcValue(){const{src:e}=this;return e.substring(0,10)==="data:image"||e.substring(0,2)==="//"||e.substring(0,7)==="http://"||e.substring(0,8)==="https://"||e.substring(0,6)==="ftp://"||e.substring(0,1)==="/"?e:$A.apiUrl(`../${e}`)}}},at={};var Fs=O(Us,Ns,Bs,!1,Ws,null,null,null);function Ws(e){for(let i in at)this[i]=at[i]}var Gs=function(){return Fs.exports}();function N(e){return parseInt(e,10)||0}const X=typeof window!="undefined"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch);function ot(e){return e?getComputedStyle(e):{}}function fe(e,i){if(e)for(const t in i){let n=i[t];typeof n=="number"&&(n=`${n}px`),e.style[t]=n}return e}var js={name:"Scrollbar",props:{tag:{type:String,default:"div"},className:{type:String,default:""},enableX:{type:Boolean,default:!1},enableY:{type:Boolean,default:!0},hideBar:{type:Boolean,default:!1},minSize:{type:Number,default:20}},data(){return{isReady:!1,scrollingX:!1,scrollingY:!1,moveingX:!1,moveingY:!1,containerWidth:null,containerHeight:null,contentWidth:null,contentHeight:null,contentOverflow:{x:null,y:null},thumbYHeight:null,thumbYTop:null,thumbXWidth:null,thumbXLeft:null,lastScrollTop:0,lastScrollLeft:0,timeouts:{}}},computed:{containerClass(){const e=["scrollbar-container"];return X?e.push("scrollbar-touch"):e.push("scrollbar-desktop"),this.contentWidth>this.containerWidth&&this.contentOverflow.x!=="hidden"&&this.enableX&&e.push("scrollbar-active-x"),this.contentHeight>this.containerHeight&&this.contentOverflow.y!=="hidden"&&this.enableY&&e.push("scrollbar-active-y"),this.scrollingX&&e.push("scrollbar-scrolling-x"),this.scrollingY&&e.push("scrollbar-scrolling-y"),this.moveingX&&e.push("scrollbar-moveing-x"),this.moveingY&&e.push("scrollbar-moveing-y"),(this.hideBar||!this.isReady)&&e.push("scrollbar-hidebar"),e},contentClass({className:e,enableX:i,enableY:t}){const n=["scrollbar-content"];return e&&n.push(e),i||n.push("scrollbar-disable-x"),t||n.push("scrollbar-disable-y"),n}},mounted(){this.$nextTick(()=>{this.updateBase()})},updated(){this.$nextTick(()=>{this.updateGeometry(!1)})},methods:{scrollInfo(){const e=$A(this.$refs.content),i=Math.round(e.innerHeight()),t=e.scrollTop(),n=this.$refs.content.scrollHeight;return{scale:t/(n-i),scrollY:t,scrollE:n-i-t}},scrollElement(){return this.$refs.content},querySelector(e){return this.$refs.content&&this.$refs.content.querySelector(e)},updateBase(){if(X)return;const e=ot(this.$refs.container),i=ot(this.$refs.content);fe(this.$refs.trackX,{left:N(e.paddingLeft)+N(i.marginLeft),right:N(e.paddingRight)+N(i.marginRight),bottom:N(e.paddingBottom)+N(i.marginBottom)}),fe(this.$refs.trackY,{top:N(e.paddingTop)+N(i.marginTop),bottom:N(e.paddingBottom)+N(i.marginBottom),right:N(e.paddingRight)+N(i.marginRight)}),this.contentOverflow={x:i.overflowX,y:i.overflowY}},updateGeometry(e){if(X)return;const i=this.$refs.content;if(!i)return;const t=Math.floor(i.scrollTop),n=i.getBoundingClientRect();this.containerWidth=Math.round(n.width),this.containerHeight=Math.round(n.height),this.contentWidth=i.scrollWidth,this.contentHeight=i.scrollHeight,this.thumbXWidth=Math.max(N(this.containerWidth*this.containerWidth/this.contentWidth),this.minSize),this.thumbXLeft=N(i.scrollLeft*(this.containerWidth-this.thumbXWidth)/(this.contentWidth-this.containerWidth)),this.thumbYHeight=Math.max(N(this.containerHeight*this.containerHeight/this.contentHeight),this.minSize),this.thumbYTop=N(t*(this.containerHeight-this.thumbYHeight)/(this.contentHeight-this.containerHeight)),fe(this.$refs.thumbX,{left:this.thumbXLeft,width:this.thumbXWidth}),fe(this.$refs.thumbY,{top:this.thumbYTop,height:this.thumbYHeight}),e&&(this.scrollingX=this.lastScrollLeft!==i.scrollLeft,this.scrollingY=this.lastScrollTop!==i.scrollTop,this.lastScrollTop=i.scrollTop,this.lastScrollLeft=i.scrollLeft,this.timeouts.scroll&&clearTimeout(this.timeouts.scroll),this.timeouts.scroll=setTimeout(()=>{this.scrollingX=!1,this.scrollingY=!1},1e3))},onContainerMouseMove(){this.windowTouch||setTimeout(()=>{this.isReady||(this.updateGeometry(!0),this.isReady=!0)},300)},onContentScroll(e){this.updateGeometry(!0),this.$emit("on-scroll",e),this.isReady=!0},onContentMouseenter(){this.updateBase(),this.updateGeometry(!1)},onTrackXMouseDown(e){if(X)return;const i=this.$refs.content,t=this.$refs.trackX.getBoundingClientRect(),s=e.pageX-window.scrollX-t.left>this.thumbXLeft?1:-1;i.scrollLeft+=s*this.containerWidth,this.updateGeometry(!0),e.stopPropagation()},onTrackYMouseDown(e){if(X)return;const i=this.$refs.content,t=this.$refs.trackY.getBoundingClientRect(),s=e.pageY-window.scrollY-t.top>this.thumbYTop?1:-1;i.scrollTop+=s*this.containerHeight,this.updateGeometry(!0),e.stopPropagation()},onThumbXMouseDown(e){if(X)return;const i=this.$refs.content,t=i.getBoundingClientRect(),n=i.scrollLeft,s=e.pageX-window.scrollX,r=o=>{const l=o.pageX-s;i.scrollLeft=n+l*this.contentWidth/t.width},a=()=>{this.timeouts.moveX=setTimeout(()=>{this.moveingX=!1},100),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a)};this.moveingX=!0,this.timeouts.moveX&&clearTimeout(this.timeouts.moveX),document.addEventListener("mousemove",r),document.addEventListener("mouseup",a),e.preventDefault(),e.stopPropagation()},onThumbYMouseDown(e){if(X)return;const i=this.$refs.content,t=i.getBoundingClientRect(),n=i.scrollTop,s=e.pageY-window.scrollY,r=o=>{const l=o.pageY-s;i.scrollTop=n+l*this.contentHeight/t.height},a=()=>{this.timeouts.moveY=setTimeout(()=>{this.moveingY=!1},100),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a)};this.moveingY=!0,this.timeouts.moveY&&clearTimeout(this.timeouts.moveY),document.addEventListener("mousemove",r),document.addEventListener("mouseup",a),e.preventDefault(),e.stopPropagation()}},render(e){return e("div",{ref:"container",class:this.containerClass,on:{"~mousemove":this.onContainerMouseMove}},[e(this.tag,{ref:"content",class:this.contentClass,on:{scroll:this.onContentScroll,mouseenter:this.onContentMouseenter}},this.$slots.default),e("div",{ref:"trackX",class:"scrollbar-track-x",on:{mousedown:this.onTrackXMouseDown}},[e("div",{ref:"thumbX",class:"scrollbar-thumb-x",on:{mousedown:this.onThumbXMouseDown}})]),e("div",{ref:"trackY",class:"scrollbar-track-y",on:{mousedown:this.onTrackYMouseDown}},[e("div",{ref:"thumbY",class:"scrollbar-thumb-y",on:{mousedown:this.onThumbYMouseDown}})])])}};const Me=!!(window&&window.process&&window.process.type),Le=window&&window.navigator&&/eeui/i.test(window.navigator.userAgent),Oe=Me||Le,U=$A.urlParameterAll();if(U.language||U.theme||U.userid||U.token){U.language&&window.localStorage.setItem("__system:languageName__",U.language),U.theme&&window.localStorage.setItem("__system:themeConf__",U.language),U.userid&&window.localStorage.setItem("__system:userId__",U.userid),U.token&&window.localStorage.setItem("__system:userToken__",U.token);const e=$A.removeURLParameter(window.location.href,["theme","language","userid","token"]);window.history.replaceState(null,"",e)}S.use(Ee);S.use(pe);S.use(Mt,{config:{autoSetContainer:!0}});S.use(F,{modal:{checkEscClose:!0}});S.component("PageTitle",Xi);S.component("Loading",ss);S.component("AutoTip",us);S.component("TagInput",ms);S.component("TableAction",As);S.component("QuickEdit",Cs);S.component("UserAvatar",Rs);S.component("ImgView",Gs);S.component("Scrollbar",js);S.component("EAvatar",se.exports.Avatar);S.component("ETooltip",se.exports.Tooltip);S.component("EPopover",se.exports.Popover);S.component("EDropdown",se.exports.Dropdown);S.component("EDropdownMenu",se.exports.DropdownMenu);S.component("EDropdownItem",se.exports.DropdownItem);const zs=pe.prototype.push;pe.prototype.push=function(i){return zs.call(this,i).catch(t=>t)};const Se=new pe({mode:Oe&&!/https*:/i.test(window.location.protocol)?"hash":"history",routes:Ri});Oe||(F.LoadingBar.config({color:"#3fcc25",failedColor:"#ff0000"}),Se.beforeEach((e,i,t)=>{F.LoadingBar._timer&&clearTimeout(F.LoadingBar._timer),F.LoadingBar._timer=setTimeout(n=>{F.LoadingBar._load=!0,F.LoadingBar.start()},300),t()}),Se.afterEach(()=>{F.LoadingBar._timer&&clearTimeout(F.LoadingBar._timer),F.LoadingBar._load===!0&&(F.LoadingBar._load=!1,F.LoadingBar.finish())}));S.prototype.goForward=function(e,i){typeof e=="string"&&(e={name:e}),C.$store.state.routeHistorys.length===0&&C.$store.state.routeHistorys.push(C.$route),i===!0?C.$router.replace(e).then(t=>{C.$store.state.routeHistorys.pop(),C.$store.state.routeHistorys.push(t)}).catch(t=>{}):C.$router.push(e).then(t=>{const n=C.$store.state.routeHistorys.push(t);n>120&&C.$store.state.routeHistorys.splice(n-100),C.$store.state.routeHistoryLast=n>=2?C.$store.state.routeHistorys[n-2]:{}}).catch(t=>{})};S.prototype.goBack=function(){if(C.$store.state.routeHistorys.length>1){C.$router.back(),C.$store.state.routeHistorys.pop();const e=C.$store.state.routeHistorys.length;C.$store.state.routeHistoryLast=e>=2?C.$store.state.routeHistorys[e-2]:{}}else C.$router.replace({path:"/"}).catch(e=>{}),C.$store.state.routeHistorys=[],C.$store.state.routeHistoryLast={}};$A.L=Te;$A.Electron=null;$A.Platform="web";$A.isMainElectron=!1;$A.isSubElectron=!1;$A.isEEUiApp=Le;$A.isElectron=Me;$A.isSoftware=Oe;$A.openLog=!1;Me?($A.Electron=electron,$A.Platform=/macintosh|mac os x/i.test(navigator.userAgent)?"mac":"win",$A.isMainElectron=/\s+MainTaskWindow\//.test(window.navigator.userAgent),$A.isSubElectron=/\s+SubTaskWindow\//.test(window.navigator.userAgent)):Le&&($A.Platform=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"ios":"android");$A.execMainDispatch=(e,i)=>{$A.isSubElectron&&$A.Electron.sendMessage("sendForwardMain",{channel:"dispatch",data:{action:e,data:i}})};window.execMainCacheData={};$A.execMainCacheJudge=e=>{const i=window.execMainCacheData[e]||!1;return window.execMainCacheData[e]=!0,i};$A.bindScreenshotKey=e=>{let i="";const t=(e.screenshot_key||"").trim().toLowerCase();t&&(i=/macintosh|mac os x/i.test(navigator.userAgent)?"command":"ctrl",i=`${i}+shift+${t.toLowerCase()}`),$A.Electron.sendMessage("bindScreenshotKey",{key:i})};S.prototype.$A=$A;S.prototype.$L=Te;S.prototype.$Electron=$A.Electron;S.prototype.$Platform=$A.Platform;S.prototype.$isMainElectron=$A.isMainElectron;S.prototype.$isSubElectron=$A.isSubElectron;S.prototype.$isEEUiApp=$A.isEEUiApp;S.prototype.$isSoftware=$A.isSoftware;S.config.productionTip=!1;S.mixin(Ki);let C;Xe.dispatch("init").then(e=>{Pt(),C=new S({router:Se,store:Xe,render:i=>i(Pi),template:"<App/>"}).$mount("#app"),$A.goForward=C.goForward,$A.goBack=C.goBack,$A.Message=C.$Message,$A.Notice=C.$Notice,$A.Modal=C.$Modal,e==="handleClearCache"&&$A.messageSuccess("\u6E05\u9664\u6210\u529F")});export{Gs as I,Ut as M,Qn as N,Wn as P,di as T,_i as U,Nt as a,Er as b,ks as c,Sr as d,Bi as e,Bt as f,bn as g,Q as l,Ds as m,O as n,Tn as p,Xe as s,$e as t};
